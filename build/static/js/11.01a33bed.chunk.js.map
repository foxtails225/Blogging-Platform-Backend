{"version":3,"sources":["../node_modules/@material-ui/core/esm/Icon/Icon.js","../node_modules/@material-ui/icons/Share.js","../node_modules/@material-ui/icons/AddPhotoAlternate.js","components/CustomIcon.tsx","../node_modules/@material-ui/icons/BookmarkBorderOutlined.js","../node_modules/@material-ui/icons/Send.js","../node_modules/@material-ui/icons/AttachFile.js","views/post/PostView/Reactions.tsx","views/post/PostView/Comment.tsx","views/post/PostView/CommentAdd.tsx","views/post/PostView/index.tsx"],"names":["Icon","React","props","ref","classes","className","_props$color","color","_props$component","component","Component","_props$fontSize","fontSize","other","_objectWithoutProperties","_extends","clsx","root","concat","capitalize","muiName","withStyles","theme","userSelect","typography","pxToRem","width","height","overflow","flexShrink","colorPrimary","palette","primary","main","colorSecondary","secondary","colorAction","action","active","colorError","error","colorDisabled","disabled","fontSizeInherit","fontSizeSmall","fontSizeLarge","name","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","_default","createElement","d","useStyles","makeStyles","textAlign","icon","display","CustomIcon","alt","src","alignItems","div","flexDirection","position","float","top","left","likedButton","colors","red","likedIcon","padding","spacing","commentBox","marginTop","breakpoints","down","marginLeft","marginRight","iconBox","commentIcon","grey","Reactions","post","comments","isBookmarked","onBookmarked","rest","useAuth","user","isAuthenticated","useState","isLiked","setLiked","liked","count","likes","setLikes","setDisabled","useEffect","_id","author","users","forEach","item","updateLiked","a","params","postId","axios","put","updateSaved","path","Tooltip","title","disableTouchListener","disableHoverListener","IconButton","onClick","prevLikes","Typography","variant","Box","size","initialStatus","reply","disable","marginBottom","bubble","borderRadius","shape","header","flexWrap","replybtn","replyIcon","replyClickIcon","small","large","Comment","commentId","comment","depth","onReply","useTheme","match","useMediaQuery","status","setStatus","style","Avatar","RouterLink","avatar","to","flexGrow","p","ml","bgcolor","mb","Link","Button","id","event","keys","includes","currentTarget","startIcon","moment","createdAt","fromNow","inputContainer","paddingBottom","paddingLeft","paddingRight","paddingTop","divider","fileInput","CommentAdd","onFetch","enqueueSnackbar","useSnackbar","fileInputRef","useRef","setValue","handleClick","slug","parent","message","handleAttach","current","click","Paper","Input","disableUnderline","fullWidth","multiline","rows","onChange","persist","target","length","Divider","edge","type","initialReply","backgroundColor","background","dark","margin","minHeight","chip","box","content","fontFamily","disclosure","PostView","history","useHistory","location","useLocation","matches","setPost","setComments","setReply","setBookmarked","handleFetch","pathname","split","get","response","data","isBookmark","push","handleBookmark","handleReply","Page","mt","Grid","container","xs","md","tags","map","tag","Chip","key","symbol","label","parse","Fragment","my"],"mappings":"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","file":"static/js/11.01a33bed.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      userSelect: 'none',\n      fontSize: theme.typography.pxToRem(24),\n      width: '1em',\n      height: '1em',\n      // Chrome fix for https://bugs.chromium.org/p/chromium/issues/detail?id=820541\n      // To remove at some point.\n      overflow: 'hidden',\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"action\"`. */\n    colorAction: {\n      color: theme.palette.action.active\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `color=\"disabled\"`. */\n    colorDisabled: {\n      color: theme.palette.action.disabled\n    },\n\n    /* Styles applied to the root element if `fontSize=\"inherit\"`. */\n    fontSizeInherit: {\n      fontSize: 'inherit'\n    },\n\n    /* Styles applied to the root element if `fontSize=\"small\"`. */\n    fontSizeSmall: {\n      fontSize: theme.typography.pxToRem(20)\n    },\n\n    /* Styles applied to the root element if `fontSize=\"large\"`. */\n    fontSizeLarge: {\n      fontSize: theme.typography.pxToRem(36)\n    }\n  };\n};\nvar Icon = /*#__PURE__*/React.forwardRef(function Icon(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'inherit' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      _props$fontSize = props.fontSize,\n      fontSize = _props$fontSize === void 0 ? 'default' : _props$fontSize,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"fontSize\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx('material-icons', classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], fontSize !== 'default' && classes[\"fontSize\".concat(capitalize(fontSize))]),\n    \"aria-hidden\": true,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Icon.propTypes = {\n  /**\n   * The name of the icon font ligature.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary', 'action', 'error', 'disabled']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.\n   */\n  fontSize: PropTypes.oneOf(['inherit', 'default', 'small', 'large'])\n} : void 0;\nIcon.muiName = 'Icon';\nexport default withStyles(styles, {\n  name: 'MuiIcon'\n})(Icon);","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z\"\n}), 'Share');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z\"\n}), 'AddPhotoAlternate');\n\nexports.default = _default;","import React, { FC } from 'react';\r\nimport { Icon, makeStyles } from '@material-ui/core';\r\n\r\ninterface CustomIconProps {\r\n  src: string;\r\n  [key: string]: any;\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    textAlign: 'center'\r\n  },\r\n  icon: {\r\n    display: 'flex',\r\n    height: 'inherit',\r\n    width: 'inherit'\r\n  }\r\n}));\r\n\r\nconst CustomIcon: FC<CustomIconProps> = props => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Icon classes={{ root: classes.root }} fontSize=\"small\">\r\n      <img\r\n        alt=\"Custom Icon\"\r\n        className={classes.icon}\r\n        src={props.src}\r\n        {...props}\r\n      />\r\n    </Icon>\r\n  );\r\n};\r\n\r\nexport default CustomIcon;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z\"\n}), 'BookmarkBorderOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"\n}), 'AttachFile');\n\nexports.default = _default;","import React, { FC, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport axios from 'src/utils/axios';\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n  colors,\r\n  makeStyles\r\n} from '@material-ui/core';\r\nimport BookmarkBorderOutlinedIcon from '@material-ui/icons/BookmarkBorderOutlined';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport { MessageCircle as MessageCircleIcon } from 'react-feather';\r\nimport CustomIcon from 'src/components/CustomIcon';\r\nimport useAuth from 'src/hooks/useAuth';\r\nimport { Bookmark } from 'src/types/bookmark';\r\nimport { Post } from 'src/types/post';\r\nimport { Theme } from 'src/theme';\r\n\r\ninterface ReactionsProps {\r\n  className?: string;\r\n  post: Post;\r\n  comments: number;\r\n  isBookmarked: boolean;\r\n  onBookmarked: (param: boolean) => void;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  div: {\r\n    flexDirection: 'column',\r\n    position: 'sticky',\r\n    float: 'left',\r\n    top: '45vh',\r\n    left: '10vw'\r\n  },\r\n  likedButton: {\r\n    color: colors.red[600]\r\n  },\r\n  likedIcon: {\r\n    padding: theme.spacing(1)\r\n  },\r\n  commentBox: {\r\n    marginTop: theme.spacing(3),\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginTop: theme.typography.pxToRem(6),\r\n      marginLeft: theme.spacing(2),\r\n      marginRight: theme.spacing(1)\r\n    }\r\n  },\r\n  iconBox: {\r\n    marginTop: theme.spacing(1),\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginTop: theme.typography.pxToRem(2)\r\n    }\r\n  },\r\n  commentIcon: {\r\n    color: colors.grey[700]\r\n  }\r\n}));\r\n\r\nconst Reactions: FC<ReactionsProps> = ({\r\n  className,\r\n  post,\r\n  comments,\r\n  isBookmarked,\r\n  onBookmarked,\r\n  ...rest\r\n}) => {\r\n  const classes = useStyles();\r\n  const { user, isAuthenticated } = useAuth();\r\n  const [isLiked, setLiked] = useState<boolean>(false);\r\n  const [likes, setLikes] = useState<number>(post.liked.count);\r\n  const [disabled, setDisabled] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    //@ts-ignore\r\n    isAuthenticated && user._id === post.author._id && setDisabled(true);\r\n    !isAuthenticated && setDisabled(true);\r\n  }, [user, isAuthenticated, post.author]);\r\n\r\n  useEffect(() => {\r\n    isAuthenticated &&\r\n      post.liked.users.forEach(item => item === user._id && setLiked(true));\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [post.liked.users]);\r\n\r\n  const updateLiked = async (): Promise<void> => {\r\n    const params = { postId: post._id, isLiked: !isLiked };\r\n    await axios.put<{ post: Post }>('/posts/liked', params);\r\n  };\r\n\r\n  const updateSaved = async (): Promise<void> => {\r\n    const params = { postId: post._id };\r\n    const path = isBookmarked ? 'delete' : 'create';\r\n    await axios.post<{ bookmark: Bookmark }>(`/bookmarks/${path}`, params);\r\n  };\r\n\r\n  const handleLike = (): void => {\r\n    setLiked(true);\r\n    setLikes(prevLikes => prevLikes + 1);\r\n    updateLiked();\r\n  };\r\n\r\n  const handleUnlike = (): void => {\r\n    setLiked(false);\r\n    setLikes(prevLikes => prevLikes - 1);\r\n    updateLiked();\r\n  };\r\n\r\n  const handleSaved = (): void => {\r\n    onBookmarked(true);\r\n    updateSaved();\r\n  };\r\n\r\n  const handleUnsaved = (): void => {\r\n    onBookmarked(false);\r\n    updateSaved();\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(classes.root, classes[className])} {...rest}>\r\n      {isLiked ? (\r\n        <Tooltip\r\n          title=\"Unlike\"\r\n          disableTouchListener\r\n          disableHoverListener={disabled}\r\n        >\r\n          <span>\r\n            <IconButton\r\n              className={clsx(classes.likedButton, classes.likedIcon)}\r\n              onClick={handleUnlike}\r\n              disabled={disabled}\r\n            >\r\n              <CustomIcon src=\"/static/icons/trending_filled.svg\" />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n      ) : (\r\n        <Tooltip\r\n          title=\"Like\"\r\n          disableTouchListener\r\n          disableHoverListener={disabled}\r\n        >\r\n          <span>\r\n            <IconButton\r\n              className={classes.likedIcon}\r\n              onClick={handleLike}\r\n              disabled={disabled}\r\n            >\r\n              <CustomIcon src=\"/static/icons/trending_outlined.svg\" />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n      )}\r\n      <Typography color=\"textSecondary\" variant=\"h6\">\r\n        {likes}\r\n      </Typography>\r\n      <Box className={classes.commentBox}>\r\n        <MessageCircleIcon className={classes.commentIcon} size=\"20\" />\r\n      </Box>\r\n      <Typography color=\"textSecondary\" variant=\"h6\">\r\n        {comments}\r\n      </Typography>\r\n      <Box className={classes.iconBox}>\r\n        {isBookmarked ? (\r\n          <Tooltip\r\n            title=\"Unsaved\"\r\n            disableTouchListener\r\n            disableHoverListener={disabled}\r\n          >\r\n            <span>\r\n              <IconButton\r\n                className={classes.likedButton}\r\n                onClick={handleUnsaved}\r\n                disabled={disabled}\r\n              >\r\n                <BookmarkBorderOutlinedIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n        ) : (\r\n          <Tooltip\r\n            title=\"Saved\"\r\n            disableTouchListener\r\n            disableHoverListener={disabled}\r\n          >\r\n            <span>\r\n              <IconButton onClick={handleSaved} disabled={disabled}>\r\n                <BookmarkBorderOutlinedIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n        )}\r\n      </Box>\r\n      <Box className={classes.iconBox}>\r\n        <span>\r\n          <IconButton disabled={disabled}>\r\n            <ShareIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </span>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nReactions.propTypes = {\r\n  className: PropTypes.string,\r\n  // @ts-ignore\r\n  post: PropTypes.object.isRequired,\r\n  isBookmarked: PropTypes.bool,\r\n  onBookmarked: PropTypes.func\r\n};\r\n\r\nexport default Reactions;\r\n","import React, { FC, useState, useEffect } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport {\n  Avatar,\n  Box,\n  Link,\n  Button,\n  Typography,\n  useTheme,\n  useMediaQuery,\n  makeStyles,\n  colors\n} from '@material-ui/core';\nimport { MessageCircle as MessageCircleIcon } from 'react-feather';\nimport { Theme } from 'src/theme';\nimport { User } from 'src/types/user';\nimport { CommentsWithUser, ReplyWithUser } from 'src/types/comment';\n\ninterface CommentProps {\n  className?: string;\n  user: User;\n  reply: string;\n  depth?: number;\n  commentId?: string;\n  comment: CommentsWithUser | ReplyWithUser;\n  onReply: (id: string, depth: number, cid: string) => void;\n}\n\ninterface Status {\n  reply: boolean;\n  disable: boolean;\n}\n\nconst initialStatus = {\n  reply: false,\n  disable: true\n};\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    display: 'flex',\n    marginBottom: theme.spacing(2)\n  },\n  bubble: {\n    borderRadius: theme.shape.borderRadius\n  },\n  header: {\n    [theme.breakpoints.down('sm')]: {\n      flexWrap: 'wrap'\n    }\n  },\n  name: {\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  replybtn: {\n    marginRight: theme.spacing(1)\n  },\n  replyIcon: {\n    color: colors.grey[700]\n  },\n  replyClickIcon: {\n    color: colors.red[700]\n  },\n  small: {\n    width: theme.spacing(4),\n    height: theme.spacing(4)\n  },\n  large: {\n    width: theme.spacing(5),\n    height: theme.spacing(5)\n  }\n}));\n\nconst Comment: FC<CommentProps> = ({\n  className,\n  user,\n  commentId,\n  comment,\n  depth,\n  reply,\n  onReply,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const match = useMediaQuery(theme.breakpoints.down('sm'));\n  const [status, setStatus] = useState<Status>(initialStatus);\n  const style = {\n    marginLeft: theme.typography.pxToRem((match ? 10 : 20) * depth)\n  };\n\n  useEffect(() => {\n    if (user) {\n      const value = reply === comment._id && comment.user._id !== user._id;\n      const disable = comment.user._id === user._id;\n      setStatus({ reply: value, disable });\n    }\n  }, [reply, comment, user]);\n\n  const handleClick = (event): void => {\n    const depth = Object.keys(comment).includes('depth')\n      ? //@ts-ignore\n        comment.depth + 1\n      : 1;\n\n    onReply(event.currentTarget.id, depth, commentId);\n  };\n\n  return (\n    <div className={clsx(classes.root, className)} style={style} {...rest}>\n      <Avatar\n        alt=\"Person\"\n        component={RouterLink}\n        src={comment.user.avatar}\n        className={clsx(match ? classes.small : classes.large)}\n        to=\"#\"\n      />\n      <Box\n        flexGrow={1}\n        p={2}\n        ml={2}\n        bgcolor=\"background.dark\"\n        className={classes.bubble}\n      >\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          className={classes.header}\n          mb={1}\n        >\n          <Box className={classes.name}>\n            <Link\n              color=\"textPrimary\"\n              component={RouterLink}\n              to=\"#\"\n              variant=\"h6\"\n            >\n              {comment.user.name}\n            </Link>\n          </Box>\n          <Box flexGrow={1} />\n          <Button\n            id={comment._id}\n            size=\"small\"\n            className={classes.replybtn}\n            onClick={handleClick}\n            disabled={status.disable}\n            startIcon={\n              <MessageCircleIcon\n                size=\"20\"\n                className={\n                  status.reply ? classes.replyClickIcon : classes.replyIcon\n                }\n              />\n            }\n          >\n            Reply\n          </Button>\n          <Typography color=\"textSecondary\" variant=\"caption\">\n            {moment(comment.createdAt).fromNow()}\n          </Typography>\n        </Box>\n        <Typography variant=\"body1\" color=\"textPrimary\">\n          {comment.comment}\n        </Typography>\n      </Box>\n    </div>\n  );\n};\n\nComment.propTypes = {\n  className: PropTypes.string,\n  // @ts-ignore\n  comment: PropTypes.object.isRequired,\n  onReply: PropTypes.func\n};\n\nexport default Comment;\n","import React, { useRef, useState, FC, ChangeEvent } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSnackbar } from 'notistack';\nimport {\n  Avatar,\n  Divider,\n  IconButton,\n  Input,\n  Paper,\n  Tooltip,\n  useTheme,\n  useMediaQuery,\n  makeStyles\n} from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport AddPhotoIcon from '@material-ui/icons/AddPhotoAlternate';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport axios from 'src/utils/axios';\nimport useAuth from 'src/hooks/useAuth';\nimport { Theme } from 'src/theme';\nimport { Comments } from 'src/types/comment';\nimport { Post } from 'src/types/post';\n\ninterface ReplyStatus {\n  value: string | null;\n  depth: number;\n  commentId: string | null;\n}\n\ninterface CommentAddProps {\n  className?: string;\n  post?: Post;\n  reply: ReplyStatus;\n  onFetch?: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    alignItems: 'center',\n    display: 'flex',\n    [theme.breakpoints.down('sm')]: {\n      flexWrap: 'wrap'\n    }\n  },\n  inputContainer: {\n    flexGrow: 1,\n    marginLeft: theme.spacing(2),\n    paddingBottom: theme.spacing(0.5),\n    paddingLeft: theme.spacing(0.5),\n    paddingRight: theme.spacing(0.5),\n    paddingTop: theme.spacing(0.5),\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  divider: {\n    height: 24,\n    width: 1\n  },\n  fileInput: {\n    display: 'none'\n  }\n}));\n\nconst CommentAdd: FC<CommentAddProps> = ({\n  className,\n  post,\n  reply,\n  onFetch,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const { user } = useAuth();\n  const { enqueueSnackbar } = useSnackbar();\n  const theme = useTheme();\n  const match = useMediaQuery(theme.breakpoints.down('sm'));\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const [value, setValue] = useState<string>('');\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    event.persist();\n    setValue(event.target.value);\n  };\n\n  const handleClick = async () => {\n    try {\n      if (!reply.value) {\n        const params = { slug: post.slug, post: post._id, comment: value };\n        await axios.post<{ comment: Comments }>('/comments/create', params);\n      } else {\n        const params = {\n          parent: reply.value,\n          commentId: reply.commentId,\n          comment: value,\n          depth: reply.depth\n        };\n\n        await axios.post<{ comment: Comments }>(\n          '/comments/reply/create',\n          params\n        );\n      }\n      setValue('');\n    } catch (err) {\n      err.message &&\n        enqueueSnackbar(err.message, {\n          variant: 'error'\n        });\n    }\n    onFetch();\n  };\n\n  const handleAttach = (): void => {\n    fileInputRef.current.click();\n  };\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      {match ?? <Avatar alt=\"Person\" src={user ? user.avatar : ''} />}\n      <Paper className={classes.inputContainer} variant=\"outlined\">\n        <Input\n          value={value}\n          disableUnderline\n          fullWidth\n          multiline\n          rows={3}\n          onChange={handleChange}\n        />\n      </Paper>\n      <Tooltip title=\"Send\">\n        <span>\n          <IconButton\n            color={value.length > 0 ? 'primary' : 'default'}\n            onClick={handleClick}\n            disabled={value === ''}\n          >\n            <SendIcon />\n          </IconButton>\n        </span>\n      </Tooltip>\n      <Divider className={classes.divider} />\n      <Tooltip title=\"Attach image\">\n        <IconButton edge=\"end\" onClick={handleAttach}>\n          <AddPhotoIcon />\n        </IconButton>\n      </Tooltip>\n      <Tooltip title=\"Attach file\">\n        <IconButton edge=\"end\" onClick={handleAttach}>\n          <AttachFileIcon />\n        </IconButton>\n      </Tooltip>\n      <input className={classes.fileInput} ref={fileInputRef} type=\"file\" />\n    </div>\n  );\n};\n\nCommentAdd.propTypes = {\n  className: PropTypes.string\n};\n\nexport default CommentAdd;\n","import React, { FC, useState, useEffect } from 'react';\r\nimport { useHistory, useLocation, Link as RouterLink } from 'react-router-dom';\r\nimport parse from 'html-react-parser';\r\nimport moment from 'moment';\r\nimport {\r\n  Paper,\r\n  Box,\r\n  Grid,\r\n  Avatar,\r\n  Typography,\r\n  Chip,\r\n  Divider,\r\n  Link,\r\n  useTheme,\r\n  useMediaQuery,\r\n  makeStyles,\r\n  colors\r\n} from '@material-ui/core';\r\nimport axios from 'src/utils/axios';\r\nimport useAuth from 'src/hooks/useAuth';\r\nimport { Theme } from 'src/theme';\r\nimport { Post, Tag } from 'src/types/post';\r\nimport { Comments, CommentsWithUser, ReplyWithUser } from 'src/types/comment';\r\nimport Page from 'src/components/Page';\r\nimport Reactions from './Reactions';\r\nimport Comment from './Comment';\r\nimport CommentAdd from './CommentAdd';\r\n\r\ninterface ReplyStatus {\r\n  value: string | null;\r\n  depth: number;\r\n  commentId: string | null;\r\n}\r\n\r\nconst initialReply: ReplyStatus = {\r\n  value: null,\r\n  depth: 0,\r\n  commentId: null\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    margin: '0 auto',\r\n    width: '80%',\r\n    minHeight: '100%',\r\n    paddingTop: theme.spacing(3),\r\n    paddingBottom: theme.spacing(3),\r\n    [theme.breakpoints.down('sm')]: {\r\n      width: '100%'\r\n    }\r\n  },\r\n  chip: {\r\n    marginLeft: theme.spacing(1),\r\n    marginTop: theme.spacing(1)\r\n  },\r\n  box: {\r\n    padding: theme.spacing(7),\r\n    flexGrow: 1,\r\n    [theme.breakpoints.down('sm')]: {\r\n      padding: theme.spacing(3)\r\n    }\r\n  },\r\n  author: {\r\n    marginTop: theme.spacing(2),\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  content: {\r\n    fontFamily: theme.typography.fontFamily,\r\n    fontSize: theme.typography.pxToRem(17),\r\n    marginBottom: theme.spacing(2),\r\n    [theme.breakpoints.down('sm')]: {\r\n      fontSize: theme.typography.pxToRem(17)\r\n    }\r\n  },\r\n  disclosure: {\r\n    fontFamily: theme.typography.fontFamily,\r\n    '& p': {\r\n      color: colors.grey[500],\r\n      [theme.breakpoints.down('sm')]: {\r\n        fontSize: '0.9rem'\r\n      }\r\n    }\r\n  }\r\n}));\r\n\r\nconst PostView: FC = () => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { user, isAuthenticated } = useAuth();\r\n  const matches = useMediaQuery(theme.breakpoints.down('md'));\r\n  const [post, setPost] = useState<Post>();\r\n  const [comments, setComments] = useState<Comments[]>([]);\r\n  const [reply, setReply] = useState<ReplyStatus>(initialReply);\r\n  const [isBookmarked, setBookmarked] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    handleFetch();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleFetch = async (): Promise<void> => {\r\n    const path = location.pathname.split('/')[3];\r\n    const params = isAuthenticated && { user: user._id };\r\n    const response = await axios.get<{\r\n      post: Post;\r\n      comments: Comments[];\r\n      isBookmark: boolean;\r\n    }>(`/posts/get/${path}`, {\r\n      params\r\n    });\r\n\r\n    if (response.data.post) {\r\n      setPost(response.data.post);\r\n      setBookmarked(response.data.isBookmark);\r\n      setComments(response.data.comments);\r\n      setReply(initialReply);\r\n    } else {\r\n      history.push('/404');\r\n    }\r\n  };\r\n\r\n  const handleBookmark = (value: boolean): void => {\r\n    setBookmarked(value);\r\n  };\r\n\r\n  const handleReply = (id: string, depth: number, commentId: string): void => {\r\n    const value = reply.value !== id ? id : null;\r\n    setReply({ value, depth, commentId });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {post && !matches && (\r\n        <Reactions\r\n          post={post}\r\n          comments={comments.length}\r\n          isBookmarked={isBookmarked}\r\n          onBookmarked={handleBookmark}\r\n          className=\"div\"\r\n        />\r\n      )}\r\n      <Page\r\n        className={classes.root}\r\n        title={post && post.title ? post.title : 'Post'}\r\n      >\r\n        <Paper>\r\n          {post && (\r\n            <Box mt={3} className={classes.box}>\r\n              <Grid container spacing={3}>\r\n                {matches && (\r\n                  <Reactions\r\n                    post={post}\r\n                    comments={comments.length}\r\n                    isBookmarked={isBookmarked}\r\n                    onBookmarked={handleBookmark}\r\n                  />\r\n                )}\r\n                <Grid item xs={12} md={10}>\r\n                  <Typography\r\n                    variant=\"h1\"\r\n                    component=\"header\"\r\n                    color=\"textPrimary\"\r\n                  >\r\n                    {post.title}\r\n                  </Typography>\r\n\r\n                  <Box className={classes.author}>\r\n                    <Avatar\r\n                      alt=\"Person\"\r\n                      component={RouterLink}\r\n                      src={\r\n                        typeof post.author !== 'string' && post.author.avatar\r\n                      }\r\n                      className={classes.avatar}\r\n                      to=\"#\"\r\n                    />\r\n                    <Typography variant=\"caption\" color=\"textSecondary\">\r\n                      <Link\r\n                        color=\"textSecondary\"\r\n                        component={RouterLink}\r\n                        to=\"#\"\r\n                        variant=\"h6\"\r\n                      >\r\n                        {typeof post.author !== 'string' && post.author.name}\r\n                      </Link>\r\n                      {` `}\r\n                      {moment(post.createdAt).fromNow()}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box mt={2}>\r\n                    {post.tags.map((tag: Tag) => (\r\n                      <Chip\r\n                        key={tag.symbol}\r\n                        variant=\"outlined\"\r\n                        label={tag.symbol}\r\n                        className={classes.chip}\r\n                      />\r\n                    ))}\r\n                  </Box>\r\n                </Grid>\r\n              </Grid>\r\n              <Box mt={3} className={classes.content}>\r\n                {parse(post.content)}\r\n              </Box>\r\n              <Divider />\r\n              <Box mt={3} className={classes.disclosure}>\r\n                {parse(post.disclosure)}\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </Paper>\r\n        {post && (\r\n          <Paper>\r\n            <Box mt={3} className={classes.box}>\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12} md={12}>\r\n                  {comments.map((comment: CommentsWithUser) => (\r\n                    <React.Fragment key={comment._id}>\r\n                      <Comment\r\n                        user={user}\r\n                        comment={comment}\r\n                        commentId={comment._id}\r\n                        reply={reply.value}\r\n                        depth={0}\r\n                        onReply={handleReply}\r\n                      />\r\n                      {comment.reply.map((item: ReplyWithUser) => (\r\n                        <Comment\r\n                          user={user}\r\n                          key={item._id}\r\n                          comment={item}\r\n                          commentId={comment._id}\r\n                          reply={reply.value}\r\n                          depth={item.depth}\r\n                          onReply={handleReply}\r\n                        />\r\n                      ))}\r\n                    </React.Fragment>\r\n                  ))}\r\n                  <Box my={2}>\r\n                    <Divider />\r\n                  </Box>\r\n                  <CommentAdd post={post} reply={reply} onFetch={handleFetch} />\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Paper>\r\n        )}\r\n      </Page>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostView;\r\n"],"sourceRoot":""}