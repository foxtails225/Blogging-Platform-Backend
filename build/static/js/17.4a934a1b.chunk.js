(this["webpackJsonpdankstocks-client"]=this["webpackJsonpdankstocks-client"]||[]).push([[17],{1207:function(e,a,t){"use strict";var n=t(359),r=t(45),c=t(0),l=t.n(c),o=t(3),s=t(1114),i=t(12),m=Object(s.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(i.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(i.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(i.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(i.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(i.c)(e.palette.warning.main,.08)}}}));a.a=function(e){var a=e.className,t=void 0===a?"":a,c=e.color,s=void 0===c?"secondary":c,i=e.children,u=(e.style,Object(r.a)(e,["className","color","children","style"])),p=m();return l.a.createElement("span",Object.assign({className:Object(o.a)(p.root,Object(n.a)({},p[s],s),t)},u),i)}},1209:function(e,a,t){"use strict";var n=t(23),r=t(0),c=t.n(r),l=t(1114),o=t(1084),s=t(623),i=t(345),m=t(1083),u=t(1119),p=t(1086),d=t(1220),g=t.n(d),f=t(1221),E=t.n(f),b=t(1222),O=t.n(b),j=t(1223),v=t.n(j),y=t(1216),h=t.n(y),x=Object(l.a)((function(){return{menu:{width:256,maxWidth:"100%"}}}));a.a=Object(r.memo)((function(e){var a=x(),t=Object(r.useRef)(null),l=Object(r.useState)(!1),d=Object(n.a)(l,2),f=d[0],b=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{title:"More options"},c.a.createElement(s.a,Object.assign({onClick:function(){b(!0)},ref:t},e),c.a.createElement(g.a,{fontSize:"small"}))),c.a.createElement(i.a,{anchorEl:t.current,anchorOrigin:{vertical:"top",horizontal:"left"},onClose:function(){b(!1)},open:f,PaperProps:{className:a.menu},transformOrigin:{vertical:"top",horizontal:"left"}},c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(E.a,null)),c.a.createElement(p.a,{primary:"Import"})),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(O.a,null)),c.a.createElement(p.a,{primary:"Copy"})),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(v.a,null)),c.a.createElement(p.a,{primary:"Export"})),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(h.a,null)),c.a.createElement(p.a,{primary:"Archive"}))))}))},1342:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(1114),l=t(1100),o=t(1101),s=t(360),i=t(7),m=t.n(i),u=t(33),p=t(359),d=t(11),g=t(23),f=t(45),E=t(21),b=t(3),O=t(4),j=t.n(O),v=t(119),y=t.n(v),h=t(84),x=t.n(h),k=t(1102),w=t(1103),N=t(1095),C=t(1109),B=t(1104),P=t(1120),S=t(1106),A=t(1107),T=t(1121),W=t(1105),M=t(1078),I=t(1128),_=t(1207),F=t(82),Y=t(1209),z=t(1123),R=t(1124),D=t(1125),G=t(1092),L=t(1126),H=t(1079),J=t(1351),U=t(1334),V=[{name:"pending",text:"pending"},{name:"approved",text:"approve"},{name:"rejected",text:"reject"}],$=Object(c.a)((function(e){return{root:{},toggleBtn:{"&.MuiToggleButton-root":{color:e.palette.text.primary},"&.Mui-selected":{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}}}})),q=function(e){var a=e.open,t=e.data,c=e.onOpen,l=e.onFetch,o=e.className,s=Object(f.a)(e,["open","data","onOpen","onFetch","className"]),i=$(),u=Object(n.useState)(t.status),p=Object(g.a)(u,2),E=p[0],O=p[1],j=Object(n.useState)(t.reason),v=Object(g.a)(j,2),y=v[0],h=v[1],x=function(){var e=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={_id:t._id,status:E,reason:y},e.next=3,F.a.put("/posts/update/status",a);case 3:l(),c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){c()};return r.a.createElement("div",Object.assign({className:Object(b.a)(i.root,o)},s),r.a.createElement(z.a,{open:a,keepMounted:!0,onClose:k,"aria-labelledby":"status-dialog"},r.a.createElement(R.a,null,"Post Status"),r.a.createElement(D.a,null,r.a.createElement(J.a,{value:E,exclusive:!0,size:"small",onChange:function(e,a){O(a)},"aria-label":"text alignment"},V.map((function(e,a){return r.a.createElement(U.a,{key:e.name+a,value:e.name,className:i.toggleBtn},e.text)}))),r.a.createElement(G.a,{value:y,margin:"dense",type:"text",onChange:function(e){h(e.target.value)},fullWidth:!0})),r.a.createElement(L.a,null,r.a.createElement(H.a,{onClick:k,color:"primary"},"Cancel"),r.a.createElement(H.a,{onClick:x,color:"primary"},"Confirm"))))},K=t(24),Q={approved:"success",pending:"warning",rejected:"error"},X=[{name:"title",value:"Title"},{name:"author",value:"Author"},{name:"total",value:"Total"},{name:"status",value:"Status"},{name:"createdAt",value:"Date"}],Z={page:0,limit:5,count:0,order:"createdAt",orderBy:"desc"},ee=Object(c.a)((function(e){return{root:{}}})),ae=function(e){var a=e.className,t=Object(f.a)(e,["className"]),c=ee(),l=Object(n.useState)(!1),o=Object(g.a)(l,2),s=o[0],i=o[1],O=Object(n.useState)(),v=Object(g.a)(O,2),h=v[0],z=v[1],R=Object(n.useState)(Z),D=Object(g.a)(R,2),G=D[0],L=D[1],H=Object(n.useState)([]),J=Object(g.a)(H,2),U=J[0],V=J[1],$=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(p.a)({},G.order,"desc"===G.orderBy?-1:1),t={page:G.page,sortBy:a,limit:G.limit},e.next=5,F.a.post("/admin/posts/all/",t);case 5:n=e.sent,V(n.data.posts),L((function(e){return Object(u.a)(Object(u.a)({},e),{},{count:n.data.count})})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),L(Z),V([]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){$(),K.f.on("adminPost",(function(e){$()}))}),[G.page,G.limit,G.order,G.orderBy]);var ae=function(e){var a=e.currentTarget.id,t="desc"!==G.orderBy?"desc":"asc";L((function(e){return Object(u.a)(Object(u.a)({},e),{},{order:a,orderBy:t})}))};return r.a.createElement(k.a,Object.assign({className:Object(b.a)(c.root,a)},t),r.a.createElement(w.a,{action:r.a.createElement(Y.a,null),title:"All Posts"}),r.a.createElement(N.a,null),r.a.createElement(x.a,null,r.a.createElement(C.a,{minWidth:700},r.a.createElement(B.a,null,r.a.createElement(P.a,null,r.a.createElement(S.a,null,X.map((function(e){return r.a.createElement(A.a,{key:e.name,align:"center"},r.a.createElement(T.a,{id:e.name,active:G.order===e.name,onClick:ae,direction:(a=e.name,G.order===a&&G.orderBy?G.orderBy:"desc"),disabled:"no"===e.name},e.value));var a})))),r.a.createElement(W.a,null,U.map((function(e){return r.a.createElement(S.a,{hover:!0,key:e._id},r.a.createElement(A.a,{align:"center"},r.a.createElement(M.a,{color:"textPrimary",component:E.a,to:"/posts/public/"+e.slug,variant:"body2"},e.title)),r.a.createElement(A.a,null,r.a.createElement(M.a,{color:"textPrimary",component:E.a,to:"/users/"+e.author.name,variant:"body2"},e.author.name)),r.a.createElement(A.a,{align:"center"},y()(0).format("$0,0.00")),r.a.createElement(A.a,{align:"center",onClick:function(){return z({_id:(a=e)._id,status:a.status,reason:a.reason}),void i(!s);var a}},r.a.createElement(_.a,{color:Q[e.status]},e.status)),r.a.createElement(A.a,{align:"center"},j()(e.createdAt).format("DD MMM, YYYY hh:mm:ss")))})))),r.a.createElement(I.a,{rowsPerPageOptions:[5,10,25],component:"div",count:G.count,rowsPerPage:G.limit,page:G.page,onChangePage:function(e,a){L((function(e){return Object(u.a)(Object(u.a)({},e),{},{page:a})}))},onChangeRowsPerPage:function(e){var a=parseInt(e.target.value,10);L((function(e){return Object(u.a)(Object(u.a)({},e),{},{limit:a,page:0})}))}}))),r.a.createElement(C.a,{p:2,display:"flex",justifyContent:"flex-end"}),s&&r.a.createElement(q,{open:s,data:h,onOpen:function(){i(!s)},onFetch:$}))},te=t(1112),ne=t(200),re=Object(c.a)((function(e){return{root:{},toggleBtn:{"&.MuiToggleButton-root":{color:e.palette.text.primary},"&.Mui-selected":{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}}}})),ce=function(e){var a=e.open,t=e.data,c=e.onOpen,l=e.onFetch,o=e.className,s=Object(f.a)(e,["open","data","onOpen","onFetch","className"]),i=re(),u=Object(n.useState)(t.status),p=Object(g.a)(u,2),E=p[0],O=p[1],j=Object(n.useState)(t.reason),v=Object(g.a)(j,2),y=v[0],h=v[1],x=function(){var e=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={_id:t._id,status:E,reason:y},e.next=3,F.a.put("/users/update/status",a);case 3:l(),c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){c()};return r.a.createElement("div",Object.assign({className:Object(b.a)(i.root,o)},s),r.a.createElement(z.a,{open:a,keepMounted:!0,onClose:k,"aria-labelledby":"status-dialog"},r.a.createElement(R.a,null,"User Status"),r.a.createElement(D.a,null,r.a.createElement(J.a,{value:E,exclusive:!0,size:"small",onChange:function(e,a){O(Boolean(a))},"aria-label":"user alignment"},r.a.createElement(U.a,{value:!0,className:i.toggleBtn},"Active"),r.a.createElement(U.a,{value:!1,className:i.toggleBtn},"Block")),r.a.createElement(G.a,{value:y,margin:"dense",type:"text",onChange:function(e){h(e.target.value)},fullWidth:!0})),r.a.createElement(L.a,null,r.a.createElement(H.a,{onClick:k,color:"primary"},"Cancel"),r.a.createElement(H.a,{onClick:x,color:"primary"},"Confirm"))))},le=[{name:"name",value:"Name"},{name:"email",value:"Email"},{name:"role",value:"Role"},{name:"status",value:"Status"},{name:"createdAt",value:"Date"}],oe={page:0,limit:5,count:0,order:"createdAt",orderBy:"desc"},se=Object(c.a)((function(e){return{root:{}}})),ie=function(e){var a=e.className,t=Object(f.a)(e,["className"]),c=se(),l=Object(n.useState)(!1),o=Object(g.a)(l,2),s=o[0],i=o[1],O=Object(n.useState)(),v=Object(g.a)(O,2),y=v[0],h=v[1],z=Object(n.useState)(oe),R=Object(g.a)(z,2),D=R[0],G=R[1],L=Object(n.useState)([]),H=Object(g.a)(L,2),J=H[0],U=H[1],V=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(p.a)({},D.order,"desc"===D.orderBy?-1:1),t={page:D.page,sortBy:a,limit:D.limit},e.next=5,F.a.post("/admin/users/all/",t);case 5:n=e.sent,U(n.data.users),G((function(e){return Object(u.a)(Object(u.a)({},e),{},{count:n.data.count})})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),G(oe),U([]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){V()}),[D.page,D.limit,D.order,D.orderBy]);var $=function(e){var a=e.currentTarget.id,t="desc"!==D.orderBy?"desc":"asc";G((function(e){return Object(u.a)(Object(u.a)({},e),{},{order:a,orderBy:t})}))};return r.a.createElement(k.a,Object.assign({className:Object(b.a)(c.root,a)},t),r.a.createElement(w.a,{action:r.a.createElement(Y.a,null),title:"All Users"}),r.a.createElement(N.a,null),r.a.createElement(x.a,null,r.a.createElement(C.a,{minWidth:700},r.a.createElement(B.a,null,r.a.createElement(P.a,null,r.a.createElement(S.a,null,le.map((function(e){return r.a.createElement(A.a,{key:e.name,align:"center"},r.a.createElement(T.a,{id:e.name,active:D.order===e.name,onClick:$,direction:(a=e.name,D.order===a&&D.orderBy?D.orderBy:"desc"),disabled:"no"===e.name},e.value));var a})))),r.a.createElement(W.a,null,J.map((function(e){return r.a.createElement(S.a,{hover:!0,key:e._id},r.a.createElement(A.a,null,r.a.createElement(C.a,{display:"flex",alignItems:"center"},r.a.createElement(te.a,{alt:"Author",src:e.avatar,component:E.a,to:"/users/"+e.name},Object(ne.a)(e.name)),r.a.createElement(C.a,{ml:1},r.a.createElement(M.a,{color:"textPrimary",component:E.a,to:"/users/"+e.name,variant:"body2"},e.name)))),r.a.createElement(A.a,{align:"center"},e.email),r.a.createElement(A.a,{align:"center"},e.role),r.a.createElement(A.a,{align:"center",onClick:function(){return h({_id:(a=e)._id,status:a.status,reason:a.reason}),void i(!s);var a}},r.a.createElement(_.a,{color:e.status?"success":"error"},e.status?"Active":"Banned")),r.a.createElement(A.a,{align:"center"},j()(e.createdAt).format("DD MMM, YYYY hh:mm:ss")))})))),r.a.createElement(I.a,{rowsPerPageOptions:[5,10,25],component:"div",count:D.count,rowsPerPage:D.limit,page:D.page,onChangePage:function(e,a){G((function(e){return Object(u.a)(Object(u.a)({},e),{},{page:a})}))},onChangeRowsPerPage:function(e){var a=parseInt(e.target.value,10);G((function(e){return Object(u.a)(Object(u.a)({},e),{},{limit:a,page:0})}))}}))),r.a.createElement(C.a,{p:2,display:"flex",justifyContent:"flex-end"}),s&&r.a.createElement(ce,{open:s,data:y,onOpen:function(){i(!s)},onFetch:V}))},me=t(77),ue=t(1251),pe=t.n(ue),de=Object(c.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}})),ge=function(e){var a=e.className,t=Object(f.a)(e,["className"]),n=de(),c=12,l=-10;return r.a.createElement(k.a,Object.assign({className:Object(b.a)(n.root,a)},t),r.a.createElement(C.a,{flexGrow:1},r.a.createElement(me.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},"New posts"),r.a.createElement(C.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},r.a.createElement(me.a,{variant:"h3",color:"textPrimary"},c),r.a.createElement(_.a,{className:n.label,color:l>0?"success":"error"},l>0?"+":"",l,"%"))),r.a.createElement(te.a,{className:n.avatar},r.a.createElement(pe.a,null)))},fe=t(1232),Ee=t.n(fe),be=Object(c.a)((function(e){return{root:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},avatar:{backgroundColor:e.palette.secondary.contrastText,color:e.palette.secondary.main,height:48,width:48}}})),Oe=function(e){var a=e.className,t=Object(f.a)(e,["className"]),n=be(),c="25.50",l="$";return r.a.createElement(k.a,Object.assign({className:Object(b.a)(n.root,a)},t),r.a.createElement(C.a,{flexGrow:1},r.a.createElement(me.a,{color:"inherit",component:"h3",gutterBottom:!0,variant:"overline"},"Total income"),r.a.createElement(C.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},r.a.createElement(me.a,{color:"inherit",variant:"h3"},l,c))),r.a.createElement(te.a,{className:n.avatar,color:"inherit"},r.a.createElement(Ee.a,null)))},je=t(1075),ve=Object(c.a)((function(e){return{root:{padding:e.spacing(3)},progress:{margin:e.spacing(0,1),flexGrow:1}}})),ye=function(e){var a=e.className,t=Object(f.a)(e,["className"]),n=ve(),c=97;return r.a.createElement(k.a,Object.assign({className:Object(b.a)(n.root,a)},t),r.a.createElement(me.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},"System Health"),r.a.createElement(C.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},r.a.createElement(me.a,{variant:"h3",color:"textPrimary"},c,"%"),r.a.createElement(je.a,{className:n.progress,value:c,color:"secondary",variant:"determinate"})))},he=t(619),xe=t(83),ke=t(620),we=t(1086),Ne=t(1084),Ce=t(623),Be=t(1252),Pe=t.n(Be),Se=Object(c.a)((function(e){return{root:{},viewButton:{marginLeft:e.spacing(2)}}})),Ae=function(e){var a=e.className,t=e.flag,n=Object(f.a)(e,["className","flag"]),c=Se();return r.a.createElement(ke.a,Object.assign({className:Object(b.a)(c.root,a)},n),r.a.createElement(we.a,{primary:K.c.find((function(e){return e.name===t.reason})).label,primaryTypographyProps:{variant:"h6",noWrap:!0},secondary:j()(t.createdAt).fromNow()}),r.a.createElement(Ne.a,{key:t.user._id,title:"View Profile"},r.a.createElement(te.a,{src:t.user.avatar,alt:"Person",component:E.a,to:"/users/"+t.user.name})),r.a.createElement(Ne.a,{title:"View Post"},r.a.createElement(Ce.a,{className:c.viewButton,edge:"end"},r.a.createElement(Pe.a,{fontSize:"small"}))))},Te=Object(c.a)((function(){return{root:{}}})),We=function(e){var a=e.className,t=Object(f.a)(e,["className"]),c=Te(),l=Object(xe.a)(),o=Object(n.useState)([]),s=Object(g.a)(o,2),i=s[0],u=s[1],p=Object(n.useCallback)(Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("/comments/flagsAll");case 3:a=e.sent,l.current&&u(a.data.flags),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[l]);return Object(n.useEffect)((function(){p(),K.f.on("adminComment",(function(e){p()}))}),[p]),r.a.createElement(k.a,Object.assign({className:Object(b.a)(c.root,a)},t),r.a.createElement(w.a,{action:r.a.createElement(Y.a,null),title:"Reports"}),r.a.createElement(N.a,null),r.a.createElement(x.a,null,r.a.createElement(C.a,{minWidth:400},r.a.createElement(he.a,null,i.map((function(e,a){return r.a.createElement(Ae,{divider:a<i.length-1,key:e._id,flag:e})}))))))},Me=t(1307),Ie=t.n(Me),_e=Object(c.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}})),Fe=function(e){var a=e.className,t=Object(f.a)(e,["className"]),n=_e(),c="29",l=4;return r.a.createElement(k.a,Object.assign({className:Object(b.a)(n.root,a)},t),r.a.createElement(C.a,{flexGrow:1},r.a.createElement(me.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},"New Subscribers"),r.a.createElement(C.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},r.a.createElement(me.a,{variant:"h3",color:"textPrimary"},c),r.a.createElement(_.a,{className:n.label,color:l>0?"success":"error"},l>0?"+":"",l,"%"))),r.a.createElement(te.a,{className:n.avatar},r.a.createElement(Ie.a,null)))},Ye=Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));a.default=function(){var e=Ye();return r.a.createElement(s.a,{className:e.root,title:"Administrator"},r.a.createElement(l.a,{maxWidth:!1},r.a.createElement(o.a,{container:!0,spacing:3},r.a.createElement(o.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(Fe,null)),r.a.createElement(o.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(ge,null)),r.a.createElement(o.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(ye,null)),r.a.createElement(o.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(Oe,null)),r.a.createElement(o.a,{item:!0,lg:12,xl:12,xs:12},r.a.createElement(ae,null)),r.a.createElement(o.a,{item:!0,lg:4,xl:4,xs:12},r.a.createElement(We,null)),r.a.createElement(o.a,{item:!0,lg:8,xl:8,xs:12},r.a.createElement(ie,null)))))}}}]);
//# sourceMappingURL=17.4a934a1b.chunk.js.map