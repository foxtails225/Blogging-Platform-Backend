(this["webpackJsonpdankstocks-client"]=this["webpackJsonpdankstocks-client"]||[]).push([[19],{1276:function(e,t,a){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}},1281:function(e,t,a){"use strict";var n=a(20),r=a(0),c=a.n(r),o=a(674),i=a(1128),l=a(644),s=a(352),m=a(1126),u=a(1159),p=a(1131),d=a(1295),f=a.n(d),b=a(1296),g=a.n(b),E=a(1297),v=a.n(E),j=a(1298),O=a.n(j),h=a(1288),y=a.n(h),k=Object(o.a)((function(){return{menu:{width:256,maxWidth:"100%"}}}));t.a=Object(r.memo)((function(e){var t=k(),a=Object(r.useRef)(null),o=Object(r.useState)(!1),d=Object(n.a)(o,2),b=d[0],E=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{title:"More options"},c.a.createElement(l.a,Object.assign({onClick:function(){E(!0)},ref:a},e),c.a.createElement(f.a,{fontSize:"small"}))),c.a.createElement(s.a,{anchorEl:a.current,anchorOrigin:{vertical:"top",horizontal:"left"},onClose:function(){E(!1)},open:b,PaperProps:{className:t.menu},transformOrigin:{vertical:"top",horizontal:"left"}},c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(g.a,null)),c.a.createElement(p.a,{primary:"Import"})),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(v.a,null)),c.a.createElement(p.a,{primary:"Copy"})),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(O.a,null)),c.a.createElement(p.a,{primary:"Export"})),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(y.a,null)),c.a.createElement(p.a,{primary:"Archive"}))))}))},1282:function(e,t,a){"use strict";var n=a(84),r=a(40),c=a(0),o=a.n(c),i=a(3),l=a(674),s=a(17),m=Object(l.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(s.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(s.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(s.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(s.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(s.c)(e.palette.warning.main,.08)}}}));t.a=function(e){var t=e.className,a=void 0===t?"":t,c=e.color,l=void 0===c?"secondary":c,s=e.children,u=(e.style,Object(r.a)(e,["className","color","children","style"])),p=m();return o.a.createElement("span",Object.assign({className:Object(i.a)(p.root,Object(n.a)({},p[l],l),a)},u),s)}},1283:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(674),o=a(1163),i=Object(c.a)((function(){return{root:{textAlign:"center"},icon:{display:"flex",height:"inherit",width:"inherit"}}}));t.a=function(e){var t=i();return r.a.createElement(o.a,{classes:{root:t.root},fontSize:"small"},r.a.createElement("img",Object.assign({alt:"Custom Icon",className:t.icon,src:e.src},e)))}},1424:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),c=a(12),o=a(20),i=a(0),l=a.n(i),s=a(674),m=a(1144),u=a(670),p=a(1194),d=a(1192),f=a(1140),b=a(1260),g=a(32),E=a(141),v=a(369),j=a(40),O=a(84),h=a(3),y=a(1280),k=a.n(y),x=a(1145),w=a(83),N=a(636),S=a(140),C=a(352),P=a(1126),L=a(1146),B=a(1386),_=a(1282),A=a(59),T={viewers:0,likes:0},I=[{value:"today",text:"Today",params:["day","week","month","year"]},{value:"week",text:"Week",params:["week","month","year"]},{value:"month",text:"Month",params:["month","year"]},{value:"year",text:"Year",params:["year"]},{value:"total",text:"Total",params:[]}],F=Object(s.a)((function(e){var t;return{root:{},action:{backgroundColor:e.palette.common.white},image:{width:"100%",maxHeight:400},item:(t={padding:e.spacing(3),textAlign:"center"},Object(O.a)(t,e.breakpoints.up("md"),{"&:not(:last-of-type)":{borderRight:"1px solid ".concat(e.palette.divider)}}),Object(O.a)(t,e.breakpoints.down("sm"),{"&:not(:last-of-type)":{borderBottom:"1px solid ".concat(e.palette.divider)}}),t),label:{marginLeft:e.spacing(1)},overline:{marginTop:e.spacing(1)}}})),R=function(e){var t=e.className,a=Object(j.a)(e,["className"]),n=F(),s=Object(A.a)().user,m=Object(i.useRef)(null),p=Object(i.useState)(""),d=Object(o.a)(p,2),f=d[0],b=d[1],E=Object(i.useState)(!1),v=Object(o.a)(E,2),O=v[0],y=v[1],R=Object(i.useState)(I[0].text),z=Object(o.a)(R,2),M=z[0],Y=z[1],D=Object(i.useState)(T),U=Object(o.a)(D,2),W=U[0],$=U[1];return Object(i.useEffect)((function(){var e=s.firstName&&s.lastName?s.firstName+" "+s.lastName:s.name;b(e)}),[s]),Object(i.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=I.find((function(e){return e.text===M})).params,e.next=4,g.a.get("/account/statistics",{params:t});case 4:a=e.sent,$(a.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$(T);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[M]),l.a.createElement("div",Object.assign({className:Object(h.a)(n.root,t)},a),l.a.createElement(x.a,{alignItems:"center",container:!0,justify:"space-between",spacing:3},l.a.createElement(x.a,{item:!0,md:6,xs:12},l.a.createElement(w.a,{variant:"overline",color:"textSecondary"},"Overview"),l.a.createElement(w.a,{variant:"h3",color:"textPrimary"},"Good Morning, ",f),l.a.createElement(w.a,{variant:"subtitle1",color:"textPrimary"},"Here\u2019s what\u2019s happening with you today"),l.a.createElement(u.a,{mt:2},l.a.createElement(N.a,{ref:m,className:n.action,variant:"contained",onClick:function(){return y(!0)},startIcon:l.a.createElement(S.a,{fontSize:"small"},l.a.createElement(B.a,null))},M," summary"),l.a.createElement(C.a,{anchorEl:m.current,onClose:function(){return y(!1)},open:O,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},I.map((function(e){return l.a.createElement(P.a,{key:e.value,onClick:function(){return Y(e.text)}},e.text," Summary")})))))),l.a.createElement(u.a,{mt:3},l.a.createElement(L.a,Object.assign({className:Object(h.a)(n.root,t)},a),l.a.createElement(x.a,{alignItems:"center",container:!0,justify:"space-between"},l.a.createElement(x.a,{className:n.item,item:!0,md:3,sm:6,xs:12},l.a.createElement(w.a,{variant:"h2",color:"textPrimary"},k()(0).format("$0,0.00")),l.a.createElement(w.a,{className:n.overline,variant:"overline",color:"textSecondary"},M," income")),l.a.createElement(x.a,{className:n.item,item:!0,md:3,sm:6,xs:12},l.a.createElement(w.a,{variant:"h2",color:"textPrimary"},k()(0).format("$0,0.00")),l.a.createElement(w.a,{className:n.overline,variant:"overline",color:"textSecondary"},M," tips")),l.a.createElement(x.a,{className:n.item,item:!0,md:3,sm:6,xs:12},l.a.createElement(w.a,{variant:"h2",color:"textPrimary"},W.viewers),l.a.createElement(w.a,{className:n.overline,variant:"overline",color:"textSecondary"},M," views")),l.a.createElement(x.a,{className:n.item,item:!0,md:3,sm:6,xs:12},l.a.createElement(u.a,{display:"flex",alignItems:"center",justifyContent:"center"},l.a.createElement(w.a,{component:"span",variant:"h2",color:"textPrimary"},W.likes),l.a.createElement(_.a,{className:n.label,color:"primary"},"Live")),l.a.createElement(w.a,{className:n.overline,variant:"overline",color:"textSecondary"},M," likes"))))))},z=a(14),M=a(4),Y=a.n(M),D=a(143),U=a.n(D),W=a(1147),$=a(1186),G=a(1190),q=a(1188),H=a(1189),J=a(1160),K=a(1187),Q=a(1122),V=a(1175),X=a(1281),Z={approved:"success",pending:"warning",rejected:"error"},ee=[{name:"no",value:"No"},{name:"title",value:"Title"},{name:"tags",value:"Tags"},{name:"total",value:"Total"},{name:"status",value:"Status"},{name:"createdAt",value:"Date"}],te=Object(s.a)((function(){return{root:{}}})),ae=function(e){var t=e.className,a=e.profile,n=Object(j.a)(e,["className","profile"]),s=te(),m=Object(A.a)().user,p=Object(i.useState)(0),d=Object(o.a)(p,2),b=d[0],E=d[1],v=Object(i.useState)(5),y=Object(o.a)(v,2),k=y[0],x=y[1],w=Object(i.useState)(0),N=Object(o.a)(w,2),S=N[0],C=N[1],P=Object(i.useState)("createdAt"),B=Object(o.a)(P,2),T=B[0],I=B[1],F=Object(i.useState)("desc"),R=Object(o.a)(F,2),M=R[0],D=R[1],ae=Object(i.useState)([]),ne=Object(o.a)(ae,2),re=ne[0],ce=ne[1];Object(i.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(O.a)({},T,"desc"===M?-1:1),n={email:a.email,page:b,sortBy:t,limit:k,user:m},e.next=5,g.a.post("/posts/all/",n);case 5:c=e.sent,ce(c.data.posts),C(c.data.count),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[b,a.email,T,M,k,m]);var oe=function(e){var t="desc"!==M?"desc":"asc";I(e.currentTarget.id),D(t)};return l.a.createElement(L.a,Object.assign({className:Object(h.a)(s.root,t)},n),l.a.createElement(W.a,{action:l.a.createElement(X.a,null),title:"Latest Posts"}),l.a.createElement(f.a,null),l.a.createElement(U.a,null,l.a.createElement(u.a,{minWidth:700},l.a.createElement($.a,null,l.a.createElement(G.a,null,l.a.createElement(q.a,null,ee.map((function(e){return l.a.createElement(H.a,{key:e.name,align:"center"},l.a.createElement(J.a,{id:e.name,active:T===e.name,onClick:oe,direction:(t=e.name,T===t&&M?M:"desc"),disabled:"no"===e.name},e.value));var t})))),l.a.createElement(K.a,null,re.map((function(e,t){return l.a.createElement(q.a,{hover:!0,key:e._id},l.a.createElement(H.a,{align:"center"},t+1),l.a.createElement(H.a,{align:"center"},l.a.createElement(Q.a,{color:"textPrimary",component:z.a,to:"/posts/public/"+e.slug,variant:"body2"},e.title)),l.a.createElement(H.a,{align:"center"},e.tags.length),l.a.createElement(H.a,{align:"center"},"$0"),l.a.createElement(H.a,{align:"center"},l.a.createElement(_.a,{color:Z[e.status]},e.status)),l.a.createElement(H.a,{align:"center"},Y()(e.createdAt).format("DD MMM, YYYY hh:mm:ss")))})))),l.a.createElement(V.a,{rowsPerPageOptions:[5,10,25],component:"div",count:S,rowsPerPage:k,page:b,onChangePage:function(e,t){return E(t)},onChangeRowsPerPage:function(e){x(parseInt(e.target.value,10)),E(0)}}))),l.a.createElement(u.a,{p:2,display:"flex",justifyContent:"flex-end"}))},ne=a(1156),re=a(640),ce=a(1150),oe=a(641),ie=a(1130),le=a(1152),se=a(1131),me=a(30),ue=a(11),pe=a(1128),de=a(644),fe=a(1306),be=a.n(fe),ge=a(1288),Ee=a.n(ge),ve=a(1389),je=a.n(ve),Oe=a(1240),he=a(1283),ye={isLiked:!1,isBookmarked:!1,isArchived:!1},ke=Object(s.a)((function(){return{root:{display:"flex",alignItems:"center"},likedButton:{color:ue.a.red[600]},commentIcon:{color:ue.a.grey[700]}}})),xe=function(e){var t=e.className,a=e.post,n=e.onFetch,s=Object(j.a)(e,["className","post","onFetch"]),m=ke(),p=Object(A.a)(),d=p.user,f=p.isAuthenticated,b=Object(i.useState)(ye),E=Object(o.a)(b,2),v=E[0],O=E[1],y=Object(i.useState)(a.liked.count),k=Object(o.a)(y,2),x=k[0],N=k[1];Object(i.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={postId:a._id},e.next=4,g.a.get("/bookmarks/get",{params:t});case 4:n=e.sent,c=n.data.bookmark.archived,O((function(e){return Object(me.a)(Object(me.a)({},e),{},{isBookmarked:!0,isArchived:c})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),O((function(e){return Object(me.a)(Object(me.a)({},e),{},{isBookmarked:!1,isArchived:!1})}));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[a]),Object(i.useEffect)((function(){f&&a.liked.users.forEach((function(e){return e===d._id&&O((function(e){return Object(me.a)(Object(me.a)({},e),{},{isLiked:!0})}))}))}),[a.liked.users,d]);var S=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={postId:a._id,isLiked:!v.isLiked},e.next=3,g.a.put("/posts/liked",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={postId:a._id},c=v.isBookmarked?"delete":"create",e.next=4,g.a.post("/bookmarks/".concat(c),t);case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={postId:a._id,isArchived:!v.isArchived},e.next=3,g.a.put("/bookmarks/update/archived",t);case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){O((function(e){return Object(me.a)(Object(me.a)({},e),{},{isBookmarked:!v.isBookmarked})})),C()},B=function(){O((function(e){return Object(me.a)(Object(me.a)({},e),{},{isBookmarked:!v.isArchived})})),P()};return l.a.createElement("div",Object.assign({className:Object(h.a)(m.root,t)},s),l.a.createElement(u.a,{flexGrow:1}),v.isLiked?l.a.createElement(pe.a,{title:"Unlike"},l.a.createElement(de.a,{className:m.likedButton,onClick:function(){N((function(e){return e-1})),O((function(e){return Object(me.a)(Object(me.a)({},e),{},{isLiked:!1})})),S()}},l.a.createElement(he.a,{src:"/static/icons/trending_filled.svg"}))):l.a.createElement(pe.a,{title:"Like"},l.a.createElement(de.a,{onClick:function(){N((function(e){return e+1})),O((function(e){return Object(me.a)(Object(me.a)({},e),{},{isLiked:!0})})),S()}},l.a.createElement(he.a,{src:"/static/icons/trending_outlined.svg"}))),l.a.createElement(w.a,{color:"textSecondary",variant:"h6"},x),l.a.createElement(u.a,{ml:2,mr:1,marginTop:"2px"},l.a.createElement(Oe.a,{className:m.commentIcon,size:"20"})),l.a.createElement(w.a,{color:"textSecondary",variant:"h6"},a.comments.length),v.isBookmarked&&v.isArchived?l.a.createElement(pe.a,{title:"Unsaved"},l.a.createElement(de.a,{className:m.likedButton,onClick:B},l.a.createElement(je.a,{fontSize:"small"}))):l.a.createElement(pe.a,{title:"Saved"},l.a.createElement(de.a,{onClick:B},l.a.createElement(Ee.a,{fontSize:"small"}))),v.isBookmarked?l.a.createElement(pe.a,{title:"Unsaved"},l.a.createElement(de.a,{className:m.likedButton,onClick:L},l.a.createElement(be.a,{fontSize:"small"}))):l.a.createElement(pe.a,{title:"Saved"},l.a.createElement(de.a,{onClick:L},l.a.createElement(be.a,{fontSize:"small"}))))},we=Object(s.a)((function(e){return{root:{},date:{marginLeft:6},media:{height:500,backgroundPosition:"top"},title:Object(O.a)({marginLeft:e.spacing(5),marginRight:e.spacing(5)},e.breakpoints.down("sm"),{marginLeft:e.spacing(1),marginRight:e.spacing(1)})}})),Ne=function(e){var t=e.className,a=e.post,n=e.onFetch,r=Object(j.a)(e,["className","post","onFetch"]),c=we();return l.a.createElement(oe.a,Object.assign({disableGutters:!0,divider:!0,className:Object(h.a)(c.root,t)},r),l.a.createElement(ie.a,null,l.a.createElement(le.a,{alt:"Person",component:z.a,src:"string"!==typeof a.author&&a.author.avatar,to:"#"})),l.a.createElement(se.a,{primary:l.a.createElement(Q.a,{color:"textPrimary",component:z.a,to:"/posts/public/"+a.slug,variant:"h5"},a.title),primaryTypographyProps:{variant:"body1",color:"textPrimary"},secondary:l.a.createElement(w.a,{variant:"caption",color:"textSecondary"},l.a.createElement(Q.a,{color:"textSecondary",component:z.a,to:"#",variant:"h6"},"string"!==typeof a.author&&a.author.name)," ",Y()(a.createdAt).fromNow())}),l.a.createElement(xe,{post:a,onFetch:n}))},Se=Object(s.a)((function(){return{root:{display:"flex",alignItems:"center"},likedButton:{color:ue.a.red[600]},commentIcon:{color:ue.a.grey[700]}}})),Ce=function(e){var t=e.className,a=e.post,n=e.onFetch,s=Object(j.a)(e,["className","post","onFetch"]),m=Se(),p=Object(A.a)(),d=p.user,f=p.isAuthenticated,b=Object(i.useState)(!1),E=Object(o.a)(b,2),v=E[0],O=E[1],y=Object(i.useState)(!0),k=Object(o.a)(y,2),x=k[0],N=k[1],S=Object(i.useState)(a.liked.count),C=Object(o.a)(S,2),P=C[0],L=C[1];Object(i.useEffect)((function(){f&&a.liked.users.forEach((function(e){return e===d._id&&O(!0)}))}),[a.liked.users]);var B=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={postId:a._id,isLiked:!v},e.next=3,g.a.put("/posts/liked",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={postId:a._id},n=x?"delete":"create",e.next=4,g.a.post("/bookmarks/".concat(n),t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",Object.assign({className:Object(h.a)(m.root,t)},s),l.a.createElement(u.a,{flexGrow:1}),v?l.a.createElement(pe.a,{title:"Unlike"},l.a.createElement(de.a,{className:m.likedButton,onClick:function(){O(!1),L((function(e){return e-1})),B()}},l.a.createElement(he.a,{src:"/static/icons/trending_filled.svg"}))):l.a.createElement(pe.a,{title:"Like"},l.a.createElement(de.a,{onClick:function(){O(!0),L((function(e){return e+1})),B()}},l.a.createElement(he.a,{src:"/static/icons/trending_outlined.svg"}))),l.a.createElement(w.a,{color:"textSecondary",variant:"h6"},P),l.a.createElement(u.a,{ml:2,mr:1,marginTop:"2px"},l.a.createElement(Oe.a,{className:m.commentIcon,size:"20"})),l.a.createElement(w.a,{color:"textSecondary",variant:"h6"},a.comments.length),x?l.a.createElement(pe.a,{title:"Unsaved"},l.a.createElement(de.a,{className:m.likedButton,onClick:function(){N(!1),_(),n()}},l.a.createElement(be.a,{fontSize:"small"}))):l.a.createElement(pe.a,{title:"Saved"},l.a.createElement(de.a,{onClick:function(){N(!0),_(),n()}},l.a.createElement(be.a,{fontSize:"small"}))))},Pe=Object(s.a)((function(e){return{root:{},date:{marginLeft:6},media:{height:500,backgroundPosition:"top"},title:Object(O.a)({marginLeft:e.spacing(5),marginRight:e.spacing(5)},e.breakpoints.down("sm"),{marginLeft:e.spacing(1),marginRight:e.spacing(1)})}})),Le=function(e){var t=e.className,a=e.post,n=e.onFetch,r=Object(j.a)(e,["className","post","onFetch"]),c=Pe();return l.a.createElement(oe.a,Object.assign({disableGutters:!0,divider:!0,alignItems:"flex-start",className:Object(h.a)(c.root,t)},r),l.a.createElement(ie.a,null,l.a.createElement(le.a,{alt:"Person",component:z.a,src:"string"!==typeof a.author&&a.author.avatar,to:"#"})),l.a.createElement(se.a,{disableTypography:!0,primary:l.a.createElement(Q.a,{color:"textPrimary",component:z.a,to:"#",variant:"h5"},a.title),primaryTypographyProps:{variant:"body1",color:"textPrimary"},secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{variant:"caption",color:"textSecondary",component:"p"},l.a.createElement(Q.a,{color:"textSecondary",component:z.a,to:"#",variant:"h6"},"string"!==typeof a.author&&a.author.name)," ",Y()(a.createdAt).fromNow()),l.a.createElement(Ce,{post:a,onFetch:n}))}))},Be=Object(s.a)((function(e){return{root:{},date:{marginLeft:6},media:{height:500,backgroundPosition:"top"},title:Object(O.a)({marginLeft:e.spacing(5),marginRight:e.spacing(5)},e.breakpoints.down("sm"),{marginLeft:e.spacing(1),marginRight:e.spacing(1)})}})),_e={paddingTop:0,paddingBottom:0},Ae=function(e){var t=e.className,a=(e.profile,Object(j.a)(e,["className","profile"])),n=Be(),s=Object(E.a)(),m=Object(i.useState)([]),u=Object(o.a)(m,2),p=u[0],d=u[1],f=Object(i.useState)(1),b=Object(o.a)(f,2),v=b[0],O=b[1],y=Object(i.useCallback)(Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={page:v},e.next=4,g.a.get("/bookmarks/all",{params:t});case 4:a=e.sent,s.current&&(d(a.data.bookmarks),O(a.data.page)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[s,v]);return Object(i.useEffect)((function(){y()}),[y]),l.a.createElement("div",Object.assign({className:Object(h.a)(n.root,t)},a),p.length>0&&l.a.createElement(x.a,{container:!0,spacing:3},l.a.createElement(x.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(L.a,null,l.a.createElement(ne.a,{style:_e},l.a.createElement(re.a,null,p.map((function(e){return l.a.createElement(l.a.Fragment,{key:e._id},l.a.createElement(ce.a,{smDown:!0},l.a.createElement(Ne,{post:e.post,onFetch:y})),l.a.createElement(ce.a,{mdUp:!0},l.a.createElement(Le,{post:e.post,onFetch:y})))}))))))))},Te=Object(s.a)((function(e){return{root:{},date:{marginLeft:6},media:{height:500,backgroundPosition:"top"},title:Object(O.a)({marginLeft:e.spacing(5),marginRight:e.spacing(5)},e.breakpoints.down("sm"),{marginLeft:e.spacing(1),marginRight:e.spacing(1)})}})),Ie={paddingTop:0,paddingBottom:0},Fe=function(e){var t=e.className,a=(e.profile,Object(j.a)(e,["className","profile"])),n=Te(),s=Object(E.a)(),m=Object(i.useState)([]),u=Object(o.a)(m,2),p=u[0],d=u[1],f=Object(i.useState)(1),b=Object(o.a)(f,2),v=b[0],O=b[1],y=Object(i.useCallback)(Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={page:v},e.next=4,g.a.get("/bookmarks/archived-all",{params:t});case 4:a=e.sent,s.current&&(d(a.data.bookmarks),O(a.data.page)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[s,v]);return Object(i.useEffect)((function(){y()}),[y]),l.a.createElement("div",Object.assign({className:Object(h.a)(n.root,t)},a),p.length>0&&l.a.createElement(x.a,{container:!0,spacing:3},l.a.createElement(x.a,{item:!0,xs:12,md:12,lg:12},l.a.createElement(L.a,null,l.a.createElement(ne.a,{style:Ie},l.a.createElement(re.a,null,p.map((function(e){return l.a.createElement(l.a.Fragment,{key:e._id},l.a.createElement(ce.a,{smDown:!0},l.a.createElement(Ne,{post:e.post,onFetch:y})),l.a.createElement(ce.a,{mdUp:!0},l.a.createElement(Le,{post:e.post,onFetch:y})))}))))))))},Re=a(1355),ze=a(1276),Me=Object(s.a)((function(e){return{root:{},date:{marginLeft:6},media:{height:500,backgroundPosition:"top"},title:Object(O.a)({marginLeft:e.spacing(5),marginRight:e.spacing(5)},e.breakpoints.down("sm"),{marginLeft:e.spacing(1),marginRight:e.spacing(1)})}})),Ye={page:1,limit:10,count:0},De=function(e){var t=e.className,a=(e.profile,Object(j.a)(e,["className","profile"])),n=Me(),s=Object(E.a)(),m=Object(i.useState)([]),p=Object(o.a)(m,2),d=p[0],b=p[1],v=Object(i.useState)(Ye),O=Object(o.a)(v,2),y=O[0],k=O[1],x=Object(i.useCallback)(Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={page:y.page-1,limit:y.limit},e.next=4,g.a.post("/account/following",t);case 4:a=e.sent,s.current&&(b(a.data.users),k((function(e){return Object(me.a)(Object(me.a)({},e),{},{count:a.data.count})}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b([]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[s,y.page,y.limit]);Object(i.useEffect)((function(){x()}),[x]);return l.a.createElement(L.a,Object.assign({className:Object(h.a)(n.root,t)},a),l.a.createElement(f.a,null),l.a.createElement(re.a,{disablePadding:!0},d.map((function(e,t){return l.a.createElement(oe.a,{divider:t<d.length,key:e._id},l.a.createElement(ie.a,null,l.a.createElement(le.a,{alt:"Customer",component:z.a,src:e.avatar,to:"/users/"+e.name},Object(ze.a)(e.name))),l.a.createElement(se.a,{disableTypography:!0,primary:l.a.createElement(Q.a,{color:"textPrimary",component:z.a,to:"/users/"+e.name,underline:"none",variant:"h5"},e.name),secondary:l.a.createElement(w.a,{variant:"body2",color:"textSecondary"},e.bio)}))}))),l.a.createElement(u.a,{p:2,display:"flex",justifyContent:"center"},l.a.createElement(Re.a,{count:Math.ceil(y.count/y.limit),page:y.page,color:"primary",onChange:function(e,t){k((function(e){return Object(me.a)(Object(me.a)({},e),{},{page:t})}))}})))},Ue=Object(s.a)((function(e){return{root:{},date:{marginLeft:6},media:{height:500,backgroundPosition:"top"},title:Object(O.a)({marginLeft:e.spacing(5),marginRight:e.spacing(5)},e.breakpoints.down("sm"),{marginLeft:e.spacing(1),marginRight:e.spacing(1)})}})),We={page:1,limit:10,count:0},$e=function(e){var t=e.className,a=(e.profile,Object(j.a)(e,["className","profile"])),n=Ue(),s=Object(E.a)(),m=Object(i.useState)([]),p=Object(o.a)(m,2),d=p[0],b=p[1],v=Object(i.useState)(We),O=Object(o.a)(v,2),y=O[0],k=O[1],x=Object(i.useCallback)(Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={page:y.page-1,limit:y.limit},e.next=4,g.a.post("/account/followers",t);case 4:a=e.sent,s.current&&(b(a.data.users),k((function(e){return Object(me.a)(Object(me.a)({},e),{},{count:a.data.count})}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b([]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[s,y.page,y.limit]);Object(i.useEffect)((function(){x()}),[x]);return l.a.createElement(L.a,Object.assign({className:Object(h.a)(n.root,t)},a),l.a.createElement(f.a,null),l.a.createElement(re.a,{disablePadding:!0},d.map((function(e,t){return l.a.createElement(oe.a,{divider:t<d.length,key:e._id},l.a.createElement(ie.a,null,l.a.createElement(le.a,{alt:"Customer",component:z.a,src:e.avatar,to:"/users/"+e.name},Object(ze.a)(e.name))),l.a.createElement(se.a,{disableTypography:!0,primary:l.a.createElement(Q.a,{color:"textPrimary",component:z.a,to:"/users/"+e.name,underline:"none",variant:"h5"},e.name),secondary:l.a.createElement(w.a,{variant:"body2",color:"textSecondary"},e.bio)}))}))),l.a.createElement(u.a,{p:2,display:"flex",justifyContent:"center"},l.a.createElement(Re.a,{count:Math.ceil(y.count/y.limit),page:y.page,color:"primary",onChange:function(e,t){k((function(e){return Object(me.a)(Object(me.a)({},e),{},{page:t})}))}})))},Ge=[{name:"no",value:"No"},{name:"createdAt",value:"Date"},{name:"status",value:"Status"},{name:"type",value:"Type"},{name:"client",value:"Client"},{name:"amount",value:"Initial Pyament"},{name:"fee",value:"Fee"},{name:"income",value:"Net Income"},{name:"refund",value:""}],qe={page:0,limit:5,order:"createdAt",orderBy:"desc"},He={available:0,instant_available:0,pending:0},Je=Object(s.a)((function(e){return{root:{},action:{margin:e.spacing(1)}}})),Ke=function(e){var t=e.className,a=e.profile,n=Object(j.a)(e,["className","profile"]),s=Je(),m=Object(A.a)().user,p=Object(i.useState)(0),d=Object(o.a)(p,2),b=d[0],E=d[1],v=Object(i.useState)(qe),y=Object(o.a)(v,2),x=y[0],S=y[1],C=Object(i.useState)(He),P=Object(o.a)(C,2),B=P[0],_=P[1],T=Object(i.useState)([]),I=Object(o.a)(T,2),F=I[0],R=I[1],M=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(O.a)({},x.order,"desc"===x.orderBy?-1:1),a={page:x.page,sortBy:t,limit:x.limit,user:m},e.next=5,g.a.post("/transactions/all/",a);case 5:n=e.sent,R(n.data.transactions),E(n.data.count),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/stripe/balance");case 3:(t=e.sent).data&&Object.keys(B).forEach((function(e){var a=t.data[e].reduce((function(e,t){return e+(t.amount||0)}),0);_((function(t){return Object(me.a)(Object(me.a)({},t),{},Object(O.a)({},e,a/100))}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){D(),M()}),[x,m]);var X=function(e){var t=e.currentTarget.id,a="desc"!==x.orderBy?"desc":"asc";S((function(e){return Object(me.a)(Object(me.a)({},e),{},{order:t,orderBy:a})}))},Z=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={_id:t.currentTarget.name},!t.currentTarget.name){e.next=4;break}return e.next=4,g.a.put("/transactions/refund/",a);case 4:M();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(L.a,Object.assign({className:Object(h.a)(s.root,t)},n),l.a.createElement(W.a,{action:l.a.createElement(w.a,{variant:"h5",color:"textSecondary"},"Balance: ",k()(B.instant_available).format("$0,0.00")),classes:{action:s.action},title:"Latest Transactions"}),l.a.createElement(f.a,null),l.a.createElement(U.a,null,l.a.createElement(u.a,{minWidth:700},l.a.createElement($.a,null,l.a.createElement(G.a,null,l.a.createElement(q.a,null,Ge.map((function(e){return l.a.createElement(H.a,{key:e.name,align:"center"},l.a.createElement(J.a,{id:e.name,active:x.order===e.name,onClick:X,direction:(t=e.name,x.order===t&&x.orderBy?x.orderBy:"desc"),disabled:"no"===e.name||"income"===e.name||"refund"===e.name||"status"===e.name||"client"===e.name},e.value));var t})))),l.a.createElement(K.a,null,F.map((function(e,t){var n;return l.a.createElement(q.a,{hover:!0,key:e._id},l.a.createElement(H.a,{align:"center"},t+1),l.a.createElement(H.a,{align:"center"},Y()(e.createdAt).format("DD MMM, YYYY hh:mm:ss")),l.a.createElement(H.a,{align:"center"},e.user===a._id?"Received":"Sent"),l.a.createElement(H.a,{align:"center"},e.type.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")),l.a.createElement(H.a,{align:"center"},e.client._id!==a._id&&l.a.createElement(Q.a,{color:"inherit",component:z.a,to:"/users/"+e.client.name,variant:"body2"},null===(n=e.client)||void 0===n?void 0:n.name)),l.a.createElement(H.a,{align:"center"},"$",e.amount),l.a.createElement(H.a,{align:"center"},"$",e.fee),l.a.createElement(H.a,{align:"center"},"$",e.amount-e.fee),l.a.createElement(H.a,{width:"10%"},Y()().diff(Y()(e.createdAt),"h")<=24&&l.a.createElement(N.a,{name:null===e||void 0===e?void 0:e._id,color:"primary",variant:"contained",size:"small",onClick:Z,disabled:e.user===a._id||e.requestRefund},"Refund")))})))),l.a.createElement(V.a,{rowsPerPageOptions:[5,10,25],component:"div",count:b,rowsPerPage:x.limit,page:x.page,onChangePage:function(e,t){return S((function(e){return Object(me.a)(Object(me.a)({},e),{},{page:t})}))},onChangeRowsPerPage:function(e){S((function(t){return Object(me.a)(Object(me.a)({},t),{},{limit:parseInt(e.target.value,10),page:0})}))}}))),l.a.createElement(u.a,{p:2,display:"flex",justifyContent:"flex-end"}))},Qe=[{value:"posts",label:"posts"},{value:"reading",label:"dank reads"},{value:"archive",label:"Archive"},{value:"payment",label:"payment"},{value:"followers",label:"followers"},{value:"tags",label:"tickers followed"},{value:"authors",label:"Authors Followed"}],Ve=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));t.default=function(){var e=Ve(),t=Object(E.a)(),a=Object(i.useState)("payment"),n=Object(o.a)(a,2),s=n[0],j=n[1],O=Object(i.useState)(null),h=Object(o.a)(O,2),y=h[0],k=h[1],x=Object(i.useCallback)(Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/account/about");case 2:a=e.sent,t.current&&k(a.data.user);case 4:case"end":return e.stop()}}),e)}))),[t]);return Object(i.useEffect)((function(){x()}),[x]),y?l.a.createElement(v.a,{className:e.root,title:"Dashboard"},l.a.createElement(m.a,{maxWidth:"lg"},l.a.createElement(R,null),l.a.createElement(u.a,{mt:6},l.a.createElement(p.a,{onChange:function(e,t){j(t)},scrollButtons:"auto",value:s,textColor:"secondary",variant:"scrollable"},Qe.map((function(e){return l.a.createElement(d.a,{key:e.value,label:e.label,value:e.value})})))),l.a.createElement(f.a,null),l.a.createElement(u.a,{py:3,pb:6},"posts"===s&&l.a.createElement(ae,{profile:y}),"reading"===s&&l.a.createElement(Ae,{profile:y}),"authors"===s&&l.a.createElement(De,{profile:y}),"followers"===s&&l.a.createElement($e,{profile:y}),"archive"===s&&l.a.createElement(Fe,{profile:y}),"payment"===s&&l.a.createElement(u.a,null,l.a.createElement(u.a,{mb:2},l.a.createElement(b.a,{severity:"info"},"You may only request a refund for tips within a 24 hour period of the transactions being made. Please see the Terms and Condition's for more detail.")),l.a.createElement(Ke,{profile:y}))))):null}}}]);
//# sourceMappingURL=19.6d9356e3.chunk.js.map