(this["webpackJsonpdankstocks-client"]=this["webpackJsonpdankstocks-client"]||[]).push([[15],{1132:function(e,t,a){"use strict";var n=a(1),r=a(5),c=a(0),o=(a(2),a(3)),l=a(8),s=a(77),i=c.forwardRef((function(e,t){var a=e.children,l=e.classes,i=e.className,u=e.disableTypography,m=void 0!==u&&u,d=Object(r.a)(e,["children","classes","className","disableTypography"]);return c.createElement("div",Object(n.a)({className:Object(o.a)(l.root,i),ref:t},d),m?a:c.createElement(s.a,{component:"h2",variant:"h6"},a))}));t.a=Object(l.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(i)},1136:function(e,t,a){"use strict";var n=a(1),r=a(47),c=a(5),o=a(0),l=(a(2),a(1137)),s=a(16),i=a(108),u=a(1276),m=a(200),d=o.forwardRef((function(e,t){var a=e.actions,d=e.children,p=e.name,f=e.value,b=e.onChange,g=Object(c.a)(e,["actions","children","name","value","onChange"]),h=o.useRef(null),v=Object(i.a)({controlled:f,default:e.defaultValue,name:"RadioGroup"}),E=Object(r.a)(v,2),O=E[0],j=E[1];o.useImperativeHandle(a,(function(){return{focus:function(){var e=h.current.querySelector("input:not(:disabled):checked");e||(e=h.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var k=Object(s.a)(t,h),y=Object(m.a)(p);return o.createElement(u.a.Provider,{value:{name:y,onChange:function(e){j(e.target.value),b&&b(e,e.target.value)},value:O}},o.createElement(l.a,Object(n.a)({role:"radiogroup",ref:k},g),d))}));t.a=d},1137:function(e,t,a){"use strict";var n=a(1),r=a(5),c=a(0),o=(a(2),a(3)),l=a(8),s=c.forwardRef((function(e,t){var a=e.classes,l=e.className,s=e.row,i=void 0!==s&&s,u=Object(r.a)(e,["classes","className","row"]);return c.createElement("div",Object(n.a)({className:Object(o.a)(a.root,l,i&&a.row),ref:t},u))}));t.a=Object(l.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(s)},1142:function(e,t,a){"use strict";var n=a(1),r=a(5),c=a(0),o=(a(2),a(3)),l=a(368),s=a(98),i=Object(s.a)(c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),u=Object(s.a)(c.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),m=a(8);var d=Object(m.a)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var t=e.checked,a=e.classes,n=e.fontSize;return c.createElement("div",{className:Object(o.a)(a.root,t&&a.checked)},c.createElement(i,{fontSize:n}),c.createElement(u,{fontSize:n,className:a.layer}))})),p=a(12),f=a(10),b=a(68),g=a(1276);var h=c.createElement(d,{checked:!0}),v=c.createElement(d,null),E=c.forwardRef((function(e,t){var a=e.checked,s=e.classes,i=e.color,u=void 0===i?"secondary":i,m=e.name,d=e.onChange,p=e.size,E=void 0===p?"medium":p,O=Object(r.a)(e,["checked","classes","color","name","onChange","size"]),j=c.useContext(g.a),k=a,y=Object(b.a)(d,j&&j.onChange),x=m;return j&&("undefined"===typeof k&&(k=j.value===e.value),"undefined"===typeof x&&(x=j.name)),c.createElement(l.a,Object(n.a)({color:u,type:"radio",icon:c.cloneElement(v,{fontSize:"small"===E?"small":"default"}),checkedIcon:c.cloneElement(h,{fontSize:"small"===E?"small":"default"}),classes:{root:Object(o.a)(s.root,s["color".concat(Object(f.a)(u))]),checked:s.checked,disabled:s.disabled},name:x,checked:k,onChange:y,ref:t},O))}));t.a=Object(m.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(p.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(p.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(E)},1212:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(640),o=a(1124),l=Object(c.a)((function(){return{root:{textAlign:"center"},icon:{display:"flex",height:"inherit",width:"inherit"}}}));t.a=function(e){var t=l();return r.a.createElement(o.a,{classes:{root:t.root},fontSize:"small"},r.a.createElement("img",Object.assign({alt:"Custom Icon",className:t.icon,src:e.src},e)))}},1233:function(e,t,a){"use strict";var n=a(263),r=a(264);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(265)).default)(c.createElement("path",{d:"M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"}),"BookmarkBorderOutlined");t.default=o},1250:function(e,t,a){"use strict";var n=a(263),r=a(264);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(265)).default)(c.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.default=o},1258:function(e,t,a){"use strict";var n=a(7),r=a.n(n),c=a(11),o=a(23),l=a(45),s=a(0),i=a.n(s),u=a(3),m=a(1232),d=a(640),p=a(1127),f=a(1128),b=a(1130),g=a(1131),h=a(82),v=a(24),E=a(14),O=a(1125),j=a(636),k=a(1126),y=a(1083),x={style:{base:{color:E.a.grey[500],fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:E.a.grey[500]}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},N=Object(d.a)((function(e){return{root:{}}})),C=function(e){var t=e.className,a=(e.open,e.author),n=e.secret,o=e.onOpen,s=e.onBack,d=e.onSuccess,p=Object(l.a)(e,["className","open","author","secret","onOpen","onBack","onSuccess"]),f=Object(m.useStripe)(),b=Object(m.useElements)(),g=N(),h=function(){var e=Object(c.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),f&&b){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f.confirmCardPayment(n,{payment_method:{card:b.getElement(m.CardElement),billing_details:{email:a.email}}});case 5:(c=e.sent).error?console.log(c.error.message):"succeeded"===c.paymentIntent.status&&d();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",Object.assign({className:Object(u.a)(g.root,t)},p),i.a.createElement("form",{onSubmit:h},i.a.createElement(O.a,null,i.a.createElement(j.a,{border:1,padding:2,borderRadius:5},i.a.createElement(m.CardElement,{options:x}))),i.a.createElement(k.a,null,i.a.createElement(y.a,{onClick:function(){return o()},color:"primary"},"Cancel"),i.a.createElement(y.a,{onClick:function(){return s()},color:"primary"},"Back"),i.a.createElement(y.a,{disabled:!f,type:"submit",color:"primary"},"Confirm"))))},w=a(1105),S=a(1096),B=a(1097),I=Object(d.a)((function(e){return{root:{}}})),_=function(e){var t=e.className,a=e.author,n=(e.open,e.onOpen),m=e.onNext,d=Object(l.a)(e,["className","author","open","onOpen","onNext"]),p=I(),f=Object(s.useState)(),b=Object(o.a)(f,2),g=b[0],v=b[1],E=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={stripeId:a.stripeId,amount:g},e.next=3,h.a.post("/stripe/secret",t);case 3:(n=e.sent).data&&m(n.data.secret);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement("div",Object.assign({className:Object(u.a)(p.root,t)},d),i.a.createElement(O.a,null,i.a.createElement(w.a,{container:!0,justify:"center"},i.a.createElement(w.a,{item:!0,md:5},i.a.createElement(S.a,{label:"Name",defaultValue:a.name,InputProps:{readOnly:!0}})),i.a.createElement(w.a,{item:!0,md:5},i.a.createElement(S.a,{label:"Amount",type:"number",placeholder:"Must be larger than 3",value:g,onChange:function(e){return v(e.target.value)},error:g<3,InputProps:{inputProps:{min:3},startAdornment:i.a.createElement(B.a,{position:"start"},"$")}})))),i.a.createElement(k.a,null,i.a.createElement(y.a,{onClick:function(){return n()},color:"primary"},"Cancel"),i.a.createElement(y.a,{onClick:E,disabled:g<3||!g,color:"primary"},"Confirm")))},z=Object(d.a)((function(e){return{root:{},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));t.a=function(e){var t=e.className,a=e.postId,n=e.open,d=e.onOpen,E=e.onSuccess,O=Object(l.a)(e,["className","postId","open","onOpen","onSuccess"]),j=z(),k=Object(s.useState)(0),y=Object(o.a)(k,2),x=y[0],N=y[1],w=Object(s.useState)(),S=Object(o.a)(w,2),B=S[0],I=S[1],R=Object(s.useState)(),L=Object(o.a)(R,2),T=L[0],M=L[1],P=["Author Info","Card Details"];Object(s.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/posts/getById/"+a);case 2:(t=e.sent).data&&M(t.data.post.author);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);return i.a.createElement("div",Object.assign({className:Object(u.a)(j.root,t)},O),T&&i.a.createElement(p.a,{open:n,keepMounted:!0,onClose:function(){return d()},"aria-labelledby":"checkform-dialog",fullWidth:!0},i.a.createElement(f.a,{activeStep:x,alternativeLabel:!0},P.map((function(e){return i.a.createElement(b.a,{key:e},i.a.createElement(g.a,null,e))}))),0===x&&i.a.createElement(_,{open:n,author:T,onOpen:d,onNext:function(e){I(e),N((function(e){return e+1}))}}),1===x&&i.a.createElement(m.Elements,{stripe:v.g},i.a.createElement(C,{open:n,author:T,secret:B,onOpen:d,onBack:function(){N((function(e){return e-1}))},onSuccess:E}))))}},1276:function(e,t,a){"use strict";var n=a(0),r=n.createContext();t.a=r},1309:function(e,t,a){"use strict";var n=a(263),r=a(264);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(265)).default)(c.createElement("path",{d:"M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag");t.default=o},1310:function(e,t,a){"use strict";var n=a(263),r=a(264);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(265)).default)(c.createElement("path",{d:"M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z"}),"FlagOutlined");t.default=o},1311:function(e,t,a){"use strict";var n=a(263),r=a(264);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(265)).default)(c.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");t.default=o},1356:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),c=a(11),o=a(23),l=a(359),s=a(0),i=a.n(s),u=a(36),m=a(21),d=a(1272),p=a(4),f=a.n(p),b=a(640),g=a(14),h=a(35),v=a(619),E=a(161),O=a(636),j=a(1105),k=a(77),y=a(1115),x=a(1082),N=a(1116),C=a(1099),w=a(82),S=a(56),B=a(360),I=a(45),_=a(3),z=a(1088),R=a(626),L=a(1233),T=a.n(L),M=a(1222),P=a.n(M),F=a(1213),H=a.n(F),A=a(1190),V=a(1212),D=a(1258),G=Object(b.a)((function(e){return{root:{display:"flex",alignItems:"center"},div:{flexDirection:"column",position:"sticky",float:"left",top:"45vh",left:"10vw"},likedButton:{color:g.a.red[600]},likedIcon:{padding:e.spacing(1)},commentBox:Object(l.a)({marginTop:e.spacing(3)},e.breakpoints.down("sm"),{marginTop:e.typography.pxToRem(6),marginLeft:e.spacing(2),marginRight:e.spacing(1)}),iconBox:Object(l.a)({marginTop:e.spacing(1)},e.breakpoints.down("sm"),{marginTop:e.typography.pxToRem(2)}),commentIcon:{color:g.a.grey[700]}}})),$=function(e){var t=e.className,a=e.post,n=e.isBookmarked,l=e.onBookmarked,u=Object(I.a)(e,["className","post","isBookmarked","onBookmarked"]),m=G(),d=Object(S.a)(),p=d.user,f=d.isAuthenticated,b=Object(s.useState)(!1),g=Object(o.a)(b,2),h=g[0],v=g[1],E=Object(s.useState)(a.liked.count),j=Object(o.a)(E,2),y=j[0],x=j[1],N=Object(s.useState)(!1),C=Object(o.a)(N,2),B=C[0],L=C[1],M=Object(s.useState)(!1),F=Object(o.a)(M,2),$=F[0],W=F[1];Object(s.useEffect)((function(){f&&p._id===a.author._id&&L(!0),!f&&L(!0)}),[p,f,a.author]),Object(s.useEffect)((function(){f&&a.liked.users.forEach((function(e){return e===p._id&&v(!0)}))}),[a.liked.users]);var U=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={postId:a._id,isLiked:!h},e.next=3,w.a.put("/posts/liked",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(c.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={postId:a._id},c=n?"delete":"create",e.next=4,w.a.post("/bookmarks/".concat(c),t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){return W(!$)};return i.a.createElement("div",Object.assign({className:Object(_.a)(m.root,m[t])},u),h?i.a.createElement(z.a,{title:"Unlike",disableTouchListener:!0,disableHoverListener:B},i.a.createElement("span",null,i.a.createElement(R.a,{className:Object(_.a)(m.likedButton,m.likedIcon),onClick:function(){v(!1),x((function(e){return e-1})),U()},disabled:B},i.a.createElement(V.a,{src:"/static/icons/trending_filled.svg"})))):i.a.createElement(z.a,{title:"Like",disableTouchListener:!0,disableHoverListener:B},i.a.createElement("span",null,i.a.createElement(R.a,{className:m.likedIcon,onClick:function(){v(!0),x((function(e){return e+1})),U()},disabled:B},i.a.createElement(V.a,{src:"/static/icons/trending_outlined.svg"})))),i.a.createElement(k.a,{color:"textSecondary",variant:"h6"},y),i.a.createElement(O.a,{className:m.commentBox},i.a.createElement(A.a,{className:m.commentIcon,size:"20"})),i.a.createElement(k.a,{color:"textSecondary",variant:"h6"},a.comments.length),i.a.createElement(O.a,{className:m.iconBox},n?i.a.createElement(z.a,{title:"Unsaved",disableTouchListener:!0,disableHoverListener:B},i.a.createElement("span",null,i.a.createElement(R.a,{className:m.likedButton,onClick:function(){l(!1),q()},disabled:B},i.a.createElement(T.a,{fontSize:"small"})))):i.a.createElement(z.a,{title:"Saved",disableTouchListener:!0,disableHoverListener:B},i.a.createElement("span",null,i.a.createElement(R.a,{onClick:function(){l(!0),q()},disabled:B},i.a.createElement(T.a,{fontSize:"small"}))))),i.a.createElement(O.a,{className:m.iconBox},i.a.createElement("span",null,i.a.createElement(R.a,{disabled:B,onClick:J},i.a.createElement(H.a,{fontSize:"small"})))),i.a.createElement(O.a,{className:m.iconBox},i.a.createElement("span",null,i.a.createElement(R.a,{disabled:B},i.a.createElement(P.a,{fontSize:"small"})))),$&&i.a.createElement(D.a,{open:$,postId:a._id,onOpen:J,onSuccess:J}))},W=a(33),U=a(1113),q=a(1083),J=a(1309),Z=a.n(J),K=a(1310),Q=a.n(K),X=a(1127),Y=a(1132),ee=a(1125),te=a(631),ae=a(633),ne=a(1136),re=a(1091),ce=a(1142),oe=a(1096),le=a(1126),se=a(24),ie=Object(b.a)((function(e){return{root:{},toggleBtn:{"&.MuiToggleButton-root":{color:e.palette.text.primary},"&.Mui-selected":{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}}}})),ue=function(e){var t=e.open,a=(e.user,e.comment),n=e.onOpen,l=e.onFlag,u=e.className,m=Object(I.a)(e,["open","user","comment","onOpen","onFlag","className"]),d=ie(),p=Object(s.useState)(""),f=Object(o.a)(p,2),b=f[0],g=f[1],h=Object(s.useState)(""),v=Object(o.a)(h,2),E=v[0],O=v[1],j=function(){var e=Object(c.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=""!==E?E:b,c={comment:a._id,reason:t,type:"comment"},e.next=4,w.a.put("/comments/flag",c);case 4:n(),l();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){n()};return i.a.createElement("div",Object.assign({className:Object(_.a)(d.root,u)},m),i.a.createElement(X.a,{open:t,keepMounted:!0,onClose:k,"aria-labelledby":"status-dialog"},i.a.createElement(Y.a,null,"Report"),i.a.createElement(ee.a,null,i.a.createElement(te.a,{component:"fieldset"},i.a.createElement(ae.a,{component:"legend"},"Please choose the reason"),i.a.createElement(ne.a,{"aria-label":"spam-flag-report",name:"report",value:b,onChange:function(e){O(""),g(e.target.value)}},se.c.map((function(e,t){return i.a.createElement(re.a,{key:e.name+t,value:e.name,control:i.a.createElement(ce.a,null),label:e.label})})))),i.a.createElement(oe.a,{value:E,margin:"dense",type:"text",onChange:function(e){O(e.target.value)},disabled:"other"!==b,fullWidth:!0})),i.a.createElement(le.a,null,i.a.createElement(q.a,{onClick:k,color:"primary"},"Cancel"),i.a.createElement(q.a,{onClick:j,color:"primary"},"Confirm"))))},me={reply:!1,disable:!0},de=Object(b.a)((function(e){return{root:{display:"flex",marginBottom:e.spacing(2)},bubble:{borderRadius:e.shape.borderRadius},header:Object(l.a)({},e.breakpoints.down("sm"),{flexWrap:"wrap"}),name:Object(l.a)({},e.breakpoints.down("sm"),{width:"100%"}),replybtn:{marginRight:e.spacing(1)},replyIcon:{color:g.a.grey[700]},replyClickIcon:{color:g.a.red[700]},small:{width:e.spacing(4),height:e.spacing(4)},large:{width:e.spacing(5),height:e.spacing(5)},date:{marginLeft:e.spacing(1)}}})),pe=function(e){var t=e.className,a=e.comment,n=e.reply,l=e.onComment,u=Object(I.a)(e,["className","comment","reply","onComment"]),d=de(),p=Object(h.a)(),b=Object(v.a)(p.breakpoints.down("sm")),g=Object(S.a)(),E=g.user,j=g.isAuthenticated,N=Object(s.useState)(!1),C=Object(o.a)(N,2),B=C[0],z=C[1],R=Object(s.useState)(me),L=Object(o.a)(R,2),T=L[0],M=L[1],P=Object(s.useState)(!1),F=Object(o.a)(P,2),H=F[0],D=F[1],G=Object(s.useState)(!1),$=Object(o.a)(G,2),J=$[0],K=$[1],X=Object(s.useState)(a.liked.count),Y=Object(o.a)(X,2),ee=Y[0],te=Y[1],ae={marginLeft:p.typography.pxToRem((b?10:20)*a.depth)};Object(s.useEffect)((function(){j&&E._id===a.user._id&&M((function(e){return Object(W.a)(Object(W.a)({},e),{},{disabled:!0})})),!j&&M((function(e){return Object(W.a)(Object(W.a)({},e),{},{disabled:!0})}))}),[E,j,a.user]),Object(s.useEffect)((function(){j&&a.liked.users.forEach((function(e){return e===E._id&&D(!0)}))}),[a.liked.users]),Object(s.useEffect)((function(){if(j){var e=a.flags.find((function(e){return e.user===E._id}));K(Boolean(e))}}),[a.flags]),Object(s.useEffect)((function(){if(E){var e=n===a._id&&a.user._id!==E._id,t=a.user._id===E._id;M({reply:e,disable:t})}}),[n,a,E]);var ne=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={commentId:a._id,isLiked:!H},e.next=3,w.a.put("/comments/liked",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement("div",Object.assign({className:Object(_.a)(d.root,t),style:ae},u),i.a.createElement(y.a,{alt:"Person",component:m.a,src:a.user.avatar,className:Object(_.a)(b?d.small:d.large),to:"#"}),i.a.createElement(O.a,{flexGrow:1,p:2,ml:2,bgcolor:"background.dark",className:d.bubble},i.a.createElement(O.a,{display:"flex",alignItems:"center",className:d.header,mb:1},i.a.createElement(O.a,{className:d.name},i.a.createElement(x.a,{color:"textPrimary",component:m.a,to:"#",variant:"h6"},a.user.name),i.a.createElement(U.a,{smUp:!0},i.a.createElement(k.a,{color:"textSecondary",variant:"caption",className:d.date},f()(a.createdAt).fromNow()))),i.a.createElement(O.a,{flexGrow:1}),i.a.createElement(q.a,{size:"small",className:d.replybtn,onClick:function(){var e=a.depth+1;l(a._id,e)},disabled:T.disable,startIcon:i.a.createElement(A.a,{size:"20",className:T.reply?d.replyClickIcon:d.replyIcon})},"Reply"),H?i.a.createElement(q.a,{size:"small",className:d.replybtn,onClick:function(){D(!1),te((function(e){return e-1})),ne()},disabled:T.disable,startIcon:i.a.createElement(V.a,{src:"/static/icons/trending_filled.svg"})},ee," likes"):i.a.createElement(q.a,{size:"small",className:d.replybtn,onClick:function(){D(!0),te((function(e){return e+1})),ne()},disabled:T.disable,startIcon:i.a.createElement(V.a,{src:"/static/icons/trending_outlined.svg"})},ee," likes"),i.a.createElement(q.a,{size:"small",className:d.replybtn,onClick:function(){z(!0)},disabled:T.disable||J,startIcon:J?i.a.createElement(Z.a,null):i.a.createElement(Q.a,null)},"Flag"),i.a.createElement(U.a,{smDown:!0},i.a.createElement(k.a,{color:"textSecondary",variant:"caption",className:d.date},f()(a.createdAt).fromNow()))),i.a.createElement(k.a,{variant:"body1",color:"textPrimary"},a.comment)),B&&i.a.createElement(ue,{open:B,user:E,comment:a,onOpen:function(){z(!B)},onFlag:function(){K(!0)}}))},fe=a(148),be=a(354),ge=a(1250),he=a.n(ge),ve=a(1271),Ee=a.n(ve),Oe=a(1311),je=a.n(Oe),ke=Object(b.a)((function(e){return{root:Object(l.a)({alignItems:"center",display:"flex"},e.breakpoints.down("sm"),{flexWrap:"wrap"}),inputContainer:Object(l.a)({flexGrow:1,marginLeft:e.spacing(2),paddingBottom:e.spacing(.5),paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5),paddingTop:e.spacing(.5)},e.breakpoints.down("sm"),{width:"100%"}),divider:{height:24,width:1},fileInput:{display:"none"}}})),ye=function(e){var t=e.className,a=e.post,n=e.status,l=e.onFetch,u=Object(I.a)(e,["className","post","status","onFetch"]),m=ke(),d=Object(S.a)().user,p=Object(fe.b)().enqueueSnackbar,f=Object(h.a)(),b=Object(v.a)(f.breakpoints.down("sm")),g=Object(s.useRef)(null),O=Object(s.useState)(""),j=Object(o.a)(O,2),k=j[0],x=j[1],N=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={parent:n.parent,post:a._id,depth:n.depth,comment:k},e.next=4,w.a.post("/comments/create",t);case 4:x(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.message&&p(e.t0.message,{variant:"error"});case 10:l();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),B=function(){g.current.click()};return i.a.createElement("div",Object.assign({className:Object(_.a)(m.root,t)},u),!b&&i.a.createElement(y.a,{alt:"Person",src:d?d.avatar:""}),i.a.createElement(E.a,{className:m.inputContainer,variant:"outlined"},i.a.createElement(be.a,{value:k,disableUnderline:!0,fullWidth:!0,multiline:!0,rows:3,onChange:function(e){e.persist(),x(e.target.value)}})),i.a.createElement(z.a,{title:"Send"},i.a.createElement("span",null,i.a.createElement(R.a,{color:k.length>0?"primary":"default",onClick:N,disabled:""===k},i.a.createElement(he.a,null)))),i.a.createElement(C.a,{className:m.divider}),i.a.createElement(z.a,{title:"Attach image"},i.a.createElement(R.a,{edge:"end",onClick:B},i.a.createElement(Ee.a,null))),i.a.createElement(z.a,{title:"Attach file"},i.a.createElement(R.a,{edge:"end",onClick:B},i.a.createElement(je.a,null))),i.a.createElement("input",{className:m.fileInput,ref:g,type:"file"}))},xe={depth:0,parent:null},Ne=Object(b.a)((function(e){return{root:Object(l.a)({backgroundColor:e.palette.background.dark,margin:"0 auto",width:"80%",minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.down("sm"),{width:"100%"}),chip:{marginLeft:e.spacing(1),marginTop:e.spacing(1)},box:Object(l.a)({padding:e.spacing(7),flexGrow:1},e.breakpoints.down("sm"),{padding:e.spacing(3)}),author:{marginTop:e.spacing(2),display:"flex",alignItems:"center"},avatar:{marginRight:e.spacing(2)},content:Object(l.a)({fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(17),marginBottom:e.spacing(2)},e.breakpoints.down("sm"),{fontSize:e.typography.pxToRem(17)}),disclosure:Object(l.a)({fontFamily:e.typography.fontFamily,color:g.a.grey[500]},e.breakpoints.down("sm"),{fontSize:"0.9rem"})}}));t.default=function(){var e=Ne(),t=Object(h.a)(),a=Object(u.g)(),n=Object(u.h)(),l=Object(S.a)(),p=l.user,b=l.isAuthenticated,g=Object(v.a)(t.breakpoints.down("md")),I=Object(s.useState)(),_=Object(o.a)(I,2),z=_[0],R=_[1],L=Object(s.useState)(xe),T=Object(o.a)(L,2),M=T[0],P=T[1],F=Object(s.useState)(!1),H=Object(o.a)(F,2),A=H[0],V=H[1];Object(s.useEffect)((function(){D(),se.f.on("fetchPost",(function(e){D()}))}),[]);var D=function(){var e=Object(c.a)(r.a.mark((function e(){var t,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.pathname.split("/")[3],c=b&&{user:p._id},e.next=5,w.a.get("/posts/get/".concat(t),{params:c});case 5:o=e.sent,R(o.data.post),V(o.data.isBookmark),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.push("/404");case 13:P(xe);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),G=function(e){V(e)},W=function(e,t){var a=M.parent!==e?e:null;P({parent:a,depth:t})};return i.a.createElement(i.a.Fragment,null,z&&!g&&i.a.createElement($,{post:z,isBookmarked:A,onBookmarked:G,className:"div"}),i.a.createElement(B.a,{className:e.root,title:z&&z.title?z.title:"Post"},i.a.createElement(E.a,null,z&&i.a.createElement(O.a,{mt:3,className:e.box},i.a.createElement(j.a,{container:!0,spacing:3},g&&i.a.createElement(i.a.Fragment,null,i.a.createElement(O.a,{flexGrow:1}),i.a.createElement($,{post:z,isBookmarked:A,onBookmarked:G})),i.a.createElement(j.a,{item:!0,xs:12,md:10},i.a.createElement(k.a,{variant:"h1",component:"header",color:"textPrimary"},z.title),i.a.createElement(O.a,{className:e.author},i.a.createElement(y.a,{alt:"Person",component:m.a,src:z.author.avatar,className:e.avatar,to:"/users/"+z.author.name}),i.a.createElement(k.a,{variant:"caption",color:"textSecondary"},i.a.createElement(x.a,{color:"textSecondary",component:m.a,to:"/users/"+z.author.name,variant:"h6"},z.author.name)," ",f()(z.createdAt).fromNow())),i.a.createElement(O.a,{mt:2},z.tags.map((function(t){return i.a.createElement(N.a,{key:t.symbol,variant:"outlined",label:t.symbol,className:e.chip})}))))),i.a.createElement(O.a,{mt:3,className:e.content},Object(d.a)(z.content)),i.a.createElement(C.a,null),i.a.createElement(O.a,{mt:3,className:e.disclosure},Object(d.a)(z.disclosure)))),z&&i.a.createElement(E.a,null,i.a.createElement(O.a,{mt:3,className:e.box},i.a.createElement(j.a,{container:!0,spacing:3},i.a.createElement(j.a,{item:!0,xs:12,md:12},z.comments.map((function(e){return i.a.createElement(i.a.Fragment,{key:e._id},i.a.createElement(pe,{comment:e,reply:M.parent,onComment:W}))})),i.a.createElement(O.a,{my:2},i.a.createElement(C.a,null)),i.a.createElement(ye,{post:z,status:M,onFetch:D})))))))}}}]);
//# sourceMappingURL=15.113e1b66.chunk.js.map