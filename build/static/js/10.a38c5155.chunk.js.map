{"version":3,"sources":["views/post/PostCreateView/PostDetails.tsx","components/QuillEditor.tsx","views/post/PostCreateView/PostContent.tsx","views/post/PostCreateView/PostDisclosure.tsx","views/post/PostCreateView/PostReview/index.tsx","views/post/PostCreateView/index.tsx"],"names":["buttons","name","text","useStyles","makeStyles","theme","root","addTab","marginLeft","spacing","tag","datePicker","toggleBtn","marginTop","color","palette","primary","backgroundColor","secondary","main","common","white","initialTag","symbol","securityName","PostDetails","className","post","onPost","onNext","rest","classes","useState","options","setOptions","search","setSearch","setTag","useEffect","a","axios","get","response","data","length","map","item","fecthData","handleChangeTag","event","value","val","split","enableReinitialize","initialValues","title","tags","picker","submit","validationSchema","Yup","shape","min","max","required","onSubmit","values","setErrors","setStatus","setSubmitting","trim","success","err","message","errors","handleBlur","handleChange","handleSubmit","isSubmitting","setFieldValue","touched","clsx","onKeyPress","e","key","preventDefault","Typography","variant","Box","mt","Link","component","RouterLink","to","TextField","error","Boolean","fullWidth","helperText","label","placeholder","onBlur","onChange","ToggleButtonGroup","exclusive","size","newAlignment","aria-label","idx","ToggleButton","display","alignItems","Autocomplete","freeSolo","disableClearable","option","tagValue","renderInput","params","InputProps","style","width","target","IconButton","onClick","SvgIcon","i","Chip","onDelete","newTags","filter","t","FormHelperText","flexGrow","Button","disabled","type","defaultProps","borderLeft","borderTop","borderRight","borderBottom","divider","stroke","padding","background","default","border","boxShadow","shadows","borderRadius","fontFamily","typography","fontSize","QuillEditor","forwardRef","console","log","ref","editorContainer","editor","height","PostContent","onBack","quillRef","useRef","content","setContent","setError","modules","useMemo","toolbar","container","header","list","align","handlers","image","handleUpload","handleSave","file","fd","FormData","append","current","url","range","getEditorSelection","getEditor","insertEmbed","index","input","document","createElement","setAttribute","click","onchange","files","test","warn","Paper","PostDisclosure","disclosure","setDisclosure","typeOption","marginBottom","stepButton","chip","box","breakpoints","down","colors","grey","PostReview","onComplete","Grid","xs","md","parse","Divider","steps","icon","BriefcaseIcon","FileIcon","GavelIcon","RateReviewIcon","initialPost","slug","CustomStepConnector","withStyles","vertical","line","borderColor","StepConnector","useCustomStepIconStyles","active","contrastText","completed","CustomStepIcon","Icon","Avatar","dark","minHeight","paddingTop","paddingBottom","avatar","red","stepper","PostCreateView","user","useAuth","location","useLocation","isEdit","setIsEdit","activeStep","setActiveStep","setCompleted","setPost","fetchData","returnUrl","window","replace","stripeId","paths","pathname","fetchPost","_id","handleNext","prevActiveStep","handleBack","handleComplete","specialReg","join","toLowerCase","put","handlePost","prevState","Page","Container","maxWidth","mb","Card","CardContent","mx","justifyContent","Stepper","connector","orientation","step","Step","StepLabel","StepIconComponent","p","LoadingScreen"],"mappings":"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","file":"static/js/10.a38c5155.chunk.js","sourcesContent":["import React, { useState, useEffect, FC } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport axios from 'src/utils/axios';\nimport {\n  Box,\n  Button,\n  Chip,\n  Link,\n  FormHelperText,\n  IconButton,\n  SvgIcon,\n  TextField,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport {\n  ToggleButtonGroup,\n  ToggleButton,\n  Autocomplete\n} from '@material-ui/lab';\nimport { Plus as PlusIcon } from 'react-feather';\nimport { Theme } from 'src/theme';\nimport { Picker, Post, Tag } from 'src/types/post';\n\ninterface PostDetailsProps {\n  className?: string;\n  post?: Post;\n  onPost?: (param: any) => void;\n  onNext?: () => void;\n}\n\ninterface Status {\n  name: Picker;\n  text: string;\n}\n\nconst buttons: Status[] = [\n  { name: 'bullish', text: 'Bullish' },\n  { name: 'bearish', text: 'Bearish' },\n  { name: 'neutral', text: 'Neutral' },\n  { name: 'no_opinion', text: 'No Opinion' }\n];\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {},\n  addTab: {\n    marginLeft: theme.spacing(2)\n  },\n  tag: {\n    '& + &': {\n      marginLeft: theme.spacing(1)\n    }\n  },\n  datePicker: {\n    '& + &': {\n      marginLeft: theme.spacing(2)\n    }\n  },\n  toggleBtn: {\n    marginTop: theme.spacing(3),\n    '&.MuiToggleButton-root': {\n      color: theme.palette.text.primary\n    },\n    '&.Mui-selected': {\n      backgroundColor: theme.palette.secondary.main,\n      color: theme.palette.common.white\n    }\n  }\n}));\n\nconst initialTag: Tag = {\n  symbol: '',\n  securityName: '',\n  main: false\n};\n\nconst PostDetails: FC<PostDetailsProps> = ({\n  className,\n  post,\n  onPost,\n  onNext,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const [options, setOptions] = useState<Tag[]>([]);\n  const [search, setSearch] = useState<string>('');\n  const [tag, setTag] = useState<Tag>(initialTag);\n\n  useEffect(() => {\n    const fecthData = async () => {\n      const response = await axios.get<Tag[]>(`/stock/search/${search}`);\n\n      if (response.data && response.data.length > 0) {\n        let data = response.data.map(item => {\n          return {\n            symbol: item.symbol,\n            securityName: item.securityName,\n            main: false\n          };\n        });\n        setOptions(data);\n      }\n    };\n    search !== '' ? fecthData() : setOptions([]);\n  }, [search]);\n\n  const handleChangeTag = (event, value) => {\n    const val = value.split(': ');\n    setTag({ symbol: val[0], securityName: val[1], main: false });\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      initialValues={{\n        title: post.title || '',\n        tags: post.tags || [],\n        picker: post.picker || buttons[0].name,\n        submit: null\n      }}\n      validationSchema={Yup.object().shape({\n        title: Yup.string()\n          .min(3, 'Must be at least 3 characters')\n          .max(255)\n          .required('Required'),\n        picker: Yup.string().required('Required'),\n        tags: Yup.array().required()\n      })}\n      onSubmit={async (values, { setErrors, setStatus, setSubmitting }) => {\n        try {\n          onPost({\n            title: values.title.trim(),\n            tags: values.tags,\n            picker: values.picker\n          });\n          setStatus({ success: true });\n          setSubmitting(false);\n\n          if (onNext) {\n            onNext();\n          }\n        } catch (err) {\n          setStatus({ success: false });\n          setErrors({ submit: err.message });\n          setSubmitting(false);\n        }\n      }}\n    >\n      {({\n        errors,\n        handleBlur,\n        handleChange,\n        handleSubmit,\n        isSubmitting,\n        setFieldValue,\n        touched,\n        values\n      }) => (\n        <form\n          onSubmit={handleSubmit}\n          className={clsx(classes.root, className)}\n          onKeyPress={e => {\n            e.key === 'Enter' && e.preventDefault();\n          }}\n          {...rest}\n        >\n          <Typography variant=\"h3\" color=\"textPrimary\">\n            Details\n          </Typography>\n          <Box mt={2}>\n            <Typography variant=\"subtitle1\" color=\"textSecondary\">\n              Do not spam tags. <br />\n              Title should not be spammy. <br />\n              Title and article contents may be subject to grammatical and\n              punctual editing to ensure quality. <br />\n              You will only be compensated by the platform directly for your\n              first two approved articles. Please see the{' '}\n              <Link component={RouterLink} to=\"/docs/terms\" variant=\"h5\">\n                Terms and Conditions\n              </Link>{' '}\n              for more details.\n            </Typography>\n          </Box>\n          <Box mt={2}>\n            <TextField\n              error={Boolean(touched.title && errors.title)}\n              fullWidth\n              helperText={touched.title && errors.title}\n              label=\"Article Title\"\n              name=\"title\"\n              placeholder=\"Please type article title.\"\n              value={values.title}\n              onBlur={handleBlur}\n              onChange={handleChange}\n              variant=\"outlined\"\n            />\n            <ToggleButtonGroup\n              value={values.picker}\n              exclusive\n              size=\"small\"\n              onChange={(\n                event: React.MouseEvent<HTMLElement>,\n                newAlignment: string | null\n              ) => {\n                setFieldValue('picker', newAlignment);\n              }}\n              aria-label=\"text alignment\"\n            >\n              {buttons.map((item: Status, idx: number) => (\n                <ToggleButton\n                  key={item.name + idx}\n                  value={item.name}\n                  className={classes.toggleBtn}\n                >\n                  {item.text}\n                </ToggleButton>\n              ))}\n            </ToggleButtonGroup>\n            <Box mt={3} display=\"flex\" alignItems=\"center\">\n              <Autocomplete\n                freeSolo\n                disableClearable\n                options={options.map(\n                  option => option.symbol + ': ' + option.securityName\n                )}\n                onChange={handleChangeTag}\n                onKeyPress={e => {\n                  if (e.key === 'Enter') {\n                    let tagValue: Tag = tag;\n                    if (tag.symbol === '' || tag.securityName === '') {\n                      return;\n                    }\n\n                    if (values.tags.length === 0) tagValue.main = true;\n                    setFieldValue('tags', [...values.tags, tagValue]);\n                    setTag(initialTag);\n                    setSearch('');\n                  }\n                }}\n                value={search}\n                renderInput={params => (\n                  <TextField\n                    {...params}\n                    fullWidth\n                    name=\"tags\"\n                    label=\"Ticker\"\n                    placeholder=\"Please choose at least one tag.\"\n                    variant=\"outlined\"\n                    InputProps={{\n                      ...params.InputProps\n                    }}\n                    style={{ width: '47vw' }}\n                    onChange={event => setSearch(event.target.value)}\n                  />\n                )}\n              />\n              <IconButton\n                className={classes.addTab}\n                onClick={() => {\n                  let tagValue: Tag = tag;\n                  if (tag.symbol === '' || tag.securityName === '') {\n                    return;\n                  }\n\n                  if (values.tags.length === 0) tagValue.main = true;\n                  setFieldValue('tags', [...values.tags, tagValue]);\n                  setTag(initialTag);\n                  setSearch('');\n                }}\n              >\n                <SvgIcon>\n                  <PlusIcon />\n                </SvgIcon>\n              </IconButton>\n            </Box>\n            <Box mt={2}>\n              {values.tags.map((tag, i) => (\n                <Chip\n                  variant={tag.main ? 'default' : 'outlined'}\n                  key={i}\n                  label={tag.symbol}\n                  className={classes.tag}\n                  onDelete={() => {\n                    if (values.tags.length > 1 && tag.main)\n                      values.tags[1].main = true;\n\n                    const newTags = values.tags.filter(\n                      t =>\n                        t.symbol !== tag.symbol &&\n                        t.securityName !== tag.securityName\n                    );\n                    setFieldValue('tags', newTags);\n                  }}\n                  color={tag.main ? 'secondary' : 'default'}\n                />\n              ))}\n            </Box>\n            {Boolean(touched.tags && errors.tags) && (\n              <Box mt={2}>\n                <FormHelperText error>{errors.tags}</FormHelperText>\n              </Box>\n            )}\n          </Box>\n          <Box mt={6} display=\"flex\">\n            <Box flexGrow={1} />\n            <Button\n              color=\"secondary\"\n              disabled={isSubmitting}\n              type=\"submit\"\n              variant=\"contained\"\n              size=\"large\"\n            >\n              Next\n            </Button>\n          </Box>\n        </form>\n      )}\n    </Formik>\n  );\n};\n\nPostDetails.propTypes = {\n  className: PropTypes.string,\n  onPost: PropTypes.func,\n  onNext: PropTypes.func\n};\n\nPostDetails.defaultProps = {\n  onPost: () => {},\n  onNext: () => {}\n};\n\nexport default PostDetails;\n","import React, { FC } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport ReactQuill from 'react-quill';\nimport { makeStyles } from '@material-ui/core';\nimport { Theme } from 'src/theme';\n\ninterface QuillEditorProps {\n  className?: string;\n  forwardRef?: any;\n  [key: string]: any;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    '& .ql-toolbar': {\n      borderLeft: 'none',\n      borderTop: 'none',\n      borderRight: 'none',\n      borderBottom: `1px solid ${theme.palette.divider}`,\n      '& .ql-picker-label:hover': {\n        color: theme.palette.secondary.main\n      },\n      '& .ql-picker-label.ql-active': {\n        color: theme.palette.secondary.main\n      },\n      '& .ql-picker-item:hover': {\n        color: theme.palette.secondary.main\n      },\n      '& .ql-picker-item.ql-selected': {\n        color: theme.palette.secondary.main\n      },\n      '& button:hover': {\n        color: theme.palette.secondary.main,\n        '& .ql-stroke': {\n          stroke: theme.palette.secondary.main\n        }\n      },\n      '& button:focus': {\n        color: theme.palette.secondary.main,\n        '& .ql-stroke': {\n          stroke: theme.palette.secondary.main\n        }\n      },\n      '& button.ql-active': {\n        '& .ql-stroke': {\n          stroke: theme.palette.secondary.main\n        }\n      },\n      '& .ql-stroke': {\n        stroke: theme.palette.text.primary\n      },\n      '& .ql-picker': {\n        color: theme.palette.text.primary\n      },\n      '& .ql-picker-options': {\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.background.default,\n        border: 'none',\n        boxShadow: theme.shadows[10],\n        borderRadius: theme.shape.borderRadius\n      }\n    },\n    '& .ql-container': {\n      border: 'none',\n      '& .ql-editor': {\n        fontFamily: theme.typography.fontFamily,\n        fontSize: 16,\n        color: theme.palette.text.primary,\n        '&.ql-blank::before': {\n          color: theme.palette.text.secondary\n        }\n      }\n    }\n  }\n}));\n\nconst QuillEditor: FC<QuillEditorProps> = ({\n  className,\n  forwardRef,\n  ...rest\n}) => {\n  const classes = useStyles();\n  console.log(forwardRef);\n  return (\n    /* @ts-ignore */\n    <ReactQuill\n      ref={forwardRef}\n      className={clsx(classes.root, className)}\n      {...rest}\n    />\n  );\n};\n\nQuillEditor.propTypes = {\n  className: PropTypes.string\n};\n\nexport default QuillEditor;\n","import React, { useState, FC, FormEvent, useMemo, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Box,\n  Button,\n  FormHelperText,\n  Paper,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport axios from 'src/utils/axios';\nimport QuillEditor from 'src/components/QuillEditor';\nimport { Theme } from 'src/theme';\nimport { Post } from 'src/types/post';\n\ninterface PostContentProps {\n  className?: string;\n  post: Post;\n  onNext?: () => void;\n  onBack?: () => void;\n  onPost: (param: any) => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {},\n  editorContainer: {\n    marginTop: theme.spacing(3)\n  },\n  editor: {\n    '& .ql-editor': {\n      height: 400\n    }\n  }\n}));\n\nconst PostContent: FC<PostContentProps> = ({\n  className,\n  post,\n  onPost,\n  onBack,\n  onNext,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const quillRef = useRef(null);\n  const [content, setContent] = useState<string>(post.content || '');\n  const [isSubmitting, setSubmitting] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const modules = useMemo(\n    () => ({\n      toolbar: {\n        container: [\n          [{ header: [1, 2, 3, 4, 5, 6, false] }],\n          ['bold', 'italic', 'underline'],\n          [{ list: 'ordered' }, { list: 'bullet' }],\n          [{ align: [] }],\n          ['link', 'image', 'code-block'],\n          ['clean']\n        ],\n        handlers: {\n          image: () => handleUpload()\n        }\n      }\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const handleChange = (value: string): void => {\n    setContent(value);\n  };\n\n  const handleSubmit = async (\n    event: FormEvent<HTMLFormElement>\n  ): Promise<void> => {\n    event.preventDefault();\n\n    try {\n      setSubmitting(true);\n      onPost({ content: content.trim() });\n\n      if (onNext) {\n        onNext();\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleSave = async file => {\n    const fd = new FormData();\n    fd.append('upload', file);\n    const response = await axios.post<{ url: string }>(\n      '/posts/upload-image',\n      fd\n    );\n\n    if (response.data && quillRef.current) {\n      const url = response.data.url;\n      const range = quillRef.current.getEditorSelection();\n      quillRef.current.getEditor().insertEmbed(range.index, 'image', url);\n    }\n  };\n\n  const handleUpload = async () => {\n    const input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', 'image/*');\n    input.click();\n\n    input.onchange = () => {\n      const file = input.files[0];\n\n      if (/^image\\//.test(file.type)) {\n        handleSave(file);\n      } else {\n        console.warn('You could only upload images.');\n      }\n    };\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Typography variant=\"h3\" color=\"textPrimary\">\n        Content\n      </Typography>\n      <Box mt={2}>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\">\n          Do not advise people to make any financial decisions. <br />\n          Plagiarism is not tolerated.\n        </Typography>\n      </Box>\n      <Paper className={classes.editorContainer} variant=\"outlined\">\n        <QuillEditor\n          forwardRef={quillRef}\n          onChange={handleChange}\n          value={content}\n          className={classes.editor}\n          modules={modules}\n        />\n      </Paper>\n      {error && (\n        <Box mt={2}>\n          <FormHelperText error>{FormHelperText}</FormHelperText>\n        </Box>\n      )}\n      <Box mt={6} display=\"flex\">\n        {onBack && (\n          <Button onClick={onBack} size=\"large\">\n            Previous\n          </Button>\n        )}\n        <Box flexGrow={1} />\n        <Button\n          color=\"secondary\"\n          disabled={isSubmitting}\n          type=\"submit\"\n          variant=\"contained\"\n          size=\"large\"\n        >\n          Next\n        </Button>\n      </Box>\n    </form>\n  );\n};\n\nPostContent.propTypes = {\n  className: PropTypes.string,\n  onPost: PropTypes.func,\n  onNext: PropTypes.func,\n  onBack: PropTypes.func\n};\n\nPostContent.defaultProps = {\n  onPost: () => {},\n  onNext: () => {},\n  onBack: () => {}\n};\n\nexport default PostContent;\n","import React, { useState, FC, FormEvent } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Box,\n  Button,\n  FormHelperText,\n  Paper,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport QuillEditor from 'src/components/QuillEditor';\nimport { Theme } from 'src/theme';\nimport { Post } from 'src/types/post';\n\ninterface PostDisclosureProps {\n  className?: string;\n  post: Post;\n  onNext?: () => void;\n  onBack?: () => void;\n  onPost: (param: any) => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {},\n  editorContainer: {\n    marginTop: theme.spacing(3)\n  },\n  editor: {\n    '& .ql-editor': {\n      height: 300\n    },\n    '& .ql-toolbar': {\n      '& .ql-formats > .ql-picker': {\n        display: 'none'\n      }\n    }\n  }\n}));\n\nconst PostDisclosure: FC<PostDisclosureProps> = ({\n  className,\n  post,\n  onPost,\n  onBack,\n  onNext,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const [disclosure, setDisclosure] = useState<string>(post.disclosure || '');\n  const [isSubmitting, setSubmitting] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleChange = (value: string): void => {\n    setDisclosure(value);\n  };\n\n  const handleSubmit = async (\n    event: FormEvent<HTMLFormElement>\n  ): Promise<void> => {\n    event.preventDefault();\n\n    try {\n      setSubmitting(true);\n      onPost({ disclosure: disclosure.trim() });\n\n      if (onNext) {\n        onNext();\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Typography variant=\"h3\" color=\"textPrimary\">\n        Disclosure\n      </Typography>\n      <Box mt={2}>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\">\n          Let the readers know if you hold or do not hold any position in the\n          companies you are talking about. Make sure to also let readers know if\n          you are receiving compensation for the article. You may receive one\n          from us if your article is approved and you may receive tips from\n          readers.\n        </Typography>\n      </Box>\n      <Paper className={classes.editorContainer} variant=\"outlined\">\n        <QuillEditor\n          onChange={handleChange}\n          value={disclosure}\n          className={classes.editor}\n        />\n      </Paper>\n      {error && (\n        <Box mt={2}>\n          <FormHelperText error>{FormHelperText}</FormHelperText>\n        </Box>\n      )}\n      <Box mt={6} display=\"flex\">\n        {onBack && (\n          <Button onClick={onBack} size=\"large\">\n            Previous\n          </Button>\n        )}\n        <Box flexGrow={1} />\n        <Button\n          color=\"secondary\"\n          disabled={isSubmitting}\n          type=\"submit\"\n          variant=\"contained\"\n          size=\"large\"\n        >\n          Next\n        </Button>\n      </Box>\n    </form>\n  );\n};\n\nPostDisclosure.propTypes = {\n  className: PropTypes.string,\n  onPost: PropTypes.func,\n  onNext: PropTypes.func,\n  onBack: PropTypes.func\n};\n\nPostDisclosure.defaultProps = {\n  onPost: () => {},\n  onNext: () => {},\n  onBack: () => {}\n};\n\nexport default PostDisclosure;\n","import React, { useState, FC, FormEvent } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport parse from 'html-react-parser';\nimport {\n  Box,\n  FormHelperText,\n  Typography,\n  Button,\n  Grid,\n  Chip,\n  Divider,\n  colors,\n  makeStyles\n} from '@material-ui/core';\nimport { Theme } from 'src/theme';\nimport { Post, Tag } from 'src/types/post';\n\ninterface PostReviewProps {\n  className?: string;\n  post?: Post;\n  onBack?: () => void;\n  onComplete?: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {},\n  typeOption: {\n    alignItems: 'flex-start',\n    display: 'flex',\n    marginBottom: theme.spacing(2),\n    padding: theme.spacing(2)\n  },\n  stepButton: {\n    '& + &': {\n      marginLeft: theme.spacing(2)\n    }\n  },\n  chip: {\n    marginLeft: theme.spacing(1)\n  },\n  box: {\n    padding: theme.spacing(7),\n    [theme.breakpoints.down('sm')]: {\n      padding: theme.spacing(3)\n    }\n  },\n  content: {\n    fontFamily: theme.typography.fontFamily,\n    marginBottom: theme.spacing(2)\n  },\n  disclosure: {\n    fontFamily: theme.typography.fontFamily,\n    color: colors.grey[500],\n    fontSize: '0.9rem'\n  }\n}));\n\nconst PostReview: FC<PostReviewProps> = ({\n  className,\n  post,\n  onBack,\n  onComplete,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const [isSubmitting, setSubmitting] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (\n    event: FormEvent<HTMLFormElement>\n  ): Promise<void> => {\n    event.preventDefault();\n\n    try {\n      setSubmitting(true);\n\n      if (onComplete) {\n        onComplete();\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className={clsx(classes.root, className)}\n      {...rest}\n    >\n      <Typography variant=\"h3\" color=\"textPrimary\">\n        Review\n      </Typography>\n      <Box mt={2}>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\">\n          Make sure everything looks good.\n        </Typography>\n      </Box>\n      <Box mt={3} border={1} className={classes.box}>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={10}>\n            <Typography variant=\"h3\" color=\"textPrimary\">\n              {post.title}\n            </Typography>\n            <Box mt={3}>\n              <Box mt={1}>\n                {post.tags.map((tag: Tag) => (\n                  <Chip\n                    key={tag.symbol}\n                    variant={tag.main ? 'default' : 'outlined'}\n                    label={tag.symbol}\n                    className={classes.chip}\n                    color={tag.main ? 'primary' : 'default'}\n                  />\n                ))}\n              </Box>\n            </Box>\n          </Grid>\n        </Grid>\n        <Box mt={3} className={classes.content}>\n          {parse(post.content)}\n        </Box>\n        <Divider />\n        <Box mt={3} className={classes.disclosure}>\n          {parse(post.disclosure)}\n        </Box>\n      </Box>\n      {error && (\n        <Box mt={2}>\n          <FormHelperText error>{error}</FormHelperText>\n        </Box>\n      )}\n      <Box mt={6} display=\"flex\">\n        {onBack && (\n          <Button onClick={onBack} size=\"large\">\n            Previous\n          </Button>\n        )}\n        <Box flexGrow={1} />\n        <Button\n          color=\"secondary\"\n          disabled={isSubmitting}\n          type=\"submit\"\n          variant=\"contained\"\n          size=\"large\"\n        >\n          Complete\n        </Button>\n      </Box>\n    </form>\n  );\n};\n\nPostReview.propTypes = {\n  className: PropTypes.string,\n  onComplete: PropTypes.func,\n  onBack: PropTypes.func\n};\n\nPostReview.defaultProps = {\n  onComplete: () => {},\n  onBack: () => {}\n};\n\nexport default PostReview;\n","import React, { useState, FC, useEffect } from 'react';\nimport { Link as RouterLink, useLocation } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport {\n  Avatar,\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Container,\n  Grid,\n  Paper,\n  Step,\n  StepConnector,\n  StepLabel,\n  Stepper,\n  Typography,\n  colors,\n  makeStyles,\n  withStyles\n} from '@material-ui/core';\nimport {\n  Star as StarIcon,\n  Briefcase as BriefcaseIcon,\n  File as FileIcon\n} from 'react-feather';\nimport GavelIcon from '@material-ui/icons/Gavel';\nimport RateReviewIcon from '@material-ui/icons/RateReview';\nimport axios from 'src/utils/axios';\nimport useAuth from 'src/hooks/useAuth';\nimport { Theme } from 'src/theme';\nimport { Post, PostWithAuthor } from 'src/types/post';\nimport Page from 'src/components/Page';\nimport PostDetails from './PostDetails';\nimport PostContent from './PostContent';\nimport PostDisclosure from './PostDisclosure';\nimport PostReview from './PostReview';\nimport LoadingScreen from 'src/components/LoadingScreen';\n\ninterface CustomStepIconProps {\n  active?: boolean;\n  completed?: boolean;\n  icon: number;\n}\n\nconst steps = [\n  {\n    label: 'Details',\n    icon: BriefcaseIcon\n  },\n  {\n    label: 'Content',\n    icon: FileIcon\n  },\n  {\n    label: 'Disclosure',\n    icon: GavelIcon\n  },\n  {\n    label: 'Review',\n    icon: RateReviewIcon\n  }\n];\n\nconst initialPost = {\n  slug: '',\n  title: '',\n  content: '',\n  disclosure: '',\n  tags: []\n};\n\nconst CustomStepConnector = withStyles((theme: Theme) => ({\n  vertical: {\n    marginLeft: 19,\n    padding: 0\n  },\n  line: {\n    borderColor: theme.palette.divider\n  }\n}))(StepConnector);\n\nconst useCustomStepIconStyles = makeStyles((theme: Theme) => ({\n  root: {},\n  active: {\n    backgroundColor: theme.palette.secondary.main,\n    boxShadow: theme.shadows[10],\n    color: theme.palette.secondary.contrastText\n  },\n  completed: {\n    backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.secondary.contrastText\n  }\n}));\n\nconst CustomStepIcon: FC<CustomStepIconProps> = ({\n  active,\n  completed,\n  icon\n}) => {\n  const classes = useCustomStepIconStyles();\n\n  const Icon = steps[icon - 1].icon;\n\n  return (\n    <Avatar\n      className={clsx(classes.root, {\n        [classes.active]: active,\n        [classes.completed]: completed\n      })}\n    >\n      <Icon size=\"20\" />\n    </Avatar>\n  );\n};\n\nCustomStepIcon.propTypes = {\n  active: PropTypes.bool,\n  completed: PropTypes.bool,\n  icon: PropTypes.number.isRequired\n};\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  },\n  avatar: {\n    backgroundColor: colors.red[600]\n  },\n  stepper: {\n    backgroundColor: 'transparent'\n  }\n}));\n\nconst PostCreateView: FC = () => {\n  const classes = useStyles();\n  const { user } = useAuth();\n  const location = useLocation();\n  const [isEdit, setIsEdit] = useState<boolean>(false);\n  const [activeStep, setActiveStep] = useState<number>(0);\n  const [completed, setCompleted] = useState<boolean>(false);\n  const [post, setPost] = useState<Post>(initialPost);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await axios.post<{ data: string }>('/stripe/create', {\n        returnUrl: '/posts/new'\n      });\n      window.location.replace(response.data.data);\n    };\n    !user.stripeId && fetchData();\n  }, [user]);\n\n  useEffect(() => {\n    const paths = location.pathname.split('/');\n    const fetchPost = async () => {\n      const response = await axios.get<{ post: PostWithAuthor }>(\n        `/posts/get/${paths[3]}`,\n        {\n          params: { user: user._id }\n        }\n      );\n\n      response.data && setPost(response.data.post);\n    };\n    if (paths[2] === 'edit') {\n      fetchPost();\n      setIsEdit(true);\n    }\n  }, [location.pathname, user._id]);\n\n  const handleNext = (): void => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = (): void => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const handleComplete = async (): Promise<void> => {\n    const specialReg = /[^\\w\\s]/gi;\n    const slug = post.title\n      .replace(specialReg, '')\n      .replace('/', '-')\n      .split(' ')\n      .join('-')\n      .trim()\n      .toLowerCase();\n\n    isEdit\n      ? await axios.put<{ post: Post }>('/posts/update', { ...post, slug })\n      : await axios.post<{ post: Post }>('/posts/new', { ...post, slug });\n    setCompleted(true);\n  };\n\n  const handlePost = (values): void => {\n    setPost(prevState => ({ ...prevState, ...values }));\n  };\n\n  return (\n    <>\n      {!user.stripeId ? (\n        <LoadingScreen />\n      ) : (\n        <Page className={classes.root} title=\"Project Create\">\n          <Container maxWidth=\"lg\">\n            <Box mb={3}>\n              <Typography variant=\"h3\" color=\"textPrimary\">\n                Post New Article\n              </Typography>\n            </Box>\n            {!completed ? (\n              <Paper>\n                <Grid container>\n                  <Grid item xs={12} md={3}>\n                    <Stepper\n                      activeStep={activeStep}\n                      className={classes.stepper}\n                      connector={<CustomStepConnector />}\n                      orientation=\"vertical\"\n                    >\n                      {steps.map(step => (\n                        <Step key={step.label}>\n                          <StepLabel StepIconComponent={CustomStepIcon}>\n                            {step.label}\n                          </StepLabel>\n                        </Step>\n                      ))}\n                    </Stepper>\n                  </Grid>\n                  <Grid item xs={12} md={9}>\n                    <Box p={3}>\n                      {activeStep === 0 && (\n                        <PostDetails\n                          post={post}\n                          onPost={handlePost}\n                          onNext={handleNext}\n                        />\n                      )}\n                      {activeStep === 1 && (\n                        <PostContent\n                          post={post}\n                          onPost={handlePost}\n                          onBack={handleBack}\n                          onNext={handleNext}\n                        />\n                      )}\n                      {activeStep === 2 && (\n                        <PostDisclosure\n                          post={post}\n                          onPost={handlePost}\n                          onBack={handleBack}\n                          onNext={handleNext}\n                        />\n                      )}\n                      {activeStep === 3 && (\n                        <PostReview\n                          post={post}\n                          onBack={handleBack}\n                          onComplete={handleComplete}\n                        />\n                      )}\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Paper>\n            ) : (\n              <Card>\n                <CardContent>\n                  <Box maxWidth={450} mx=\"auto\">\n                    <Box display=\"flex\" justifyContent=\"center\">\n                      <Avatar className={classes.avatar}>\n                        <StarIcon />\n                      </Avatar>\n                    </Box>\n                    <Box mt={2}>\n                      <Typography\n                        variant=\"h3\"\n                        color=\"textPrimary\"\n                        align=\"center\"\n                      >\n                        You are all done!\n                      </Typography>\n                    </Box>\n                    <Box mt={2}>\n                      <Typography\n                        variant=\"subtitle1\"\n                        color=\"textSecondary\"\n                        align=\"center\"\n                      >\n                        Thank you for submitting your contribution to us. Your\n                        article is now in review and we will come back to you\n                        with our final decision.\n                      </Typography>\n                    </Box>\n                    <Box mt={2} display=\"flex\" justifyContent=\"center\">\n                      <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        component={RouterLink}\n                        to=\"/account/profile\"\n                      >\n                        Back to Profile\n                      </Button>\n                    </Box>\n                  </Box>\n                </CardContent>\n              </Card>\n            )}\n          </Container>\n        </Page>\n      )}\n    </>\n  );\n};\n\nexport default PostCreateView;\n"],"sourceRoot":""}