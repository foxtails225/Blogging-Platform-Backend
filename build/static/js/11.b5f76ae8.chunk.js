(this["webpackJsonpblogging-platform-frontend"]=this["webpackJsonpblogging-platform-frontend"]||[]).push([[11],{1119:function(e,a,t){"use strict";var n=t(1),c=t(5),r=t(0),l=(t(2),t(4)),i=t(8),o=t(256),s=r.forwardRef((function(e,a){var t=e.children,i=e.classes,s=e.className,m=e.focusVisibleClassName,u=Object(c.a)(e,["children","classes","className","focusVisibleClassName"]);return r.createElement(o.a,Object(n.a)({className:Object(l.a)(i.root,s),focusVisibleClassName:Object(l.a)(m,i.focusVisible),ref:a},u),t,r.createElement("span",{className:i.focusHighlight}))}));a.a=Object(i.a)((function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}}),{name:"MuiCardActionArea"})(s)},1120:function(e,a,t){"use strict";var n=t(1),c=t(5),r=t(0),l=(t(2),t(4)),i=t(8),o=["video","audio","picture","iframe","img"],s=r.forwardRef((function(e,a){var t=e.children,i=e.classes,s=e.className,m=e.component,u=void 0===m?"div":m,d=e.image,f=e.src,p=e.style,b=Object(c.a)(e,["children","classes","className","component","image","src","style"]),g=-1!==o.indexOf(u),E=!g&&d?Object(n.a)({backgroundImage:'url("'.concat(d,'")')},p):p;return r.createElement(u,Object(n.a)({className:Object(l.a)(i.root,s,g&&i.media,-1!=="picture img".indexOf(u)&&i.img),ref:a,style:E,src:g?d||f:void 0},b),t)}));a.a=Object(i.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(s)},1247:function(e,a,t){"use strict";var n=t(259),c=t(260);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=c(t(0)),l=(0,n(t(261)).default)(r.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");a.default=l},1248:function(e,a,t){"use strict";var n=t(259),c=t(260);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=c(t(0)),l=(0,n(t(261)).default)(r.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");a.default=l},1269:function(e,a,t){"use strict";var n=t(259),c=t(260);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=c(t(0)),l=(0,n(t(261)).default)(r.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");a.default=l},1270:function(e,a,t){"use strict";var n=t(259),c=t(260);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=c(t(0)),l=(0,n(t(261)).default)(r.createElement("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder");a.default=l},1313:function(e,a,t){"use strict";t.r(a);var n=t(7),c=t.n(n),r=t(11),l=t(23),i=t(0),o=t.n(i),s=t(1110),m=t(1096),u=t(1105),d=t(16),f=t(82),p=t(354),b=t(45),g=t(4),E=t(1098),v=t(1113),h=t(159),O=t(349),j=t(1081),y=t(620),N=t(1095),k=t(1247),x=t.n(k),C=t(1230),S=t.n(C),w=t(1248),P=t.n(w),M=t(81),z=Object(s.a)((function(e){return{root:{},inputContainer:{flexGrow:1,paddingBottom:e.spacing(.5),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),paddingTop:e.spacing(.5)},divider:{height:24,width:1},fileInput:{display:"none"}}})),A=function(e){var a=e.className,t=Object(b.a)(e,["className"]),n=z(),c=Object(i.useRef)(null),r=Object(i.useState)(""),s=Object(l.a)(r,2),m=s[0],d=s[1],f=Object(M.a)().user,p=function(){c.current.click()};return o.a.createElement(E.a,Object.assign({className:Object(g.a)(n.root,a)},t),o.a.createElement(v.a,null,o.a.createElement(u.a,{display:"flex",alignItems:"center"},o.a.createElement(h.a,{className:n.inputContainer,variant:"outlined"},o.a.createElement(O.a,{disableUnderline:!0,fullWidth:!0,onChange:function(e){e.persist(),d(e.target.value)},placeholder:"What's on your mind, ".concat(f.name)})),o.a.createElement(j.a,{title:"Send"},o.a.createElement(y.a,{color:m.length>0?"primary":"default"},o.a.createElement(x.a,null))),o.a.createElement(N.a,{className:n.divider}),o.a.createElement(j.a,{title:"Attach image"},o.a.createElement(y.a,{edge:"end",onClick:p},o.a.createElement(S.a,null))),o.a.createElement(j.a,{title:"Attach file"},o.a.createElement(y.a,{edge:"end",onClick:p},o.a.createElement(P.a,null))),o.a.createElement("input",{className:n.fileInput,ref:c,type:"file"}))))},I=t(22),L=t(3),R=t.n(L),V=t(1257),_=t(1099),B=t(1108),F=t(76),H=t(1075),G=t(1119),T=t(1120),W=t(1246),U=t.n(W),$=t(14),J=t(1269),q=t.n(J),D=t(1270),K=t.n(D),Q=t(1245),X=t.n(Q),Y=Object(s.a)((function(){return{root:{display:"flex",alignItems:"center"},likedButton:{color:$.a.red[600]}}})),Z=function(e){var a=e.className,t=e.post,n=Object(b.a)(e,["className","post"]),c=Y(),r=Object(i.useState)(t.isLiked),s=Object(l.a)(r,2),m=s[0],d=s[1],f=Object(i.useState)(t.likes),p=Object(l.a)(f,2),E=p[0],v=p[1];return o.a.createElement("div",Object.assign({className:Object(g.a)(c.root,a)},n),m?o.a.createElement(j.a,{title:"Unlike"},o.a.createElement(y.a,{className:c.likedButton,onClick:function(){d(!1),v((function(e){return e-1}))}},o.a.createElement(q.a,{fontSize:"small"}))):o.a.createElement(j.a,{title:"Like"},o.a.createElement(y.a,{onClick:function(){d(!0),v((function(e){return e+1}))}},o.a.createElement(K.a,{fontSize:"small"}))),o.a.createElement(F.a,{color:"textSecondary",variant:"h6"},E),o.a.createElement(u.a,{flexGrow:1}),o.a.createElement(y.a,null,o.a.createElement(X.a,{fontSize:"small"})))},ee=Object(s.a)((function(e){return{root:{display:"flex",marginBottom:e.spacing(2)},bubble:{borderRadius:e.shape.borderRadius}}})),ae=function(e){var a=e.className,t=e.comment,n=Object(b.a)(e,["className","comment"]),c=ee();return o.a.createElement("div",Object.assign({className:Object(g.a)(c.root,a)},n),o.a.createElement(B.a,{alt:"Person",component:I.a,src:t.author.avatar,to:"#"}),o.a.createElement(u.a,{flexGrow:1,p:2,ml:2,bgcolor:"background.dark",className:c.bubble},o.a.createElement(u.a,{display:"flex",alignItems:"center",mb:1},o.a.createElement(H.a,{color:"textPrimary",component:I.a,to:"#",variant:"h6"},t.author.name),o.a.createElement(u.a,{flexGrow:1}),o.a.createElement(F.a,{color:"textSecondary",variant:"caption"},R()(t.createdAt).fromNow())),o.a.createElement(F.a,{variant:"body1",color:"textPrimary"},t.message)))},te=Object(s.a)((function(e){return{root:{alignItems:"center",display:"flex"},inputContainer:{flexGrow:1,marginLeft:e.spacing(2),paddingBottom:e.spacing(.5),paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5),paddingTop:e.spacing(.5)},divider:{height:24,width:1},fileInput:{display:"none"}}})),ne=function(e){var a=e.className,t=Object(b.a)(e,["className"]),n=te(),c=Object(M.a)().user,r=Object(i.useRef)(null),s=Object(i.useState)(""),m=Object(l.a)(s,2),u=m[0],d=m[1],f=function(){r.current.click()};return o.a.createElement("div",Object.assign({className:Object(g.a)(n.root,a)},t),o.a.createElement(B.a,{alt:"Person",src:c.avatar}),o.a.createElement(h.a,{className:n.inputContainer,variant:"outlined"},o.a.createElement(O.a,{disableUnderline:!0,fullWidth:!0,onChange:function(e){e.persist(),d(e.target.value)},placeholder:"Leave a message"})),o.a.createElement(j.a,{title:"Send"},o.a.createElement(y.a,{color:u.length>0?"primary":"default"},o.a.createElement(x.a,null))),o.a.createElement(N.a,{className:n.divider}),o.a.createElement(j.a,{title:"Attach image"},o.a.createElement(y.a,{edge:"end",onClick:f},o.a.createElement(S.a,null))),o.a.createElement(j.a,{title:"Attach file"},o.a.createElement(y.a,{edge:"end",onClick:f},o.a.createElement(P.a,null))),o.a.createElement("input",{className:n.fileInput,ref:r,type:"file"}))},ce=Object(s.a)((function(){return{root:{},date:{marginLeft:6},media:{height:500,backgroundPosition:"top"}}})),re=function(e){var a=e.className,t=e.post,n=Object(b.a)(e,["className","post"]),c=ce(),r=Object(i.useState)(null),s=Object(l.a)(r,2),m=s[0],d=s[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,Object.assign({className:Object(g.a)(c.root,a)},n),o.a.createElement(_.a,{avatar:o.a.createElement(B.a,{alt:"Person",component:I.a,src:t.author.avatar,to:"#"}),disableTypography:!0,subheader:o.a.createElement(u.a,{display:"flex",alignItems:"center"},o.a.createElement(U.a,{fontSize:"small"}),o.a.createElement(F.a,{variant:"caption",color:"textSecondary",className:c.date},R()(t.createdAt).fromNow())),title:o.a.createElement(H.a,{color:"textPrimary",component:I.a,to:"#",variant:"h6"},t.author.name)}),o.a.createElement(u.a,{px:3,pb:2},o.a.createElement(F.a,{variant:"body1",color:"textPrimary"},t.message),t.media&&o.a.createElement(u.a,{mt:2},o.a.createElement(G.a,{onClick:function(){return d(t.media)}},o.a.createElement(T.a,{className:c.media,image:t.media}))),o.a.createElement(u.a,{mt:2},o.a.createElement(Z,{post:t})),o.a.createElement(u.a,{my:2},o.a.createElement(N.a,null)),t.comments.map((function(e){return o.a.createElement(ae,{comment:e,key:e.id})})),o.a.createElement(u.a,{my:2},o.a.createElement(N.a,null)),o.a.createElement(ne,null))),m&&o.a.createElement(V.a,{large:m,onClose:function(){return d(null)}}))},le=Object(s.a)((function(){return{root:{}}})),ie=function(e){var a=e.className,t=Object(b.a)(e,["className"]),n=le();return o.a.createElement("div",Object.assign({className:Object(g.a)(n.root,a)},t),o.a.createElement(F.a,{variant:"overline",color:"textSecondary"},"Social Feed"),o.a.createElement(F.a,{variant:"h3",color:"textPrimary"},"Here's what your connections posted"))},oe=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));a.default=function(){var e=oe(),a=Object(f.a)(),t=Object(i.useState)([]),n=Object(l.a)(t,2),s=n[0],b=n[1],g=Object(i.useCallback)(Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/social/feed");case 3:t=e.sent,a.current&&b(t.data.posts),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a]);return Object(i.useEffect)((function(){g()}),[g]),o.a.createElement(p.a,{className:e.root,title:"Social Feed"},o.a.createElement(m.a,{maxWidth:"lg"},o.a.createElement(ie,null),o.a.createElement(u.a,{mt:3},o.a.createElement(A,null)),s.map((function(e){return o.a.createElement(u.a,{mt:3,key:e.id},o.a.createElement(re,{post:e}))}))))}}}]);
//# sourceMappingURL=11.b5f76ae8.chunk.js.map