{"version":3,"sources":["../node_modules/@material-ui/core/esm/Icon/Icon.js","components/CustomIcon.tsx","../node_modules/@material-ui/icons/Share.js","../node_modules/@material-ui/icons/BookmarkBorderOutlined.js","../node_modules/@material-ui/icons/AddPhotoAlternate.js","../node_modules/@material-ui/icons/Send.js","../node_modules/@material-ui/icons/AttachFile.js","views/post/PostView/Reactions.tsx","views/post/PostView/Comment.tsx","views/post/PostView/CommentAdd.tsx","views/post/PostView/index.tsx"],"names":["Icon","React","props","ref","classes","className","_props$color","color","_props$component","component","Component","_props$fontSize","fontSize","other","_objectWithoutProperties","_extends","clsx","root","concat","capitalize","muiName","withStyles","theme","userSelect","typography","pxToRem","width","height","overflow","flexShrink","colorPrimary","palette","primary","main","colorSecondary","secondary","colorAction","action","active","colorError","error","colorDisabled","disabled","fontSizeInherit","fontSizeSmall","fontSizeLarge","name","useStyles","makeStyles","textAlign","icon","display","CustomIcon","alt","src","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","_default","createElement","d","alignItems","div","flexDirection","position","float","top","left","likedButton","colors","red","likedIcon","padding","spacing","commentBox","marginTop","breakpoints","down","marginLeft","marginRight","iconBox","commentIcon","grey","Reactions","post","isBookmarked","onBookmarked","rest","useAuth","user","isAuthenticated","useState","isLiked","setLiked","liked","count","likes","setLikes","setDisabled","useEffect","_id","author","users","forEach","item","updateLiked","a","params","postId","axios","put","updateSaved","path","Tooltip","title","disableTouchListener","disableHoverListener","IconButton","onClick","prevLikes","Typography","variant","Box","size","comments","length","initialStatus","reply","disable","marginBottom","bubble","borderRadius","shape","header","flexWrap","replybtn","replyIcon","replyClickIcon","small","large","Comment","comment","onComment","useTheme","match","useMediaQuery","status","setStatus","style","depth","Avatar","RouterLink","avatar","to","flexGrow","p","ml","bgcolor","mb","Link","Button","id","event","currentTarget","startIcon","moment","createdAt","fromNow","inputContainer","paddingBottom","paddingLeft","paddingRight","paddingTop","divider","fileInput","CommentAdd","onFetch","enqueueSnackbar","useSnackbar","fileInputRef","useRef","setValue","handleClick","parent","message","handleAttach","current","click","Paper","Input","disableUnderline","fullWidth","multiline","rows","onChange","persist","target","Divider","edge","type","backgroundColor","background","dark","margin","minHeight","chip","box","content","fontFamily","disclosure","PostView","history","useHistory","location","useLocation","matches","setPost","setBookmarked","handleFetch","pathname","split","get","response","data","isBookmark","push","handleBookmark","handleComment","Page","mt","Grid","container","xs","md","tags","map","tag","Chip","key","symbol","label","parse","Fragment","my"],"mappings":"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","file":"static/js/12.b625386f.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      userSelect: 'none',\n      fontSize: theme.typography.pxToRem(24),\n      width: '1em',\n      height: '1em',\n      // Chrome fix for https://bugs.chromium.org/p/chromium/issues/detail?id=820541\n      // To remove at some point.\n      overflow: 'hidden',\n      flexShrink: 0\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"secondary\"`. */\n    colorSecondary: {\n      color: theme.palette.secondary.main\n    },\n\n    /* Styles applied to the root element if `color=\"action\"`. */\n    colorAction: {\n      color: theme.palette.action.active\n    },\n\n    /* Styles applied to the root element if `color=\"error\"`. */\n    colorError: {\n      color: theme.palette.error.main\n    },\n\n    /* Styles applied to the root element if `color=\"disabled\"`. */\n    colorDisabled: {\n      color: theme.palette.action.disabled\n    },\n\n    /* Styles applied to the root element if `fontSize=\"inherit\"`. */\n    fontSizeInherit: {\n      fontSize: 'inherit'\n    },\n\n    /* Styles applied to the root element if `fontSize=\"small\"`. */\n    fontSizeSmall: {\n      fontSize: theme.typography.pxToRem(20)\n    },\n\n    /* Styles applied to the root element if `fontSize=\"large\"`. */\n    fontSizeLarge: {\n      fontSize: theme.typography.pxToRem(36)\n    }\n  };\n};\nvar Icon = /*#__PURE__*/React.forwardRef(function Icon(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'inherit' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'span' : _props$component,\n      _props$fontSize = props.fontSize,\n      fontSize = _props$fontSize === void 0 ? 'default' : _props$fontSize,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"fontSize\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx('material-icons', classes.root, className, color !== 'inherit' && classes[\"color\".concat(capitalize(color))], fontSize !== 'default' && classes[\"fontSize\".concat(capitalize(fontSize))]),\n    \"aria-hidden\": true,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Icon.propTypes = {\n  /**\n   * The name of the icon font ligature.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['inherit', 'primary', 'secondary', 'action', 'error', 'disabled']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * The fontSize applied to the icon. Defaults to 24px, but can be configure to inherit font size.\n   */\n  fontSize: PropTypes.oneOf(['inherit', 'default', 'small', 'large'])\n} : void 0;\nIcon.muiName = 'Icon';\nexport default withStyles(styles, {\n  name: 'MuiIcon'\n})(Icon);","import React, { FC } from 'react';\r\nimport { Icon, makeStyles } from '@material-ui/core';\r\n\r\ninterface CustomIconProps {\r\n  src: string;\r\n  [key: string]: any;\r\n}\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    textAlign: 'center'\r\n  },\r\n  icon: {\r\n    display: 'flex',\r\n    height: 'inherit',\r\n    width: 'inherit'\r\n  }\r\n}));\r\n\r\nconst CustomIcon: FC<CustomIconProps> = props => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Icon classes={{ root: classes.root }} fontSize=\"small\">\r\n      <img\r\n        alt=\"Custom Icon\"\r\n        className={classes.icon}\r\n        src={props.src}\r\n        {...props}\r\n      />\r\n    </Icon>\r\n  );\r\n};\r\n\r\nexport default CustomIcon;\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z\"\n}), 'Share');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z\"\n}), 'BookmarkBorderOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z\"\n}), 'AddPhotoAlternate');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"\n}), 'AttachFile');\n\nexports.default = _default;","import React, { FC, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport axios from 'src/utils/axios';\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Tooltip,\r\n  Typography,\r\n  colors,\r\n  makeStyles\r\n} from '@material-ui/core';\r\nimport BookmarkBorderOutlinedIcon from '@material-ui/icons/BookmarkBorderOutlined';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport { MessageCircle as MessageCircleIcon } from 'react-feather';\r\nimport CustomIcon from 'src/components/CustomIcon';\r\nimport useAuth from 'src/hooks/useAuth';\r\nimport { Bookmark } from 'src/types/bookmark';\r\nimport { Post } from 'src/types/post';\r\nimport { Theme } from 'src/theme';\r\n\r\ninterface ReactionsProps {\r\n  className?: string;\r\n  post: Post;\r\n  isBookmarked: boolean;\r\n  onBookmarked: (param: boolean) => void;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  div: {\r\n    flexDirection: 'column',\r\n    position: 'sticky',\r\n    float: 'left',\r\n    top: '45vh',\r\n    left: '10vw'\r\n  },\r\n  likedButton: {\r\n    color: colors.red[600]\r\n  },\r\n  likedIcon: {\r\n    padding: theme.spacing(1)\r\n  },\r\n  commentBox: {\r\n    marginTop: theme.spacing(3),\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginTop: theme.typography.pxToRem(6),\r\n      marginLeft: theme.spacing(2),\r\n      marginRight: theme.spacing(1)\r\n    }\r\n  },\r\n  iconBox: {\r\n    marginTop: theme.spacing(1),\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginTop: theme.typography.pxToRem(2)\r\n    }\r\n  },\r\n  commentIcon: {\r\n    color: colors.grey[700]\r\n  }\r\n}));\r\n\r\nconst Reactions: FC<ReactionsProps> = ({\r\n  className,\r\n  post,\r\n  isBookmarked,\r\n  onBookmarked,\r\n  ...rest\r\n}) => {\r\n  const classes = useStyles();\r\n  const { user, isAuthenticated } = useAuth();\r\n  const [isLiked, setLiked] = useState<boolean>(false);\r\n  const [likes, setLikes] = useState<number>(post.liked.count);\r\n  const [disabled, setDisabled] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    //@ts-ignore\r\n    isAuthenticated && user._id === post.author._id && setDisabled(true);\r\n    !isAuthenticated && setDisabled(true);\r\n  }, [user, isAuthenticated, post.author]);\r\n\r\n  useEffect(() => {\r\n    isAuthenticated &&\r\n      post.liked.users.forEach(item => item === user._id && setLiked(true));\r\n    //eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [post.liked.users]);\r\n\r\n  const updateLiked = async (): Promise<void> => {\r\n    const params = { postId: post._id, isLiked: !isLiked };\r\n    await axios.put<{ post: Post }>('/posts/liked', params);\r\n  };\r\n\r\n  const updateSaved = async (): Promise<void> => {\r\n    const params = { postId: post._id };\r\n    const path = isBookmarked ? 'delete' : 'create';\r\n    await axios.post<{ bookmark: Bookmark }>(`/bookmarks/${path}`, params);\r\n  };\r\n\r\n  const handleLike = (): void => {\r\n    setLiked(true);\r\n    setLikes(prevLikes => prevLikes + 1);\r\n    updateLiked();\r\n  };\r\n\r\n  const handleUnlike = (): void => {\r\n    setLiked(false);\r\n    setLikes(prevLikes => prevLikes - 1);\r\n    updateLiked();\r\n  };\r\n\r\n  const handleSaved = (): void => {\r\n    onBookmarked(true);\r\n    updateSaved();\r\n  };\r\n\r\n  const handleUnsaved = (): void => {\r\n    onBookmarked(false);\r\n    updateSaved();\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(classes.root, classes[className])} {...rest}>\r\n      {isLiked ? (\r\n        <Tooltip\r\n          title=\"Unlike\"\r\n          disableTouchListener\r\n          disableHoverListener={disabled}\r\n        >\r\n          <span>\r\n            <IconButton\r\n              className={clsx(classes.likedButton, classes.likedIcon)}\r\n              onClick={handleUnlike}\r\n              disabled={disabled}\r\n            >\r\n              <CustomIcon src=\"/static/icons/trending_filled.svg\" />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n      ) : (\r\n        <Tooltip\r\n          title=\"Like\"\r\n          disableTouchListener\r\n          disableHoverListener={disabled}\r\n        >\r\n          <span>\r\n            <IconButton\r\n              className={classes.likedIcon}\r\n              onClick={handleLike}\r\n              disabled={disabled}\r\n            >\r\n              <CustomIcon src=\"/static/icons/trending_outlined.svg\" />\r\n            </IconButton>\r\n          </span>\r\n        </Tooltip>\r\n      )}\r\n      <Typography color=\"textSecondary\" variant=\"h6\">\r\n        {likes}\r\n      </Typography>\r\n      <Box className={classes.commentBox}>\r\n        <MessageCircleIcon className={classes.commentIcon} size=\"20\" />\r\n      </Box>\r\n      <Typography color=\"textSecondary\" variant=\"h6\">\r\n        {post.comments.length}\r\n      </Typography>\r\n      <Box className={classes.iconBox}>\r\n        {isBookmarked ? (\r\n          <Tooltip\r\n            title=\"Unsaved\"\r\n            disableTouchListener\r\n            disableHoverListener={disabled}\r\n          >\r\n            <span>\r\n              <IconButton\r\n                className={classes.likedButton}\r\n                onClick={handleUnsaved}\r\n                disabled={disabled}\r\n              >\r\n                <BookmarkBorderOutlinedIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n        ) : (\r\n          <Tooltip\r\n            title=\"Saved\"\r\n            disableTouchListener\r\n            disableHoverListener={disabled}\r\n          >\r\n            <span>\r\n              <IconButton onClick={handleSaved} disabled={disabled}>\r\n                <BookmarkBorderOutlinedIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </span>\r\n          </Tooltip>\r\n        )}\r\n      </Box>\r\n      <Box className={classes.iconBox}>\r\n        <span>\r\n          <IconButton disabled={disabled}>\r\n            <ShareIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </span>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nReactions.propTypes = {\r\n  className: PropTypes.string,\r\n  // @ts-ignore\r\n  post: PropTypes.object.isRequired,\r\n  isBookmarked: PropTypes.bool,\r\n  onBookmarked: PropTypes.func\r\n};\r\n\r\nexport default Reactions;\r\n","import React, { FC, useState, useEffect } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport {\n  Avatar,\n  Box,\n  Link,\n  Button,\n  Typography,\n  useTheme,\n  useMediaQuery,\n  makeStyles,\n  colors\n} from '@material-ui/core';\nimport { MessageCircle as MessageCircleIcon } from 'react-feather';\nimport { Theme } from 'src/theme';\nimport { User } from 'src/types/user';\nimport { CommentsWithUser } from 'src/types/comment';\n\ninterface CommentProps {\n  className?: string;\n  user: User;\n  reply: string;\n  commentId?: string;\n  comment: CommentsWithUser;\n  onComment: (parent: string, depth: number) => void;\n}\n\ninterface Status {\n  reply: boolean;\n  disable: boolean;\n}\n\nconst initialStatus = {\n  reply: false,\n  disable: true\n};\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    display: 'flex',\n    marginBottom: theme.spacing(2)\n  },\n  bubble: {\n    borderRadius: theme.shape.borderRadius\n  },\n  header: {\n    [theme.breakpoints.down('sm')]: {\n      flexWrap: 'wrap'\n    }\n  },\n  name: {\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  replybtn: {\n    marginRight: theme.spacing(1)\n  },\n  replyIcon: {\n    color: colors.grey[700]\n  },\n  replyClickIcon: {\n    color: colors.red[700]\n  },\n  small: {\n    width: theme.spacing(4),\n    height: theme.spacing(4)\n  },\n  large: {\n    width: theme.spacing(5),\n    height: theme.spacing(5)\n  }\n}));\n\nconst Comment: FC<CommentProps> = ({\n  className,\n  user,\n  comment,\n  reply,\n  onComment,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const match = useMediaQuery(theme.breakpoints.down('sm'));\n  const [status, setStatus] = useState<Status>(initialStatus);\n  const style = {\n    marginLeft: theme.typography.pxToRem((match ? 10 : 20) * comment.depth)\n  };\n\n  useEffect(() => {\n    if (user) {\n      const value = reply === comment._id && comment.user._id !== user._id;\n      const disable = comment.user._id === user._id;\n      setStatus({ reply: value, disable });\n    }\n  }, [reply, comment, user]);\n\n  const handleClick = (event): void => {\n    const depth = comment.depth + 1;\n    onComment(event.currentTarget.id, depth);\n  };\n\n  return (\n    <div className={clsx(classes.root, className)} style={style} {...rest}>\n      <Avatar\n        alt=\"Person\"\n        component={RouterLink}\n        src={comment.user.avatar}\n        className={clsx(match ? classes.small : classes.large)}\n        to=\"#\"\n      />\n      <Box\n        flexGrow={1}\n        p={2}\n        ml={2}\n        bgcolor=\"background.dark\"\n        className={classes.bubble}\n      >\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          className={classes.header}\n          mb={1}\n        >\n          <Box className={classes.name}>\n            <Link\n              color=\"textPrimary\"\n              component={RouterLink}\n              to=\"#\"\n              variant=\"h6\"\n            >\n              {comment.user.name}\n            </Link>\n          </Box>\n          <Box flexGrow={1} />\n          <Button\n            id={comment._id}\n            size=\"small\"\n            className={classes.replybtn}\n            onClick={handleClick}\n            disabled={status.disable}\n            startIcon={\n              <MessageCircleIcon\n                size=\"20\"\n                className={\n                  status.reply ? classes.replyClickIcon : classes.replyIcon\n                }\n              />\n            }\n          >\n            Reply\n          </Button>\n          <Typography color=\"textSecondary\" variant=\"caption\">\n            {moment(comment.createdAt).fromNow()}\n          </Typography>\n        </Box>\n        <Typography variant=\"body1\" color=\"textPrimary\">\n          {comment.comment}\n        </Typography>\n      </Box>\n    </div>\n  );\n};\n\nComment.propTypes = {\n  className: PropTypes.string,\n  // @ts-ignore\n  comment: PropTypes.object.isRequired,\n  onReply: PropTypes.func\n};\n\nexport default Comment;\n","import React, { useRef, useState, FC, ChangeEvent } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSnackbar } from 'notistack';\nimport {\n  Avatar,\n  Divider,\n  IconButton,\n  Input,\n  Paper,\n  Tooltip,\n  useTheme,\n  useMediaQuery,\n  makeStyles\n} from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport AddPhotoIcon from '@material-ui/icons/AddPhotoAlternate';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport axios from 'src/utils/axios';\nimport useAuth from 'src/hooks/useAuth';\nimport { Theme } from 'src/theme';\nimport { Comments } from 'src/types/comment';\nimport { Post } from 'src/types/post';\n\ninterface Status {\n  depth: number;\n  parent: string | null;\n}\n\ninterface CommentAddProps {\n  className?: string;\n  post?: Post;\n  status: Status;\n  onFetch?: () => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    alignItems: 'center',\n    display: 'flex',\n    [theme.breakpoints.down('sm')]: {\n      flexWrap: 'wrap'\n    }\n  },\n  inputContainer: {\n    flexGrow: 1,\n    marginLeft: theme.spacing(2),\n    paddingBottom: theme.spacing(0.5),\n    paddingLeft: theme.spacing(0.5),\n    paddingRight: theme.spacing(0.5),\n    paddingTop: theme.spacing(0.5),\n    [theme.breakpoints.down('sm')]: {\n      width: '100%'\n    }\n  },\n  divider: {\n    height: 24,\n    width: 1\n  },\n  fileInput: {\n    display: 'none'\n  }\n}));\n\nconst CommentAdd: FC<CommentAddProps> = ({\n  className,\n  post,\n  status,\n  onFetch,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const { user } = useAuth();\n  const { enqueueSnackbar } = useSnackbar();\n  const theme = useTheme();\n  const match = useMediaQuery(theme.breakpoints.down('sm'));\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  const [value, setValue] = useState<string>('');\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    event.persist();\n    setValue(event.target.value);\n  };\n  \n  const handleClick = async () => {\n    try {\n      const params = {\n        parent: status.parent,\n        post: post._id,\n        depth: status.depth,\n        comment: value\n      };\n      await axios.post<{ comment: Comments }>('/comments/create', params);\n      setValue('');\n    } catch (err) {\n      err.message &&\n        enqueueSnackbar(err.message, {\n          variant: 'error'\n        });\n    }\n    onFetch();\n  };\n\n  const handleAttach = (): void => {\n    fileInputRef.current.click();\n  };\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      {!match && <Avatar alt=\"Person\" src={user ? user.avatar : ''} />}\n      <Paper className={classes.inputContainer} variant=\"outlined\">\n        <Input\n          value={value}\n          disableUnderline\n          fullWidth\n          multiline\n          rows={3}\n          onChange={handleChange}\n        />\n      </Paper>\n      <Tooltip title=\"Send\">\n        <span>\n          <IconButton\n            color={value.length > 0 ? 'primary' : 'default'}\n            onClick={handleClick}\n            disabled={value === ''}\n          >\n            <SendIcon />\n          </IconButton>\n        </span>\n      </Tooltip>\n      <Divider className={classes.divider} />\n      <Tooltip title=\"Attach image\">\n        <IconButton edge=\"end\" onClick={handleAttach}>\n          <AddPhotoIcon />\n        </IconButton>\n      </Tooltip>\n      <Tooltip title=\"Attach file\">\n        <IconButton edge=\"end\" onClick={handleAttach}>\n          <AttachFileIcon />\n        </IconButton>\n      </Tooltip>\n      <input className={classes.fileInput} ref={fileInputRef} type=\"file\" />\n    </div>\n  );\n};\n\nCommentAdd.propTypes = {\n  className: PropTypes.string\n};\n\nexport default CommentAdd;\n","import React, { FC, useState, useEffect } from 'react';\r\nimport { useHistory, useLocation, Link as RouterLink } from 'react-router-dom';\r\nimport parse from 'html-react-parser';\r\nimport moment from 'moment';\r\nimport {\r\n  Paper,\r\n  Box,\r\n  Grid,\r\n  Avatar,\r\n  Typography,\r\n  Chip,\r\n  Divider,\r\n  Link,\r\n  useTheme,\r\n  useMediaQuery,\r\n  makeStyles,\r\n  colors\r\n} from '@material-ui/core';\r\nimport axios from 'src/utils/axios';\r\nimport useAuth from 'src/hooks/useAuth';\r\nimport { Theme } from 'src/theme';\r\nimport { PostWithAuthor, Tag } from 'src/types/post';\r\nimport { Comments, CommentsWithUser } from 'src/types/comment';\r\nimport Page from 'src/components/Page';\r\nimport Reactions from './Reactions';\r\nimport Comment from './Comment';\r\nimport CommentAdd from './CommentAdd';\r\n\r\ninterface Status {\r\n  depth: number;\r\n  parent: string | null;\r\n}\r\n\r\nconst initialStatus: Status = {\r\n  depth: 0,\r\n  parent: null\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.dark,\r\n    margin: '0 auto',\r\n    width: '80%',\r\n    minHeight: '100%',\r\n    paddingTop: theme.spacing(3),\r\n    paddingBottom: theme.spacing(3),\r\n    [theme.breakpoints.down('sm')]: {\r\n      width: '100%'\r\n    }\r\n  },\r\n  chip: {\r\n    marginLeft: theme.spacing(1),\r\n    marginTop: theme.spacing(1)\r\n  },\r\n  box: {\r\n    padding: theme.spacing(7),\r\n    flexGrow: 1,\r\n    [theme.breakpoints.down('sm')]: {\r\n      padding: theme.spacing(3)\r\n    }\r\n  },\r\n  author: {\r\n    marginTop: theme.spacing(2),\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  content: {\r\n    fontFamily: theme.typography.fontFamily,\r\n    fontSize: theme.typography.pxToRem(17),\r\n    marginBottom: theme.spacing(2),\r\n    [theme.breakpoints.down('sm')]: {\r\n      fontSize: theme.typography.pxToRem(17)\r\n    }\r\n  },\r\n  disclosure: {\r\n    fontFamily: theme.typography.fontFamily,\r\n    color: colors.grey[500],\r\n    [theme.breakpoints.down('sm')]: {\r\n      fontSize: '0.9rem'\r\n    }\r\n  }\r\n}));\r\n\r\nconst PostView: FC = () => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { user, isAuthenticated } = useAuth();\r\n  const matches = useMediaQuery(theme.breakpoints.down('md'));\r\n  const [post, setPost] = useState<PostWithAuthor>();\r\n  const [status, setStatus] = useState<Status>(initialStatus);\r\n  const [isBookmarked, setBookmarked] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    handleFetch();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleFetch = async (): Promise<void> => {\r\n    try {\r\n      const path = location.pathname.split('/')[3];\r\n      const params = isAuthenticated && { user: user._id };\r\n      const response = await axios.get<{\r\n        post: PostWithAuthor;\r\n        comments: Comments[];\r\n        isBookmark: boolean;\r\n      }>(`/posts/get/${path}`, {\r\n        params\r\n      });\r\n\r\n      setPost(response.data.post);\r\n      setBookmarked(response.data.isBookmark);\r\n    } catch (err) {\r\n      history.push('/404');\r\n    }\r\n\r\n    setStatus(initialStatus);\r\n  };\r\n\r\n  const handleBookmark = (value: boolean): void => {\r\n    setBookmarked(value);\r\n  };\r\n\r\n  const handleComment = (id: string, depth: number): void => {\r\n    const parent = status.parent !== id ? id : null;\r\n    setStatus({ parent, depth });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {post && !matches && (\r\n        <Reactions\r\n          post={post}\r\n          isBookmarked={isBookmarked}\r\n          onBookmarked={handleBookmark}\r\n          className=\"div\"\r\n        />\r\n      )}\r\n      <Page\r\n        className={classes.root}\r\n        title={post && post.title ? post.title : 'Post'}\r\n      >\r\n        <Paper>\r\n          {post && (\r\n            <Box mt={3} className={classes.box}>\r\n              <Grid container spacing={3}>\r\n                {matches && (\r\n                  <>\r\n                    <Box flexGrow={1} />\r\n                    <Reactions\r\n                      post={post}\r\n                      isBookmarked={isBookmarked}\r\n                      onBookmarked={handleBookmark}\r\n                    />\r\n                  </>\r\n                )}\r\n                <Grid item xs={12} md={10}>\r\n                  <Typography\r\n                    variant=\"h1\"\r\n                    component=\"header\"\r\n                    color=\"textPrimary\"\r\n                  >\r\n                    {post.title}\r\n                  </Typography>\r\n\r\n                  <Box className={classes.author}>\r\n                    <Avatar\r\n                      alt=\"Person\"\r\n                      component={RouterLink}\r\n                      src={post.author.avatar}\r\n                      className={classes.avatar}\r\n                      to={'/users/' + post.author.name}\r\n                    />\r\n                    <Typography variant=\"caption\" color=\"textSecondary\">\r\n                      <Link\r\n                        color=\"textSecondary\"\r\n                        component={RouterLink}\r\n                        to={'/users/' + post.author.name}\r\n                        variant=\"h6\"\r\n                      >\r\n                        {post.author.name}\r\n                      </Link>\r\n                      {` `}\r\n                      {moment(post.createdAt).fromNow()}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box mt={2}>\r\n                    {post.tags.map((tag: Tag) => (\r\n                      <Chip\r\n                        key={tag.symbol}\r\n                        variant=\"outlined\"\r\n                        label={tag.symbol}\r\n                        className={classes.chip}\r\n                      />\r\n                    ))}\r\n                  </Box>\r\n                </Grid>\r\n              </Grid>\r\n              <Box mt={3} className={classes.content}>\r\n                {parse(post.content)}\r\n              </Box>\r\n              <Divider />\r\n              <Box mt={3} className={classes.disclosure}>\r\n                {parse(post.disclosure)}\r\n              </Box>\r\n            </Box>\r\n          )}\r\n        </Paper>\r\n        {post && (\r\n          <Paper>\r\n            <Box mt={3} className={classes.box}>\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12} md={12}>\r\n                  {post.comments.map((comment: CommentsWithUser) => (\r\n                    <React.Fragment key={comment._id}>\r\n                      <Comment\r\n                        user={user}\r\n                        comment={comment}\r\n                        reply={status.parent}\r\n                        onComment={handleComment}\r\n                      />\r\n                    </React.Fragment>\r\n                  ))}\r\n                  <Box my={2}>\r\n                    <Divider />\r\n                  </Box>\r\n                  <CommentAdd\r\n                    post={post}\r\n                    status={status}\r\n                    onFetch={handleFetch}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Paper>\r\n        )}\r\n      </Page>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostView;\r\n"],"sourceRoot":""}