(this["webpackJsonpdankstocks-client"]=this["webpackJsonpdankstocks-client"]||[]).push([[25],{1361:function(e,t,a){"use strict";a.r(t);var n=a(33),r=a(7),o=a.n(r),c=a(11),l=a(23),i=a(200),s=a(0),m=a.n(s),u=a(20),p=a(2),d=a(8),b=a(1134),f=a(648),g=a(1120),y=a(12),E=a(1113),v=a(644),h=a(78),k=a(164),j=a(1114),x=a(1133),O=a(1135),N=a(1136),w=a(1115),P=a(1125),C=a(1091),S=a(1350),q=a(1351),B=a(1352),T=a(1341),z=a.n(T),D=a(1342),L=a.n(D),F=a(34),I=a(57),R=a(357),M=a(45),G=a(46),W=a(1236),Y=a(1237),A=a(1106),J=a(633),K=a(136),V=a(1121),H=a(641),U=a(1344),_=a(1321),Q=a(1208),X=a(1349),Z=[{name:"bullish",text:"Bullish"},{name:"bearish",text:"Bearish"},{name:"neutral",text:"Neutral"},{name:"no_opinion",text:"No Opinion"}],$=Object(f.a)((function(e){return{root:{},addTab:{marginLeft:e.spacing(2)},tag:{"& + &":{marginLeft:e.spacing(1)}},datePicker:{"& + &":{marginLeft:e.spacing(2)}},toggleBtn:{marginTop:e.spacing(3),"&.MuiToggleButton-root":{color:e.palette.text.primary},"&.Mui-selected":{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}}}})),ee={symbol:"",securityName:"",main:!1},te=function(e){var t=e.className,a=e.post,r=e.onPost,i=e.onNext,u=Object(G.a)(e,["className","post","onPost","onNext"]),d=$(),b=Object(s.useState)([]),f=Object(l.a)(b,2),g=f[0],y=f[1],E=Object(s.useState)(""),k=Object(l.a)(E,2),j=k[0],x=k[1],O=Object(s.useState)(ee),N=Object(l.a)(O,2),w=N[0],P=N[1];Object(s.useEffect)((function(){""!==j?function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/stock/search/".concat(j));case 2:(t=e.sent).data&&t.data.length>0&&(a=t.data.map((function(e){return{symbol:e.symbol,securityName:e.securityName,main:!1}})),y(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():y([])}),[j]);var S=function(e,t){var a=t.split(": ");P({symbol:a[0],securityName:a[1],main:!1})};return m.a.createElement(Y.a,{initialValues:{title:a.title||"",tags:a.tags||[],picker:a.picker||Z[0].name,submit:null},validationSchema:W.c().shape({title:W.e().min(3,"Must be at least 3 characters").max(255).required("Required"),picker:W.e().required("Required"),tags:W.a().required()}),onSubmit:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.setErrors,c=a.setStatus,l=a.setSubmitting;try{console.log(t),r({title:t.title.trim(),tags:t.tags,picker:t.picker}),c({success:!0}),l(!1),i&&i()}catch(o){c({success:!1}),n({submit:o.message}),l(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.errors,r=e.handleBlur,o=e.handleChange,c=e.handleSubmit,l=e.isSubmitting,i=e.setFieldValue,s=e.touched,b=e.values;return m.a.createElement("form",Object.assign({onSubmit:c,className:Object(p.a)(d.root,t),onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},u),m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Details"),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary"},"Do not spam tags. ",m.a.createElement("br",null),"Title should not be spammy. ",m.a.createElement("br",null),"Title and article contents may be subject to grammatical and punctual editing to ensure quality.")),m.a.createElement(v.a,{mt:2},m.a.createElement(A.a,{error:Boolean(s.title&&a.title),fullWidth:!0,helperText:s.title&&a.title,label:"Article Title",name:"title",placeholder:"Please type article title.",value:b.title,onBlur:r,onChange:o,variant:"outlined"}),m.a.createElement(U.a,{value:b.picker,exclusive:!0,size:"small",onChange:function(e,t){i("picker",t)},"aria-label":"text alignment"},Z.map((function(e,t){return m.a.createElement(_.a,{key:e.name+t,value:e.name,className:d.toggleBtn},e.text)}))),m.a.createElement(v.a,{mt:3,display:"flex",alignItems:"center"},m.a.createElement(Q.a,{freeSolo:!0,disableClearable:!0,options:g.map((function(e){return e.symbol+": "+e.securityName})),onChange:S,onKeyPress:function(e){if("Enter"===e.key){var t=w;if(""===w.symbol||""===w.securityName)return;0===b.tags.length&&(t.main=!0),i("tags",[].concat(Object(M.a)(b.tags),[t])),P(ee),x("")}},value:j,renderInput:function(e){return m.a.createElement(A.a,Object.assign({},e,{fullWidth:!0,name:"tags",label:"Ticker",placeholder:"Please choose at least one tag.",variant:"outlined",InputProps:Object(n.a)({},e.InputProps),style:{width:"52vw"},onChange:function(e){return x(e.target.value)}}))}}),m.a.createElement(J.a,{className:d.addTab,onClick:function(){var e=w;""!==w.symbol&&""!==w.securityName&&(0===b.tags.length&&(e.main=!0),i("tags",[].concat(Object(M.a)(b.tags),[e])),P(ee),x(""))}},m.a.createElement(K.a,null,m.a.createElement(X.a,null)))),m.a.createElement(v.a,{mt:2},b.tags.map((function(e,t){return m.a.createElement(V.a,{variant:e.main?"default":"outlined",key:t,label:e.symbol,className:d.tag,onDelete:function(){b.tags.length>1&&e.main&&(b.tags[1].main=!0);var t=b.tags.filter((function(t){return t.symbol!==e.symbol&&t.securityName!==e.securityName}));i("tags",t)},color:e.main?"secondary":"default"})}))),Boolean(s.tags&&a.tags)&&m.a.createElement(v.a,{mt:2},m.a.createElement(H.a,{error:!0},a.tags))),m.a.createElement(v.a,{mt:6,display:"flex"},m.a.createElement(v.a,{flexGrow:1}),m.a.createElement(C.a,{color:"secondary",disabled:l,type:"submit",variant:"contained",size:"large"},"Next")))}))};te.defaultProps={onPost:function(){},onNext:function(){}};var ae=te,ne=a(1326),re=a.n(ne),oe=Object(f.a)((function(e){return{root:{"& .ql-toolbar":{borderLeft:"none",borderTop:"none",borderRight:"none",borderBottom:"1px solid ".concat(e.palette.divider),"& .ql-picker-label:hover":{color:e.palette.secondary.main},"& .ql-picker-label.ql-active":{color:e.palette.secondary.main},"& .ql-picker-item:hover":{color:e.palette.secondary.main},"& .ql-picker-item.ql-selected":{color:e.palette.secondary.main},"& button:hover":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button:focus":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button.ql-active":{"& .ql-stroke":{stroke:e.palette.secondary.main}},"& .ql-stroke":{stroke:e.palette.text.primary},"& .ql-picker":{color:e.palette.text.primary},"& .ql-picker-options":{padding:e.spacing(2),backgroundColor:e.palette.background.default,border:"none",boxShadow:e.shadows[10],borderRadius:e.shape.borderRadius}},"& .ql-container":{border:"none","& .ql-editor":{fontFamily:e.typography.fontFamily,fontSize:16,color:e.palette.text.primary,"&.ql-blank::before":{color:e.palette.text.secondary}}}}}})),ce=function(e){var t=e.className,a=Object(G.a)(e,["className"]),n=oe();return m.a.createElement(re.a,Object.assign({className:Object(p.a)(n.root,t)},a))},le=Object(f.a)((function(e){return{root:{},editorContainer:{marginTop:e.spacing(3)},editor:{"& .ql-editor":{height:400}}}})),ie=function(e){var t=e.className,a=e.post,n=e.onPost,r=e.onBack,i=e.onNext,u=Object(G.a)(e,["className","post","onPost","onBack","onNext"]),d=le(),b=Object(s.useState)(a.content||""),f=Object(l.a)(b,2),g=f[0],y=f[1],E=Object(s.useState)(!1),j=Object(l.a)(E,2),x=j[0],O=j[1],N=Object(s.useState)(null),w=Object(l.a)(N,2),P=w[0],S=w[1],q=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{O(!0),n({content:g.trim()}),i&&i()}catch(a){S(a.message)}finally{O(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m.a.createElement("form",Object.assign({onSubmit:q,className:Object(p.a)(d.root,t)},u),m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Content"),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary"},"Do not advise people to make any financial decisions. ",m.a.createElement("br",null),"Plagiarism is not tolerated.")),m.a.createElement(k.a,{className:d.editorContainer,variant:"outlined"},m.a.createElement(ce,{onChange:function(e){y(e)},value:g,className:d.editor})),P&&m.a.createElement(v.a,{mt:2},m.a.createElement(H.a,{error:!0},H.a)),m.a.createElement(v.a,{mt:6,display:"flex"},r&&m.a.createElement(C.a,{onClick:r,size:"large"},"Previous"),m.a.createElement(v.a,{flexGrow:1}),m.a.createElement(C.a,{color:"secondary",disabled:x,type:"submit",variant:"contained",size:"large"},"Next")))};ie.defaultProps={onPost:function(){},onNext:function(){},onBack:function(){}};var se=ie,me=Object(f.a)((function(e){return{root:{},editorContainer:{marginTop:e.spacing(3)},editor:{"& .ql-editor":{height:300},"& .ql-toolbar":{"& .ql-formats > .ql-picker":{display:"none"}}}}})),ue=function(e){var t=e.className,a=e.post,n=e.onPost,r=e.onBack,i=e.onNext,u=Object(G.a)(e,["className","post","onPost","onBack","onNext"]),d=me(),b=Object(s.useState)(a.disclosure||""),f=Object(l.a)(b,2),g=f[0],y=f[1],E=Object(s.useState)(!1),j=Object(l.a)(E,2),x=j[0],O=j[1],N=Object(s.useState)(null),w=Object(l.a)(N,2),P=w[0],S=w[1],q=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{O(!0),n({disclosure:g.trim()}),i&&i()}catch(a){S(a.message)}finally{O(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m.a.createElement("form",Object.assign({onSubmit:q,className:Object(p.a)(d.root,t)},u),m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Disclosure"),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary"},"Let the readers know if you hold or do not hold any position in the companies you are talking about. Make sure to also let readers know if you are receiving compensation for the article. You may receive one from us if your article is approved and you may receive tips from readers.")),m.a.createElement(k.a,{className:d.editorContainer,variant:"outlined"},m.a.createElement(ce,{onChange:function(e){y(e)},value:g,className:d.editor})),P&&m.a.createElement(v.a,{mt:2},m.a.createElement(H.a,{error:!0},H.a)),m.a.createElement(v.a,{mt:6,display:"flex"},r&&m.a.createElement(C.a,{onClick:r,size:"large"},"Previous"),m.a.createElement(v.a,{flexGrow:1}),m.a.createElement(C.a,{color:"secondary",disabled:x,type:"submit",variant:"contained",size:"large"},"Next")))};ue.defaultProps={onPost:function(){},onNext:function(){},onBack:function(){}};var pe=ue,de=a(1279),be=a(1109),fe=Object(f.a)((function(e){return{root:{},typeOption:{alignItems:"flex-start",display:"flex",marginBottom:e.spacing(2),padding:e.spacing(2)},stepButton:{"& + &":{marginLeft:e.spacing(2)}},chip:{marginLeft:e.spacing(1)},box:Object(i.a)({padding:e.spacing(7)},e.breakpoints.down("sm"),{padding:e.spacing(3)}),content:{fontFamily:e.typography.fontFamily,marginBottom:e.spacing(2)},disclosure:{fontFamily:e.typography.fontFamily,color:y.a.grey[500],fontSize:"0.9rem"}}})),ge=function(e){var t=e.className,a=e.post,n=e.onBack,r=e.onComplete,i=Object(G.a)(e,["className","post","onBack","onComplete"]),u=fe(),d=Object(s.useState)(!1),b=Object(l.a)(d,2),f=b[0],g=b[1],y=Object(s.useState)(null),E=Object(l.a)(y,2),k=E[0],x=E[1],O=function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{g(!0),r&&r()}catch(a){x(a.message)}finally{g(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m.a.createElement("form",Object.assign({onSubmit:O,className:Object(p.a)(u.root,t)},i),m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Review"),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary"},"Make sure everything looks good.")),m.a.createElement(v.a,{mt:3,border:1,className:u.box},m.a.createElement(j.a,{container:!0,spacing:3},m.a.createElement(j.a,{item:!0,xs:12,md:10},m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},a.title),m.a.createElement(v.a,{mt:3},m.a.createElement(v.a,{mt:1},a.tags.map((function(e){return m.a.createElement(V.a,{key:e.symbol,variant:e.main?"default":"outlined",label:e.symbol,className:u.chip,color:e.main?"primary":"default"})})))))),m.a.createElement(v.a,{mt:3,className:u.content},Object(de.a)(a.content)),m.a.createElement(be.a,null),m.a.createElement(v.a,{mt:3,className:u.disclosure},Object(de.a)(a.disclosure))),k&&m.a.createElement(v.a,{mt:2},m.a.createElement(H.a,{error:!0},k)),m.a.createElement(v.a,{mt:6,display:"flex"},n&&m.a.createElement(C.a,{onClick:n,size:"large"},"Previous"),m.a.createElement(v.a,{flexGrow:1}),m.a.createElement(C.a,{color:"secondary",disabled:f,type:"submit",variant:"contained",size:"large"},"Complete")))};ge.defaultProps={onComplete:function(){},onBack:function(){}};var ye=ge,Ee=a(606),ve=[{label:"Details",icon:S.a},{label:"Content",icon:q.a},{label:"Disclosure",icon:z.a},{label:"Review",icon:L.a}],he={slug:"",title:"",content:"",disclosure:"",tags:[]},ke=Object(d.a)((function(e){return{vertical:{marginLeft:19,padding:0},line:{borderColor:e.palette.divider}}}))(b.a),je=Object(f.a)((function(e){return{root:{},active:{backgroundColor:e.palette.secondary.main,boxShadow:e.shadows[10],color:e.palette.secondary.contrastText},completed:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}})),xe=function(e){var t,a=e.active,n=e.completed,r=e.icon,o=je(),c=ve[r-1].icon;return m.a.createElement(g.a,{className:Object(p.a)(o.root,(t={},Object(i.a)(t,o.active,a),Object(i.a)(t,o.completed,n),t))},m.a.createElement(c,{size:"20"}))},Oe=Object(f.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},avatar:{backgroundColor:y.a.red[600]},stepper:{backgroundColor:"transparent"}}}));t.default=function(){var e=Oe(),t=Object(I.a)().user,a=Object(s.useState)(0),r=Object(l.a)(a,2),i=r[0],p=r[1],d=Object(s.useState)(!1),b=Object(l.a)(d,2),f=b[0],y=b[1],S=Object(s.useState)(he),q=Object(l.a)(S,2),T=q[0],z=q[1];Object(s.useEffect)((function(){var e=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/stripe/create",{returnUrl:"/posts/new"});case 2:t=e.sent,window.location.replace(t.data.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!t.stripeId&&e()}),[t]);var D=function(){p((function(e){return e+1}))},L=function(){p((function(e){return e-1}))},M=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=/[^\w\s]/gi,a=T.title.replace(t,"").replace("/","-").split(" ").join("-").trim().toLowerCase(),e.next=4,F.a.post("/posts/new",Object(n.a)(Object(n.a)({},T),{},{slug:a}));case 4:y(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(e){z((function(t){return Object(n.a)(Object(n.a)({},t),e)}))};return console.log(T),m.a.createElement(m.a.Fragment,null,t.stripeId?m.a.createElement(R.a,{className:e.root,title:"Project Create"},m.a.createElement(E.a,{maxWidth:"lg"},m.a.createElement(v.a,{mb:3},m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Post New Article")),f?m.a.createElement(w.a,null,m.a.createElement(P.a,null,m.a.createElement(v.a,{maxWidth:450,mx:"auto"},m.a.createElement(v.a,{display:"flex",justifyContent:"center"},m.a.createElement(g.a,{className:e.avatar},m.a.createElement(B.a,null))),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"h3",color:"textPrimary",align:"center"},"You are all done!")),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary",align:"center"},"Thank you for submitting your contribution to us. Your article is now in review and we will come back to you with our final decision.")),m.a.createElement(v.a,{mt:2,display:"flex",justifyContent:"center"},m.a.createElement(C.a,{variant:"contained",color:"secondary",component:u.a,to:"/account/profile"},"Back to Profile"))))):m.a.createElement(k.a,null,m.a.createElement(j.a,{container:!0},m.a.createElement(j.a,{item:!0,xs:12,md:3},m.a.createElement(x.a,{activeStep:i,className:e.stepper,connector:m.a.createElement(ke,null),orientation:"vertical"},ve.map((function(e){return m.a.createElement(O.a,{key:e.label},m.a.createElement(N.a,{StepIconComponent:xe},e.label))})))),m.a.createElement(j.a,{item:!0,xs:12,md:9},m.a.createElement(v.a,{p:3},0===i&&m.a.createElement(ae,{post:T,onPost:G,onNext:D}),1===i&&m.a.createElement(se,{post:T,onPost:G,onBack:L,onNext:D}),2===i&&m.a.createElement(pe,{post:T,onPost:G,onBack:L,onNext:D}),3===i&&m.a.createElement(ye,{post:T,onBack:L,onComplete:M}))))))):m.a.createElement(Ee.a,null))}}}]);
//# sourceMappingURL=25.0328d61b.chunk.js.map