(this["webpackJsonpdankstocks-client"]=this["webpackJsonpdankstocks-client"]||[]).push([[20],{1217:function(e,a,t){"use strict";var n=t(136),r=t(33),c=t(0),l=t.n(c),o=t(2),s=t(649),i=t(18),m=Object(s.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(i.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(i.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(i.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(i.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(i.c)(e.palette.warning.main,.08)}}}));a.a=function(e){var a=e.className,t=void 0===a?"":a,c=e.color,s=void 0===c?"secondary":c,i=e.children,u=(e.style,Object(r.a)(e,["className","color","children","style"])),p=m();return l.a.createElement("span",Object.assign({className:Object(o.a)(p.root,Object(n.a)({},p[s],s),t)},u),i)}},1219:function(e,a,t){"use strict";var n=t(23),r=t(0),c=t.n(r),l=t(649),o=t(1098),s=t(634),i=t(342),m=t(1096),u=t(1127),p=t(1101),d=t(1233),f=t.n(d),b=t(1234),g=t.n(b),E=t(1235),O=t.n(E),j=t(1236),v=t.n(j),y=t(1229),h=t.n(y),x=Object(l.a)((function(){return{menu:{width:256,maxWidth:"100%"}}}));a.a=Object(r.memo)((function(e){var a=x(),t=Object(r.useRef)(null),l=Object(r.useState)(!1),d=Object(n.a)(l,2),b=d[0],E=d[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,{title:"More options"},c.a.createElement(s.a,Object.assign({onClick:function(){E(!0)},ref:t},e),c.a.createElement(f.a,{fontSize:"small"}))),c.a.createElement(i.a,{anchorEl:t.current,anchorOrigin:{vertical:"top",horizontal:"left"},onClose:function(){E(!1)},open:b,PaperProps:{className:a.menu},transformOrigin:{vertical:"top",horizontal:"left"}},c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(g.a,null)),c.a.createElement(p.a,{primary:"Import"})),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(O.a,null)),c.a.createElement(p.a,{primary:"Copy"})),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(v.a,null)),c.a.createElement(p.a,{primary:"Export"})),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(h.a,null)),c.a.createElement(p.a,{primary:"Archive"}))))}))},1362:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(649),l=t(1114),o=t(1115),s=t(357),i=t(7),m=t.n(i),u=t(32),p=t(136),d=t(12),f=t(23),b=t(33),g=t(13),E=t(2),O=t(4),j=t.n(O),v=t(1228),y=t.n(v),h=t(138),x=t.n(h),k=t(1116),w=t(1117),C=t(1110),N=t(645),S=t(1148),B=t(1128),P=t(1150),I=t(1151),A=t(1129),_=t(1149),W=t(1091),M=t(1141),T=t(1217),F=t(35),Y=t(1219),D=t(1133),R=t(1138),z=t(1131),G=t(1107),L=t(1132),V=t(1092),$=t(1348),H=t(1323),J=t(1108),U=t(57),q=Object(c.a)((function(e){return{root:{}}})),K=function(e){var a=e.className,t=e.postId,c=e.open,l=e.onOpen,s=e.onSuccess,i=Object(b.a)(e,["className","postId","open","onOpen","onSuccess"]),u=q(),p=Object(U.a)().user,g=Object(n.useState)(),O=Object(f.a)(g,2),j=O[0],v=O[1],y=Object(n.useState)(),h=Object(f.a)(y,2),x=h[0],k=h[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/posts/getById/"+t);case 2:(a=e.sent).data&&k(a.data.post.author);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var w=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={stripeId:x.stripeId,author:x._id,type:"payment_success",amount:j},e.next=3,F.a.post("/stripe/transfer",a);case 3:return t=e.sent,e.next=6,F.a.post("/transactions/create",{user:x._id,client:p._id,amount:j,fee:0,type:"post_approved"});case 6:t.data&&s();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){return l()};return r.a.createElement("div",Object.assign({className:Object(E.a)(u.root,a)},i),x&&r.a.createElement(D.a,{open:c,keepMounted:!0,onClose:C,"aria-labelledby":"checkform-dialog",fullWidth:!0},r.a.createElement(z.a,null,r.a.createElement(o.a,{container:!0,justify:"center"},r.a.createElement(o.a,{item:!0,md:5},r.a.createElement(G.a,{label:"Email",defaultValue:x.email,InputProps:{readOnly:!0}})),r.a.createElement(o.a,{item:!0,md:5},r.a.createElement(G.a,{label:"Amount",onChange:function(e){return v(e.target.value)},InputProps:{startAdornment:r.a.createElement(J.a,{position:"start"},"$")}})))),r.a.createElement(L.a,null,r.a.createElement(V.a,{onClick:C,color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:w,color:"primary"},"Confirm"))))},Q=[{name:"pending",text:"pending"},{name:"approved",text:"approve"},{name:"rejected",text:"reject"}],X=Object(c.a)((function(e){return{root:{},toggleBtn:{"&.MuiToggleButton-root":{color:e.palette.text.primary},"&.Mui-selected":{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}}}})),Z=function(e){var a=e.open,t=e.data,c=e.onOpen,l=e.onFetch,o=e.className,s=Object(b.a)(e,["open","data","onOpen","onFetch","className"]),i=X(),u=Object(n.useState)(t.status),p=Object(f.a)(u,2),g=p[0],O=p[1],j=Object(n.useState)(t.reason),v=Object(f.a)(j,2),y=v[0],h=v[1],x=Object(n.useState)(!1),k=Object(f.a)(x,2),w=k[0],C=k[1],N=function(){var e=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={_id:t._id,status:g,reason:y},e.next=3,F.a.put("/posts/update/status",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(),"approved"===g?C(!w):(N(),l());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){return c()},P=function(){return C(!w)};return r.a.createElement("div",Object.assign({className:Object(E.a)(i.root,o)},s),a&&r.a.createElement(D.a,{open:a,keepMounted:!0,onClose:B,"aria-labelledby":"status-dialog"},r.a.createElement(R.a,null,"Post Status"),r.a.createElement(z.a,null,r.a.createElement($.a,{value:g,exclusive:!0,size:"small",onChange:function(e,a){O(a)},"aria-label":"text alignment"},Q.map((function(e,a){return r.a.createElement(H.a,{key:e.name+a,value:e.name,className:i.toggleBtn},e.text)}))),r.a.createElement(G.a,{value:y,margin:"dense",type:"text",onChange:function(e){h(e.target.value)},fullWidth:!0})),r.a.createElement(L.a,null,r.a.createElement(V.a,{onClick:B,color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:S,disabled:g===t.status,color:"primary"},"Confirm"))),w&&r.a.createElement(K,{open:w,postId:t._id,onOpen:P,onSuccess:function(){N(),P(),l()}}))},ee=t(22),ae={approved:"success",pending:"warning",rejected:"error"},te=[{name:"title",value:"Title"},{name:"author",value:"Author"},{name:"total",value:"Total"},{name:"status",value:"Status"},{name:"createdAt",value:"Date"}],ne={page:0,limit:5,count:0,order:"createdAt",orderBy:"desc"},re=Object(c.a)((function(e){return{root:{}}})),ce=function(e){var a=e.className,t=Object(b.a)(e,["className"]),c=re(),l=Object(n.useState)(!1),o=Object(f.a)(l,2),s=o[0],i=o[1],O=Object(n.useState)(null),v=Object(f.a)(O,2),h=v[0],D=v[1],R=Object(n.useState)(ne),z=Object(f.a)(R,2),G=z[0],L=z[1],V=Object(n.useState)([]),$=Object(f.a)(V,2),H=$[0],J=$[1],U=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(p.a)({},G.order,"desc"===G.orderBy?-1:1),t={page:G.page,sortBy:a,limit:G.limit},e.next=5,F.a.post("/admin/posts/all/",t);case 5:n=e.sent,J(n.data.posts),L((function(e){return Object(u.a)(Object(u.a)({},e),{},{count:n.data.count})})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),L(ne),J([]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){U(),ee.f.on("adminPost",(function(e){U()}))}),[G.page,G.limit,G.order,G.orderBy]);var q=function(e){var a=e.currentTarget.id,t="desc"!==G.orderBy?"desc":"asc";L((function(e){return Object(u.a)(Object(u.a)({},e),{},{order:a,orderBy:t})}))};return r.a.createElement(k.a,Object.assign({className:Object(E.a)(c.root,a)},t),r.a.createElement(w.a,{action:r.a.createElement(Y.a,null),title:"All Posts"}),r.a.createElement(C.a,null),r.a.createElement(x.a,null,r.a.createElement(N.a,{minWidth:700},r.a.createElement(S.a,null,r.a.createElement(B.a,null,r.a.createElement(P.a,null,te.map((function(e){return r.a.createElement(I.a,{key:e.name,align:"center"},r.a.createElement(A.a,{id:e.name,active:G.order===e.name,onClick:q,direction:(a=e.name,G.order===a&&G.orderBy?G.orderBy:"desc"),disabled:"no"===e.name},e.value));var a})))),r.a.createElement(_.a,null,H.map((function(e){return r.a.createElement(P.a,{hover:!0,key:e._id},r.a.createElement(I.a,{align:"center"},"pending"!==e.status?r.a.createElement(W.a,{color:"textPrimary",component:g.a,to:"/posts/public/"+e.slug,variant:"body2"},e.title):r.a.createElement(W.a,{color:"textPrimary",component:g.a,to:"/posts/edit/"+e.slug,variant:"body2"},e.title)),r.a.createElement(I.a,null,r.a.createElement(W.a,{color:"textPrimary",component:g.a,to:"/users/"+e.author.name,variant:"body2"},e.author.name)),r.a.createElement(I.a,{align:"center"},y()(0).format("$0,0.00")),r.a.createElement(I.a,{align:"center",onClick:function(){return D({_id:(a=e)._id,status:a.status,reason:a.reason}),void i(!s);var a}},r.a.createElement(T.a,{color:ae[e.status]},e.status)),r.a.createElement(I.a,{align:"center"},j()(e.createdAt).format("DD MMM, YYYY hh:mm:ss")))})))),r.a.createElement(M.a,{rowsPerPageOptions:[5,10,25],component:"div",count:G.count,rowsPerPage:G.limit,page:G.page,onChangePage:function(e,a){L((function(e){return Object(u.a)(Object(u.a)({},e),{},{page:a})}))},onChangeRowsPerPage:function(e){var a=parseInt(e.target.value,10);L((function(e){return Object(u.a)(Object(u.a)({},e),{},{limit:a,page:0})}))}}))),r.a.createElement(N.a,{p:2,display:"flex",justifyContent:"flex-end"}),h&&r.a.createElement(Z,{open:s,data:h,onOpen:function(){return i(!s)},onFetch:U}))},le=t(1121),oe=t(359),se=t(1360),ie=Object(c.a)((function(e){return{root:{},toggleBtn:{"&.MuiToggleButton-root":{color:e.palette.text.primary},"&.Mui-selected":{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}}}})),me=function(e){var a=e.open,t=e.data,c=e.onOpen,l=e.onFetch,s=e.className,i=Object(b.a)(e,["open","data","onOpen","onFetch","className"]),u=ie(),p=Object(n.useState)(t.status),g=Object(f.a)(p,2),O=g[0],j=g[1],v=Object(n.useState)(t.reason),y=Object(f.a)(v,2),h=y[0],x=y[1],k=Object(n.useState)(t.banned),w=Object(f.a)(k,2),C=w[0],N=w[1],S=function(){var e=Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={_id:t._id,status:O,reason:h,banned:C},e.next=3,F.a.put("/users/update/status",a);case 3:l(),c();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){c()};return r.a.createElement("div",Object.assign({className:Object(E.a)(u.root,s)},i),r.a.createElement(D.a,{open:a,keepMounted:!0,onClose:B,"aria-labelledby":"status-dialog"},r.a.createElement(R.a,null,"User Status"),r.a.createElement(z.a,null,r.a.createElement(o.a,{container:!0,justify:"center"},r.a.createElement(o.a,{item:!0,md:5,xs:12},r.a.createElement($.a,{value:O,exclusive:!0,size:"small",onChange:function(e,a){j(Boolean(a))},"aria-label":"user alignment"},r.a.createElement(H.a,{value:!0,className:u.toggleBtn},"Active"),r.a.createElement(H.a,{value:!1,className:u.toggleBtn},"Block"))),r.a.createElement(o.a,{item:!0,md:7,xs:12},r.a.createElement(se.a,{fullWidth:!0,inputVariant:"standard",label:"Date",name:"banned",onChange:function(e){N(e)},value:C})),r.a.createElement(o.a,{item:!0,md:12,xs:12},r.a.createElement(G.a,{value:h,margin:"dense",type:"text",onChange:function(e){x(e.target.value)},fullWidth:!0})))),r.a.createElement(L.a,null,r.a.createElement(V.a,{onClick:B,color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:S,color:"primary",disabled:!O&&!C},"Confirm"))))},ue=[{name:"name",value:"Name"},{name:"email",value:"Email"},{name:"role",value:"Role"},{name:"status",value:"Status"},{name:"createdAt",value:"Date"}],pe={page:0,limit:5,count:0,order:"createdAt",orderBy:"desc"},de=Object(c.a)((function(e){return{root:{}}})),fe=function(e){var a=e.className,t=Object(b.a)(e,["className"]),c=de(),l=Object(n.useState)(!1),o=Object(f.a)(l,2),s=o[0],i=o[1],O=Object(n.useState)(),v=Object(f.a)(O,2),y=v[0],h=v[1],D=Object(n.useState)(pe),R=Object(f.a)(D,2),z=R[0],G=R[1],L=Object(n.useState)([]),V=Object(f.a)(L,2),$=V[0],H=V[1],J=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(p.a)({},z.order,"desc"===z.orderBy?-1:1),t={page:z.page,sortBy:a,limit:z.limit},e.next=5,F.a.post("/admin/users/all/",t);case 5:n=e.sent,H(n.data.users),G((function(e){return Object(u.a)(Object(u.a)({},e),{},{count:n.data.count})})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),G(pe),H([]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){J()}),[z.page,z.limit,z.order,z.orderBy]);var U=function(e){var a=e.currentTarget.id,t="desc"!==z.orderBy?"desc":"asc";G((function(e){return Object(u.a)(Object(u.a)({},e),{},{order:a,orderBy:t})}))};return r.a.createElement(k.a,Object.assign({className:Object(E.a)(c.root,a)},t),r.a.createElement(w.a,{action:r.a.createElement(Y.a,null),title:"All Users"}),r.a.createElement(C.a,null),r.a.createElement(x.a,null,r.a.createElement(N.a,{minWidth:700},r.a.createElement(S.a,null,r.a.createElement(B.a,null,r.a.createElement(P.a,null,ue.map((function(e){return r.a.createElement(I.a,{key:e.name,align:"center"},r.a.createElement(A.a,{id:e.name,active:z.order===e.name,onClick:U,direction:(a=e.name,z.order===a&&z.orderBy?z.orderBy:"desc"),disabled:"no"===e.name},e.value));var a})))),r.a.createElement(_.a,null,$.map((function(e){return r.a.createElement(P.a,{hover:!0,key:e._id},r.a.createElement(I.a,null,r.a.createElement(N.a,{display:"flex",alignItems:"center"},r.a.createElement(le.a,{alt:"Author",src:e.avatar,component:g.a,to:"/users/"+e.name},Object(oe.a)(e.name)),r.a.createElement(N.a,{ml:1},r.a.createElement(W.a,{color:"textPrimary",component:g.a,to:"/users/"+e.name,variant:"body2"},e.name)))),r.a.createElement(I.a,{align:"center"},e.email),r.a.createElement(I.a,{align:"center"},e.role),r.a.createElement(I.a,{align:"center",onClick:function(){return h({_id:(a=e)._id,status:a.status,reason:a.reason,banned:a.banned}),void i(!s);var a}},r.a.createElement(T.a,{color:e.status?"success":"error"},e.status?"Active":"Banned")),r.a.createElement(I.a,{align:"center"},j()(e.createdAt).format("DD MMM, YYYY hh:mm:ss")))})))),r.a.createElement(M.a,{rowsPerPageOptions:[5,10,25],component:"div",count:z.count,rowsPerPage:z.limit,page:z.page,onChangePage:function(e,a){G((function(e){return Object(u.a)(Object(u.a)({},e),{},{page:a})}))},onChangeRowsPerPage:function(e){var a=parseInt(e.target.value,10);G((function(e){return Object(u.a)(Object(u.a)({},e),{},{limit:a,page:0})}))}}))),r.a.createElement(N.a,{p:2,display:"flex",justifyContent:"flex-end"}),s&&r.a.createElement(me,{open:s,data:y,onOpen:function(){i(!s)},onFetch:J}))},be=t(78),ge=t(1264),Ee=t.n(ge),Oe=Object(c.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}})),je=function(e){var a=e.className,t=Object(b.a)(e,["className"]),n=Oe(),c=12,l=-10;return r.a.createElement(k.a,Object.assign({className:Object(E.a)(n.root,a)},t),r.a.createElement(N.a,{flexGrow:1},r.a.createElement(be.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},"New posts"),r.a.createElement(N.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},r.a.createElement(be.a,{variant:"h3",color:"textPrimary"},c),r.a.createElement(T.a,{className:n.label,color:l>0?"success":"error"},l>0?"+":"",l,"%"))),r.a.createElement(le.a,{className:n.avatar},r.a.createElement(Ee.a,null)))},ve=t(358),ye=t.n(ve),he=Object(c.a)((function(e){return{root:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},avatar:{backgroundColor:e.palette.secondary.contrastText,color:e.palette.secondary.main,height:48,width:48}}})),xe=function(e){var a=e.className,t=Object(b.a)(e,["className"]),n=he(),c="25.50",l="$";return r.a.createElement(k.a,Object.assign({className:Object(E.a)(n.root,a)},t),r.a.createElement(N.a,{flexGrow:1},r.a.createElement(be.a,{color:"inherit",component:"h3",gutterBottom:!0,variant:"overline"},"Total income"),r.a.createElement(N.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},r.a.createElement(be.a,{color:"inherit",variant:"h3"},l,c))),r.a.createElement(le.a,{className:n.avatar,color:"inherit"},r.a.createElement(ye.a,null)))},ke=t(618),we=Object(c.a)((function(e){return{root:{padding:e.spacing(3)},progress:{margin:e.spacing(0,1),flexGrow:1}}})),Ce=function(e){var a=e.className,t=Object(b.a)(e,["className"]),n=we(),c=97;return r.a.createElement(k.a,Object.assign({className:Object(E.a)(n.root,a)},t),r.a.createElement(be.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},"System Health"),r.a.createElement(N.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},r.a.createElement(be.a,{variant:"h3",color:"textPrimary"},c,"%"),r.a.createElement(ke.a,{className:n.progress,value:c,color:"secondary",variant:"determinate"})))},Ne=t(630),Se=t(99),Be=t(38),Pe=t(631),Ie=t(1101),Ae=t(1098),_e=Object(c.a)((function(e){return{root:{},viewButton:{marginLeft:e.spacing(2)}}})),We=function(e){var a,t=e.className,n=e.flag,c=Object(b.a)(e,["className","flag"]),l=_e(),o=Object(Be.g)();return r.a.createElement(Pe.a,Object.assign({className:Object(E.a)(l.root,t)},c),r.a.createElement(Ie.a,{primary:r.a.createElement(W.a,{color:"textPrimary",onClick:function(){return o.push("/posts/public/"+n.post.slug,{from:"admin",comment:n.comment})},underline:"none",variant:"h6"},null===(a=ee.c.find((function(e){return e.name===n.reason})))||void 0===a?void 0:a.label),primaryTypographyProps:{variant:"h6",noWrap:!0},secondary:r.a.createElement(r.a.Fragment,null,n.description&&""!==n.description&&r.a.createElement(r.a.Fragment,null,n.description,r.a.createElement("br",null)),j()(n.createdAt).fromNow())}),r.a.createElement(Ae.a,{key:n.user._id,title:"View Profile"},r.a.createElement(le.a,{src:n.user.avatar,alt:"Person",component:g.a,to:"/users/"+n.user.name})))},Me=Object(c.a)((function(){return{root:{}}})),Te=function(e){var a=e.className,t=Object(b.a)(e,["className"]),c=Me(),l=Object(Se.a)(),o=Object(n.useState)([]),s=Object(f.a)(o,2),i=s[0],u=s[1],p=Object(n.useCallback)(Object(d.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("/comments/flagsAll");case 3:a=e.sent,l.current&&u(a.data.flags),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[l]);return Object(n.useEffect)((function(){p(),ee.f.on("adminComment",(function(e){p()}))}),[p]),r.a.createElement(k.a,Object.assign({className:Object(E.a)(c.root,a)},t),r.a.createElement(w.a,{action:r.a.createElement(Y.a,null),title:"Reports"}),r.a.createElement(C.a,null),r.a.createElement(x.a,null,r.a.createElement(N.a,{minWidth:400},r.a.createElement(Ne.a,null,i.map((function(e,a){return r.a.createElement(We,{divider:a<i.length-1,key:e._id,flag:e})}))))))},Fe=t(1324),Ye=t.n(Fe),De=Object(c.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}})),Re=function(e){var a=e.className,t=Object(b.a)(e,["className"]),n=De(),c="29",l=4;return r.a.createElement(k.a,Object.assign({className:Object(E.a)(n.root,a)},t),r.a.createElement(N.a,{flexGrow:1},r.a.createElement(be.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},"New Subscribers"),r.a.createElement(N.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},r.a.createElement(be.a,{variant:"h3",color:"textPrimary"},c),r.a.createElement(T.a,{className:n.label,color:l>0?"success":"error"},l>0?"+":"",l,"%"))),r.a.createElement(le.a,{className:n.avatar},r.a.createElement(Ye.a,null)))},ze=Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));a.default=function(){var e=ze();return r.a.createElement(s.a,{className:e.root,title:"Administrator"},r.a.createElement(l.a,{maxWidth:!1},r.a.createElement(o.a,{container:!0,spacing:3},r.a.createElement(o.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(Re,null)),r.a.createElement(o.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(je,null)),r.a.createElement(o.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(Ce,null)),r.a.createElement(o.a,{item:!0,lg:3,sm:6,xs:12},r.a.createElement(xe,null)),r.a.createElement(o.a,{item:!0,lg:12,xl:12,xs:12},r.a.createElement(ce,null)),r.a.createElement(o.a,{item:!0,lg:4,xl:4,xs:12},r.a.createElement(Te,null)),r.a.createElement(o.a,{item:!0,lg:8,xl:8,xs:12},r.a.createElement(fe,null)))))}}}]);
//# sourceMappingURL=20.ed31ebe5.chunk.js.map