(this["webpackJsonpdankstocks-client"]=this["webpackJsonpdankstocks-client"]||[]).push([[12],{1116:function(e,a,t){"use strict";var n=t(1),r=t(5),c=t(0),o=(t(2),t(4)),l=t(8),i=t(10),s=c.forwardRef((function(e,a){var t=e.classes,l=e.className,s=e.color,m=void 0===s?"inherit":s,d=e.component,u=void 0===d?"span":d,p=e.fontSize,f=void 0===p?"default":p,b=Object(r.a)(e,["classes","className","color","component","fontSize"]);return c.createElement(u,Object(n.a)({className:Object(o.a)("material-icons",t.root,l,"inherit"!==m&&t["color".concat(Object(i.a)(m))],"default"!==f&&t["fontSize".concat(Object(i.a)(f))]),"aria-hidden":!0,ref:a},b))}));s.muiName="Icon",a.a=Object(l.a)((function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}}),{name:"MuiIcon"})(s)},1210:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(1112),o=t(1116),l=Object(c.a)((function(){return{root:{textAlign:"center"},icon:{display:"flex",height:"inherit",width:"inherit"}}}));a.a=function(e){var a=l();return r.a.createElement(o.a,{classes:{root:a.root},fontSize:"small"},r.a.createElement("img",Object.assign({alt:"Custom Icon",className:a.icon,src:e.src},e)))}},1211:function(e,a,t){"use strict";var n=t(261),r=t(262);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=r(t(0)),o=(0,n(t(263)).default)(c.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");a.default=o},1220:function(e,a,t){"use strict";var n=t(261),r=t(262);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=r(t(0)),o=(0,n(t(263)).default)(c.createElement("path",{d:"M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z"}),"BookmarkBorderOutlined");a.default=o},1235:function(e,a,t){"use strict";var n=t(261),r=t(262);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=r(t(0)),o=(0,n(t(263)).default)(c.createElement("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}),"AddPhotoAlternate");a.default=o},1236:function(e,a,t){"use strict";var n=t(261),r=t(262);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=r(t(0)),o=(0,n(t(263)).default)(c.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");a.default=o},1287:function(e,a,t){"use strict";var n=t(261),r=t(262);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=r(t(0)),o=(0,n(t(263)).default)(c.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");a.default=o},1329:function(e,a,t){"use strict";t.r(a);var n=t(7),r=t.n(n),c=t(11),o=t(23),l=t(356),i=t(0),s=t.n(i),m=t(42),d=t(24),u=t(1251),p=t(3),f=t.n(p),b=t(1112),h=t(14),g=t(34),v=t(615),E=t(160),k=t(1107),y=t(1099),O=t(76),j=t(1110),x=t(1077),w=t(1111),N=t(1097),S=t(134),z=t(81),_=t(357),B=t(45),I=t(4),T=t(1083),L=t(622),C=t(1220),R=t.n(C),P=t(1211),M=t.n(P),A=t(1185),F=t(1210),V=Object(b.a)((function(e){return{root:{display:"flex",alignItems:"center"},div:{flexDirection:"column",position:"sticky",float:"left",top:"45vh",left:"10vw"},likedButton:{color:h.a.red[600]},likedIcon:{padding:e.spacing(1)},commentBox:Object(l.a)({marginTop:e.spacing(3)},e.breakpoints.down("sm"),{marginTop:e.typography.pxToRem(6),marginLeft:e.spacing(2),marginRight:e.spacing(1)}),iconBox:Object(l.a)({marginTop:e.spacing(1)},e.breakpoints.down("sm"),{marginTop:e.typography.pxToRem(2)}),commentIcon:{color:h.a.grey[700]}}})),H=function(e){var a=e.className,t=e.post,n=e.isBookmarked,l=e.onBookmarked,m=Object(B.a)(e,["className","post","isBookmarked","onBookmarked"]),d=V(),u=Object(z.a)(),p=u.user,f=u.isAuthenticated,b=Object(i.useState)(!1),h=Object(o.a)(b,2),g=h[0],v=h[1],E=Object(i.useState)(t.liked.count),y=Object(o.a)(E,2),j=y[0],x=y[1],w=Object(i.useState)(!1),N=Object(o.a)(w,2),_=N[0],C=N[1];Object(i.useEffect)((function(){f&&p._id===t.author._id&&C(!0),!f&&C(!0)}),[p,f,t.author]),Object(i.useEffect)((function(){f&&t.liked.users.forEach((function(e){return e===p._id&&v(!0)}))}),[t.liked.users]);var P=function(){var e=Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={postId:t._id,isLiked:!g},e.next=3,S.a.put("/posts/liked",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(r.a.mark((function e(){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={postId:t._id},c=n?"delete":"create",e.next=4,S.a.post("/bookmarks/".concat(c),a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement("div",Object.assign({className:Object(I.a)(d.root,d[a])},m),g?s.a.createElement(T.a,{title:"Unlike",disableTouchListener:!0,disableHoverListener:_},s.a.createElement("span",null,s.a.createElement(L.a,{className:Object(I.a)(d.likedButton,d.likedIcon),onClick:function(){v(!1),x((function(e){return e-1})),P()},disabled:_},s.a.createElement(F.a,{src:"/static/icons/trending_filled.svg"})))):s.a.createElement(T.a,{title:"Like",disableTouchListener:!0,disableHoverListener:_},s.a.createElement("span",null,s.a.createElement(L.a,{className:d.likedIcon,onClick:function(){v(!0),x((function(e){return e+1})),P()},disabled:_},s.a.createElement(F.a,{src:"/static/icons/trending_outlined.svg"})))),s.a.createElement(O.a,{color:"textSecondary",variant:"h6"},j),s.a.createElement(k.a,{className:d.commentBox},s.a.createElement(A.a,{className:d.commentIcon,size:"20"})),s.a.createElement(O.a,{color:"textSecondary",variant:"h6"},t.comments.length),s.a.createElement(k.a,{className:d.iconBox},n?s.a.createElement(T.a,{title:"Unsaved",disableTouchListener:!0,disableHoverListener:_},s.a.createElement("span",null,s.a.createElement(L.a,{className:d.likedButton,onClick:function(){l(!1),H()},disabled:_},s.a.createElement(R.a,{fontSize:"small"})))):s.a.createElement(T.a,{title:"Saved",disableTouchListener:!0,disableHoverListener:_},s.a.createElement("span",null,s.a.createElement(L.a,{onClick:function(){l(!0),H()},disabled:_},s.a.createElement(R.a,{fontSize:"small"}))))),s.a.createElement(k.a,{className:d.iconBox},s.a.createElement("span",null,s.a.createElement(L.a,{disabled:_},s.a.createElement(M.a,{fontSize:"small"})))))},G=t(1078),U={reply:!1,disable:!0},W=Object(b.a)((function(e){return{root:{display:"flex",marginBottom:e.spacing(2)},bubble:{borderRadius:e.shape.borderRadius},header:Object(l.a)({},e.breakpoints.down("sm"),{flexWrap:"wrap"}),name:Object(l.a)({},e.breakpoints.down("sm"),{width:"100%"}),replybtn:{marginRight:e.spacing(1)},replyIcon:{color:h.a.grey[700]},replyClickIcon:{color:h.a.red[700]},small:{width:e.spacing(4),height:e.spacing(4)},large:{width:e.spacing(5),height:e.spacing(5)}}})),D=function(e){var a=e.className,t=e.user,n=e.comment,r=e.reply,c=e.onComment,l=Object(B.a)(e,["className","user","comment","reply","onComment"]),m=W(),u=Object(g.a)(),p=Object(v.a)(u.breakpoints.down("sm")),b=Object(i.useState)(U),h=Object(o.a)(b,2),E=h[0],y=h[1],w={marginLeft:u.typography.pxToRem((p?10:20)*n.depth)};Object(i.useEffect)((function(){if(t){var e=r===n._id&&n.user._id!==t._id,a=n.user._id===t._id;y({reply:e,disable:a})}}),[r,n,t]);return s.a.createElement("div",Object.assign({className:Object(I.a)(m.root,a),style:w},l),s.a.createElement(j.a,{alt:"Person",component:d.a,src:n.user.avatar,className:Object(I.a)(p?m.small:m.large),to:"#"}),s.a.createElement(k.a,{flexGrow:1,p:2,ml:2,bgcolor:"background.dark",className:m.bubble},s.a.createElement(k.a,{display:"flex",alignItems:"center",className:m.header,mb:1},s.a.createElement(k.a,{className:m.name},s.a.createElement(x.a,{color:"textPrimary",component:d.a,to:"#",variant:"h6"},n.user.name)),s.a.createElement(k.a,{flexGrow:1}),s.a.createElement(G.a,{id:n._id,size:"small",className:m.replybtn,onClick:function(e){var a=n.depth+1;c(e.currentTarget.id,a)},disabled:E.disable,startIcon:s.a.createElement(A.a,{size:"20",className:E.reply?m.replyClickIcon:m.replyIcon})},"Reply"),s.a.createElement(O.a,{color:"textSecondary",variant:"caption"},f()(n.createdAt).fromNow())),s.a.createElement(O.a,{variant:"body1",color:"textPrimary"},n.comment)))},J=t(147),q=t(351),K=t(1236),Q=t.n(K),X=t(1235),Y=t.n(X),Z=t(1287),$=t.n(Z),ee=Object(b.a)((function(e){return{root:Object(l.a)({alignItems:"center",display:"flex"},e.breakpoints.down("sm"),{flexWrap:"wrap"}),inputContainer:Object(l.a)({flexGrow:1,marginLeft:e.spacing(2),paddingBottom:e.spacing(.5),paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5),paddingTop:e.spacing(.5)},e.breakpoints.down("sm"),{width:"100%"}),divider:{height:24,width:1},fileInput:{display:"none"}}})),ae=function(e){var a=e.className,t=e.post,n=e.status,l=e.onFetch,m=Object(B.a)(e,["className","post","status","onFetch"]),d=ee(),u=Object(z.a)().user,p=Object(J.b)().enqueueSnackbar,f=Object(g.a)(),b=Object(v.a)(f.breakpoints.down("sm")),h=Object(i.useRef)(null),k=Object(i.useState)(""),y=Object(o.a)(k,2),O=y[0],x=y[1],w=function(){var e=Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={parent:n.parent,post:t._id,depth:n.depth,comment:O},e.next=4,S.a.post("/comments/create",a);case 4:x(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.message&&p(e.t0.message,{variant:"error"});case 10:l();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=function(){h.current.click()};return s.a.createElement("div",Object.assign({className:Object(I.a)(d.root,a)},m),!b&&s.a.createElement(j.a,{alt:"Person",src:u?u.avatar:""}),s.a.createElement(E.a,{className:d.inputContainer,variant:"outlined"},s.a.createElement(q.a,{value:O,disableUnderline:!0,fullWidth:!0,multiline:!0,rows:3,onChange:function(e){e.persist(),x(e.target.value)}})),s.a.createElement(T.a,{title:"Send"},s.a.createElement("span",null,s.a.createElement(L.a,{color:O.length>0?"primary":"default",onClick:w,disabled:""===O},s.a.createElement(Q.a,null)))),s.a.createElement(N.a,{className:d.divider}),s.a.createElement(T.a,{title:"Attach image"},s.a.createElement(L.a,{edge:"end",onClick:_},s.a.createElement(Y.a,null))),s.a.createElement(T.a,{title:"Attach file"},s.a.createElement(L.a,{edge:"end",onClick:_},s.a.createElement($.a,null))),s.a.createElement("input",{className:d.fileInput,ref:h,type:"file"}))},te={depth:0,parent:null},ne=Object(b.a)((function(e){return{root:Object(l.a)({backgroundColor:e.palette.background.dark,margin:"0 auto",width:"80%",minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},e.breakpoints.down("sm"),{width:"100%"}),chip:{marginLeft:e.spacing(1),marginTop:e.spacing(1)},box:Object(l.a)({padding:e.spacing(7),flexGrow:1},e.breakpoints.down("sm"),{padding:e.spacing(3)}),author:{marginTop:e.spacing(2),display:"flex",alignItems:"center"},avatar:{marginRight:e.spacing(2)},content:Object(l.a)({fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(17),marginBottom:e.spacing(2)},e.breakpoints.down("sm"),{fontSize:e.typography.pxToRem(17)}),disclosure:Object(l.a)({fontFamily:e.typography.fontFamily,color:h.a.grey[500]},e.breakpoints.down("sm"),{fontSize:"0.9rem"})}}));a.default=function(){var e=ne(),a=Object(g.a)(),t=Object(m.g)(),n=Object(m.h)(),l=Object(z.a)(),p=l.user,b=l.isAuthenticated,h=Object(v.a)(a.breakpoints.down("md")),B=Object(i.useState)(),I=Object(o.a)(B,2),T=I[0],L=I[1],C=Object(i.useState)(te),R=Object(o.a)(C,2),P=R[0],M=R[1],A=Object(i.useState)(!1),F=Object(o.a)(A,2),V=F[0],G=F[1];Object(i.useEffect)((function(){U()}),[]);var U=function(){var e=Object(c.a)(r.a.mark((function e(){var a,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.pathname.split("/")[3],c=b&&{user:p._id},e.next=5,S.a.get("/posts/get/".concat(a),{params:c});case 5:o=e.sent,L(o.data.post),G(o.data.isBookmark),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t.push("/404");case 13:M(te);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),W=function(e){G(e)},J=function(e,a){var t=P.parent!==e?e:null;M({parent:t,depth:a})};return s.a.createElement(s.a.Fragment,null,T&&!h&&s.a.createElement(H,{post:T,isBookmarked:V,onBookmarked:W,className:"div"}),s.a.createElement(_.a,{className:e.root,title:T&&T.title?T.title:"Post"},s.a.createElement(E.a,null,T&&s.a.createElement(k.a,{mt:3,className:e.box},s.a.createElement(y.a,{container:!0,spacing:3},h&&s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{flexGrow:1}),s.a.createElement(H,{post:T,isBookmarked:V,onBookmarked:W})),s.a.createElement(y.a,{item:!0,xs:12,md:10},s.a.createElement(O.a,{variant:"h1",component:"header",color:"textPrimary"},T.title),s.a.createElement(k.a,{className:e.author},s.a.createElement(j.a,{alt:"Person",component:d.a,src:T.author.avatar,className:e.avatar,to:"/users/"+T.author.name}),s.a.createElement(O.a,{variant:"caption",color:"textSecondary"},s.a.createElement(x.a,{color:"textSecondary",component:d.a,to:"/users/"+T.author.name,variant:"h6"},T.author.name)," ",f()(T.createdAt).fromNow())),s.a.createElement(k.a,{mt:2},T.tags.map((function(a){return s.a.createElement(w.a,{key:a.symbol,variant:"outlined",label:a.symbol,className:e.chip})}))))),s.a.createElement(k.a,{mt:3,className:e.content},Object(u.a)(T.content)),s.a.createElement(N.a,null),s.a.createElement(k.a,{mt:3,className:e.disclosure},Object(u.a)(T.disclosure)))),T&&s.a.createElement(E.a,null,s.a.createElement(k.a,{mt:3,className:e.box},s.a.createElement(y.a,{container:!0,spacing:3},s.a.createElement(y.a,{item:!0,xs:12,md:12},T.comments.map((function(e){return s.a.createElement(s.a.Fragment,{key:e._id},s.a.createElement(D,{user:p,comment:e,reply:P.parent,onComment:J}))})),s.a.createElement(k.a,{my:2},s.a.createElement(N.a,null)),s.a.createElement(ae,{post:T,status:P,onFetch:U})))))))}}}]);
//# sourceMappingURL=12.b625386f.chunk.js.map