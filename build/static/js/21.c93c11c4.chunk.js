(this["webpackJsonpdankstocks-client"]=this["webpackJsonpdankstocks-client"]||[]).push([[21],{1347:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),o=a(33),c=a(11),l=a(23),i=a(359),s=a(0),m=a.n(s),u=a(3),p=a(21),d=a(8),b=a(1135),f=a(1114),y=a(1112),g=a(14),E=a(1100),v=a(1109),h=a(77),j=a(161),O=a(1101),k=a(1136),x=a(1137),N=a(1138),w=a(1102),P=a(1117),S=a(1079),C=a(1337),q=a(1338),B=a(1339),T=a(1329),D=a.n(T),z=a(1330),L=a.n(z),F=a(82),I=a(360),R=a(43),G=a(45),W=a(1224),A=a(1225),M=a(189),Y=a.n(M),J=a(1092),K=a(623),V=a(135),H=a(1113),Q=a(631),U=a(1200),X=a(1336),Z=Object(f.a)((function(e){return{root:{},addTab:{marginLeft:e.spacing(2)},tag:{"& + &":{marginLeft:e.spacing(1)}},datePicker:{"& + &":{marginLeft:e.spacing(2)}}}})),$={symbol:"",securityName:""},_=function(e){var t=e.className,a=e.post,n=e.onPost,i=e.onNext,p=Object(G.a)(e,["className","post","onPost","onNext"]),d=Z(),b=Object(s.useState)([]),f=Object(l.a)(b,2),y=f[0],g=f[1],E=Object(s.useState)(""),j=Object(l.a)(E,2),O=j[0],k=j[1],x=Object(s.useState)($),N=Object(l.a)(x,2),w=N[0],P=N[1];Object(s.useEffect)((function(){""!==O?function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.get("/stock/search/".concat(O));case 2:(t=e.sent).data&&t.data.length>0&&(a=t.data.map((function(e){return{symbol:e.symbol,securityName:e.securityName}})),g(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():g([])}),[O]);var C=function(e,t){var a=t.split(": ");P({symbol:a[0],securityName:a[1]})};return m.a.createElement(A.a,{initialValues:{title:a.title||"",tags:a.tags||[],submit:null},validationSchema:W.d().shape({title:W.f().min(3,"Must be at least 3 characters").max(255).required("Required"),tags:W.a().required()}),onSubmit:function(){var e=Object(c.a)(r.a.mark((function e(t,a){var o,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a.setErrors,c=a.setStatus,l=a.setSubmitting;try{console.log(t.tags),n({title:t.title.trim(),tags:t.tags}),c({success:!0}),l(!1),i&&i()}catch(r){c({success:!1}),o({submit:r.message}),l(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var a=e.errors,n=e.handleBlur,r=e.handleChange,c=e.handleSubmit,l=e.isSubmitting,i=e.setFieldValue,s=e.touched,b=e.values;return m.a.createElement("form",Object.assign({onSubmit:c,className:Object(u.a)(d.root,t),onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()}},p),m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Details"),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary"},"Do not spam tags. ",m.a.createElement("br",null),"Title should not be spammy. ",m.a.createElement("br",null),"Title and article contents may be subject to grammatical and punctual editing to ensure quality.")),m.a.createElement(v.a,{mt:2},m.a.createElement(J.a,{error:Boolean(s.title&&a.title),fullWidth:!0,helperText:s.title&&a.title,label:"Article Title",name:"title",placeholder:"Please type article title.",value:b.title,onBlur:n,onChange:r,variant:"outlined"}),m.a.createElement(v.a,{mt:3,display:"flex",alignItems:"center"},m.a.createElement(U.a,{freeSolo:!0,disableClearable:!0,options:y.map((function(e){return e.symbol+": "+e.securityName})),onChange:C,onKeyPress:function(e){if("Enter"===e.key){if(""===w.symbol||""===w.securityName)return;i("tags",[].concat(Object(R.a)(b.tags),[w])),P($),k("")}},value:O,renderInput:function(e){return m.a.createElement(J.a,Object.assign({},e,{fullWidth:!0,name:"tags",label:"Article Tags",placeholder:"Please choose at least one tag.",variant:"outlined",InputProps:Object(o.a)({},e.InputProps),style:{width:"52vw"},onChange:function(e){return k(e.target.value)}}))}}),m.a.createElement(K.a,{className:d.addTab,onClick:function(){""!==w.symbol&&""!==w.securityName&&(i("tags",[].concat(Object(R.a)(b.tags),[w])),P($),k(""))}},m.a.createElement(V.a,null,m.a.createElement(X.a,null)))),m.a.createElement(v.a,{mt:2},b.tags.map((function(e,t){return m.a.createElement(H.a,{variant:"outlined",key:t,label:e.symbol,className:d.tag,onDelete:function(){var t=b.tags.filter((function(t){return t.symbol!==e.symbol&&t.securityName!==e.securityName}));i("tags",t)}})}))),Boolean(s.tags&&a.tags)&&m.a.createElement(v.a,{mt:2},m.a.createElement(Q.a,{error:!0},a.tags))),m.a.createElement(v.a,{mt:6,display:"flex"},m.a.createElement(v.a,{flexGrow:1}),m.a.createElement(S.a,{color:"secondary",disabled:l,type:"submit",variant:"contained",size:"large"},"Next")))}))};_.defaultProps={onPost:function(){},onNext:function(){}};var ee=_,te=a(1314),ae=a.n(te),ne=Object(f.a)((function(e){return{root:{"& .ql-toolbar":{borderLeft:"none",borderTop:"none",borderRight:"none",borderBottom:"1px solid ".concat(e.palette.divider),"& .ql-picker-label:hover":{color:e.palette.secondary.main},"& .ql-picker-label.ql-active":{color:e.palette.secondary.main},"& .ql-picker-item:hover":{color:e.palette.secondary.main},"& .ql-picker-item.ql-selected":{color:e.palette.secondary.main},"& button:hover":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button:focus":{color:e.palette.secondary.main,"& .ql-stroke":{stroke:e.palette.secondary.main}},"& button.ql-active":{"& .ql-stroke":{stroke:e.palette.secondary.main}},"& .ql-stroke":{stroke:e.palette.text.primary},"& .ql-picker":{color:e.palette.text.primary},"& .ql-picker-options":{padding:e.spacing(2),backgroundColor:e.palette.background.default,border:"none",boxShadow:e.shadows[10],borderRadius:e.shape.borderRadius}},"& .ql-container":{border:"none","& .ql-editor":{fontFamily:e.typography.fontFamily,fontSize:16,color:e.palette.text.primary,"&.ql-blank::before":{color:e.palette.text.secondary}}}}}})),re=function(e){var t=e.className,a=Object(G.a)(e,["className"]),n=ne();return m.a.createElement(ae.a,Object.assign({className:Object(u.a)(n.root,t)},a))},oe=Object(f.a)((function(e){return{root:{},editorContainer:{marginTop:e.spacing(3)},editor:{"& .ql-editor":{height:400}}}})),ce=function(e){var t=e.className,a=e.post,n=e.onPost,o=e.onBack,i=e.onNext,p=Object(G.a)(e,["className","post","onPost","onBack","onNext"]),d=oe(),b=Object(s.useState)(a.content||""),f=Object(l.a)(b,2),y=f[0],g=f[1],E=Object(s.useState)(!1),O=Object(l.a)(E,2),k=O[0],x=O[1],N=Object(s.useState)(null),w=Object(l.a)(N,2),P=w[0],C=w[1],q=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{x(!0),n({content:y.trim()}),i&&i()}catch(a){C(a.message)}finally{x(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m.a.createElement("form",Object.assign({onSubmit:q,className:Object(u.a)(d.root,t)},p),m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Content"),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary"},"Do not advise people to make any financial decisions. ",m.a.createElement("br",null),"Plagiarism is not tolerated.")),m.a.createElement(j.a,{className:d.editorContainer,variant:"outlined"},m.a.createElement(re,{onChange:function(e){g(e)},value:y,className:d.editor})),P&&m.a.createElement(v.a,{mt:2},m.a.createElement(Q.a,{error:!0},Q.a)),m.a.createElement(v.a,{mt:6,display:"flex"},o&&m.a.createElement(S.a,{onClick:o,size:"large"},"Previous"),m.a.createElement(v.a,{flexGrow:1}),m.a.createElement(S.a,{color:"secondary",disabled:k,type:"submit",variant:"contained",size:"large"},"Next")))};ce.defaultProps={onPost:function(){},onNext:function(){},onBack:function(){}};var le=ce,ie=Object(f.a)((function(e){return{root:{},editorContainer:{marginTop:e.spacing(3)},editor:{"& .ql-editor":{height:300},"& .ql-toolbar":{"& .ql-formats > .ql-picker":{display:"none"}}}}})),se=function(e){var t=e.className,a=e.post,n=e.onPost,o=e.onBack,i=e.onNext,p=Object(G.a)(e,["className","post","onPost","onBack","onNext"]),d=ie(),b=Object(s.useState)(a.disclosure||""),f=Object(l.a)(b,2),y=f[0],g=f[1],E=Object(s.useState)(!1),O=Object(l.a)(E,2),k=O[0],x=O[1],N=Object(s.useState)(null),w=Object(l.a)(N,2),P=w[0],C=w[1],q=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{x(!0),n({disclosure:y.trim()}),i&&i()}catch(a){C(a.message)}finally{x(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m.a.createElement("form",Object.assign({onSubmit:q,className:Object(u.a)(d.root,t)},p),m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Disclosure"),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary"},"Let the readers know if you hold or do not hold any position in the companies you are talking about. Make sure to also let readers know if you are receiving compensation for the article. You may receive one from us if your article is approved and you may receive tips from readers.")),m.a.createElement(j.a,{className:d.editorContainer,variant:"outlined"},m.a.createElement(re,{onChange:function(e){g(e)},value:y,className:d.editor})),P&&m.a.createElement(v.a,{mt:2},m.a.createElement(Q.a,{error:!0},Q.a)),m.a.createElement(v.a,{mt:6,display:"flex"},o&&m.a.createElement(S.a,{onClick:o,size:"large"},"Previous"),m.a.createElement(v.a,{flexGrow:1}),m.a.createElement(S.a,{color:"secondary",disabled:k,type:"submit",variant:"contained",size:"large"},"Next")))};se.defaultProps={onPost:function(){},onNext:function(){},onBack:function(){}};var me=se,ue=a(1268),pe=a(1095),de=Object(f.a)((function(e){return{root:{},typeOption:{alignItems:"flex-start",display:"flex",marginBottom:e.spacing(2),padding:e.spacing(2)},stepButton:{"& + &":{marginLeft:e.spacing(2)}},chip:{marginLeft:e.spacing(1)},box:Object(i.a)({padding:e.spacing(7)},e.breakpoints.down("sm"),{padding:e.spacing(3)}),content:{fontFamily:e.typography.fontFamily,marginBottom:e.spacing(2)},disclosure:{fontFamily:e.typography.fontFamily,color:g.a.grey[500],fontSize:"0.9rem"}}})),be=function(e){var t=e.className,a=e.post,n=e.onBack,o=e.onComplete,i=Object(G.a)(e,["className","post","onBack","onComplete"]),p=de(),d=Object(s.useState)(!1),b=Object(l.a)(d,2),f=b[0],y=b[1],g=Object(s.useState)(null),E=Object(l.a)(g,2),j=E[0],k=E[1],x=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();try{y(!0),o&&o()}catch(a){k(a.message)}finally{y(!1)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m.a.createElement("form",Object.assign({onSubmit:x,className:Object(u.a)(p.root,t)},i),m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Review"),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary"},"Make sure everything looks good.")),m.a.createElement(v.a,{mt:3,border:1,className:p.box},m.a.createElement(O.a,{container:!0,spacing:3},m.a.createElement(O.a,{item:!0,xs:12,md:10},m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},a.title),m.a.createElement(v.a,{mt:3},m.a.createElement(v.a,{mt:1},a.tags.map((function(e){return m.a.createElement(H.a,{key:e.symbol,variant:"outlined",label:e.symbol,className:p.chip})})))))),m.a.createElement(v.a,{mt:3,className:p.content},Object(ue.a)(a.content)),m.a.createElement(pe.a,null),m.a.createElement(v.a,{mt:3,className:p.disclosure},Object(ue.a)(a.disclosure))),j&&m.a.createElement(v.a,{mt:2},m.a.createElement(Q.a,{error:!0},j)),m.a.createElement(v.a,{mt:6,display:"flex"},n&&m.a.createElement(S.a,{onClick:n,size:"large"},"Previous"),m.a.createElement(v.a,{flexGrow:1}),m.a.createElement(S.a,{color:"secondary",disabled:f,type:"submit",variant:"contained",size:"large"},"Complete")))};be.defaultProps={onComplete:function(){},onBack:function(){}};var fe=be,ye=[{label:"Details",icon:C.a},{label:"Content",icon:q.a},{label:"Disclosure",icon:D.a},{label:"Review",icon:L.a}],ge={slug:"",title:"",content:"",disclosure:"",tags:[]},Ee=Object(d.a)((function(e){return{vertical:{marginLeft:19,padding:0},line:{borderColor:e.palette.divider}}}))(b.a),ve=Object(f.a)((function(e){return{root:{},active:{backgroundColor:e.palette.secondary.main,boxShadow:e.shadows[10],color:e.palette.secondary.contrastText},completed:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}})),he=function(e){var t,a=e.active,n=e.completed,r=e.icon,o=ve(),c=ye[r-1].icon;return m.a.createElement(y.a,{className:Object(u.a)(o.root,(t={},Object(i.a)(t,o.active,a),Object(i.a)(t,o.completed,n),t))},m.a.createElement(c,{size:"20"}))},je=Object(f.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},avatar:{backgroundColor:g.a.red[600]},stepper:{backgroundColor:"transparent"}}}));t.default=function(){var e=je(),t=Object(s.useState)(0),a=Object(l.a)(t,2),n=a[0],i=a[1],u=Object(s.useState)(!1),d=Object(l.a)(u,2),b=d[0],f=d[1],g=Object(s.useState)(ge),C=Object(l.a)(g,2),q=C[0],T=C[1],D=function(){i((function(e){return e+1}))},z=function(){i((function(e){return e-1}))},L=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=/[^\w\s]/gi,a=q.title.replace(t,"").replace("/","-").split(" ").join("-").trim().toLowerCase(),e.next=4,F.a.post("/posts/new",Object(o.a)(Object(o.a)({},q),{},{slug:a}));case 4:f(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){T((function(t){return Object(o.a)(Object(o.a)({},t),e)}))};return m.a.createElement(I.a,{className:e.root,title:"Project Create"},m.a.createElement(E.a,{maxWidth:"lg"},m.a.createElement(v.a,{mb:3},m.a.createElement(h.a,{variant:"h3",color:"textPrimary"},"Post New Article")),b?m.a.createElement(w.a,null,m.a.createElement(P.a,null,m.a.createElement(v.a,{maxWidth:450,mx:"auto"},m.a.createElement(v.a,{display:"flex",justifyContent:"center"},m.a.createElement(y.a,{className:e.avatar},m.a.createElement(B.a,null))),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"h3",color:"textPrimary",align:"center"},"You are all done!")),m.a.createElement(v.a,{mt:2},m.a.createElement(h.a,{variant:"subtitle1",color:"textSecondary",align:"center"},"Thank you for submitting your contribution to us. Your article is now in review and we will come back to you with our final decision.")),m.a.createElement(v.a,{mt:2,display:"flex",justifyContent:"center"},m.a.createElement(S.a,{variant:"contained",color:"secondary",component:p.a,to:"/account/profile"},"Back to Profile"))))):m.a.createElement(j.a,null,m.a.createElement(O.a,{container:!0},m.a.createElement(O.a,{item:!0,xs:12,md:3},m.a.createElement(k.a,{activeStep:n,className:e.stepper,connector:m.a.createElement(Ee,null),orientation:"vertical"},ye.map((function(e){return m.a.createElement(x.a,{key:e.label},m.a.createElement(N.a,{StepIconComponent:he},e.label))})))),m.a.createElement(O.a,{item:!0,xs:12,md:9},m.a.createElement(v.a,{p:3},0===n&&m.a.createElement(ee,{post:q,onPost:R,onNext:D}),1===n&&m.a.createElement(le,{post:q,onPost:R,onBack:z,onNext:D}),2===n&&m.a.createElement(me,{post:q,onPost:R,onBack:z,onNext:D}),3===n&&m.a.createElement(fe,{post:q,onBack:z,onComplete:L})))))))}}}]);
//# sourceMappingURL=21.c93c11c4.chunk.js.map