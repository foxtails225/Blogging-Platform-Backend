(this["webpackJsonpblogging-platform-frontend"]=this["webpackJsonpblogging-platform-frontend"]||[]).push([[4],{1230:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(1110),o=t(1114),l=Object(c.a)((function(){return{root:{textAlign:"center"},icon:{display:"flex",height:"inherit",width:"inherit"}}}));a.a=function(e){var a=l();return r.a.createElement(o.a,{classes:{root:a.root},fontSize:"small"},r.a.createElement("img",Object.assign({alt:"Custom Icon",className:a.icon,src:e.src},e)))}},1312:function(e,a,t){"use strict";t.r(a);var n=t(7),r=t.n(n),c=t(11),o=t(23),l=t(0),i=t.n(l),s=t(1110),m=t(1096),u=t(1105),p=t(1123),d=t(1116),b=t(1095),g=t(133),E=t(83),f=t(354),v=t(45),h=t(355),j=t(22),O=t(4),y=t(14),x=t(1076),k=t(1108),N=t(76),w=t(1106),S=t(1081),C=t(620),P=t(1263),A=t.n(P),I=t(1264),z=t.n(I),G=Object(s.a)((function(e){var a;return{root:{},cover:{position:"relative",height:260,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center","&:before":{position:"absolute",content:'" "',top:0,left:0,height:"100%",width:"100%",backgroundImage:"linear-gradient(-180deg, rgba(0,0,0,0.00) 58%, rgba(0,0,0,0.32) 100%)"},"&:hover":{"& $changeButton":{visibility:"visible"}}},changeButton:(a={visibility:"hidden",position:"absolute",bottom:e.spacing(3),right:e.spacing(3),backgroundColor:y.a.blueGrey[900],color:e.palette.common.white},Object(h.a)(a,e.breakpoints.down("md"),{top:e.spacing(3),bottom:"auto"}),Object(h.a)(a,"&:hover",{backgroundColor:y.a.blueGrey[900]}),a),avatar:Object(h.a)({border:"2px solid ".concat(e.palette.common.white),height:120,width:120,top:-60,left:e.spacing(3),position:"absolute"},e.breakpoints.down("sm"),{height:100,width:100,left:e.spacing(1)}),action:{marginLeft:e.spacing(1)},bioBox:Object(h.a)({marginLeft:"160px"},e.breakpoints.down("sm"),{marginLeft:"120px"})}})),B=function(e){var a=e.className,t=e.profile,n=Object(v.a)(e,["className","profile"]),r=G();return i.a.createElement("div",Object.assign({className:Object(O.a)(r.root,a)},n),i.a.createElement("div",{className:r.cover,style:{backgroundImage:"url(".concat(t.cover,")")}},i.a.createElement(x.a,{className:r.changeButton,variant:"contained",startIcon:i.a.createElement(A.a,null)},"Change Cover")),i.a.createElement(m.a,{maxWidth:"lg"},i.a.createElement(u.a,{position:"relative",mt:1,display:"flex",alignItems:"center"},i.a.createElement(k.a,{alt:"Person",className:r.avatar,src:t.avatar}),i.a.createElement(u.a,{className:r.bioBox,mt:1},i.a.createElement(N.a,{variant:"h4",color:"textPrimary"},t.name),i.a.createElement(w.a,{smDown:!0},i.a.createElement(N.a,{variant:"overline",color:"textSecondary"},t.bio))),i.a.createElement(u.a,{flexGrow:1}),i.a.createElement(w.a,{smDown:!0},i.a.createElement(x.a,{color:"secondary",component:j.a,size:"small",to:"/account/setting",variant:"contained",className:r.action},"Edit Profile")),i.a.createElement(w.a,{mdUp:!0},i.a.createElement(S.a,{title:"More options"},i.a.createElement(C.a,{className:r.action},i.a.createElement(z.a,{fontSize:"small"}))))),i.a.createElement(w.a,{mdUp:!0},i.a.createElement(u.a,{textAlign:"center"},i.a.createElement(N.a,{variant:"overline",color:"textSecondary"},t.bio)))))},T=t(1097),L=t(82),R=t(3),_=t.n(R),D=t(1301),U=t(1098),F=t(1099),J=t(1075),W=t(1265),H=t.n(W),M=t(1231),$=t.n(M),q=t(1183),K=t(1230),Q=Object(s.a)((function(){return{root:{display:"flex",alignItems:"center"},iconRoot:{textAlign:"center"},likedButton:{color:y.a.red[600]},likedIcon:{display:"flex",height:"inherit",width:"inherit"},commentIcon:{color:y.a.grey[500]}}})),V=function(e){var a=e.className,t=e.author,n=e.post,r=Object(v.a)(e,["className","author","post"]),c=Q(),s=Object(l.useState)(!1),m=Object(o.a)(s,2),p=m[0],d=m[1],b=Object(l.useState)(n.liked.count),g=Object(o.a)(b,2),E=g[0],f=g[1],h=function(){d(!0),f((function(e){return e+1}))};return i.a.createElement("div",Object.assign({className:Object(O.a)(c.root,a)},r),t&&i.a.createElement(C.a,{onClick:h,disabled:t},i.a.createElement(K.a,{src:"/static/icons/trending_outlined.svg"})),!t&&i.a.createElement(i.a.Fragment,null,p?i.a.createElement(S.a,{title:"Unlike"},i.a.createElement(C.a,{className:c.likedButton,onClick:function(){d(!1),f((function(e){return e-1}))}},i.a.createElement(K.a,{src:"/static/icons/trending_filled.svg"}))):i.a.createElement(S.a,{title:"Like"},i.a.createElement(C.a,{onClick:h},i.a.createElement(K.a,{src:"/static/icons/trending_outlined.svg"})))),i.a.createElement(N.a,{color:"textSecondary",variant:"h6"},E),i.a.createElement(u.a,{ml:2,mr:1,marginTop:"2px"},i.a.createElement(q.a,{className:c.commentIcon,size:"20"})),i.a.createElement(N.a,{color:"textSecondary",variant:"h6"},E),i.a.createElement(u.a,{flexGrow:1}),i.a.createElement(C.a,null,i.a.createElement($.a,{fontSize:"small"})))},X=Object(s.a)((function(e){return{root:{},date:{marginLeft:6},media:{height:500,backgroundPosition:"top"},title:Object(h.a)({marginLeft:e.spacing(5),marginRight:e.spacing(5)},e.breakpoints.down("sm"),{marginLeft:e.spacing(1),marginRight:e.spacing(1)})}})),Y=function(e){var a=e.className,t=e.author,n=e.post,r=Object(v.a)(e,["className","author","post"]),c=X(),s=Object(l.useState)(null),m=Object(o.a)(s,2),p=m[0],d=m[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,Object.assign({className:Object(O.a)(c.root,a)},r),i.a.createElement(F.a,{avatar:i.a.createElement(k.a,{alt:"Person",component:j.a,src:"string"!==typeof n.author&&n.author.avatar,to:"#"}),disableTypography:!0,subheader:i.a.createElement(u.a,{display:"flex",alignItems:"center"},i.a.createElement(H.a,{fontSize:"small"}),i.a.createElement(N.a,{variant:"caption",color:"textSecondary",className:c.date},_()(n.createdAt).fromNow())),title:i.a.createElement(J.a,{color:"textPrimary",component:j.a,to:"#",variant:"h6"},"string"!==typeof n.author&&n.author.name)}),i.a.createElement(u.a,{px:3,pb:1,className:c.title},i.a.createElement(J.a,{color:"textPrimary",component:j.a,to:"/posts/"+n.slug,variant:"h3"},n.title)),i.a.createElement(u.a,{mt:2,pb:2,px:3},i.a.createElement(V,{post:n,author:t}))),p&&i.a.createElement(D.a,{large:p,onClose:function(){return d(null)}}))},Z=t(42),ee=t(1113),ae=t(616),te=t(617),ne=t(1082),re=t(1083),ce=t(1109),oe=t(1266),le=t.n(oe),ie=t(1267),se=t.n(ie),me=t(1305),ue={published:0,pending:0,comments:0,tags:0},pe=Object(s.a)((function(e){return{root:{},blueAvatar:{backgroundColor:e.palette.secondary.main},redAvatar:{backgroundColor:y.a.red[600]},cardContent:{paddingTop:0}}})),de=function(e){var a=e.className,t=(e.profile,Object(v.a)(e,["className","profile"])),n=Object(l.useState)(ue),s=Object(o.a)(n,2),m=s[0],p=s[1],d=Object(Z.g)(),E=pe();Object(l.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/account/status");case 2:a=e.sent,p(a.data.status);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return i.a.createElement("div",Object.assign({className:Object(O.a)(E.root,a)},t),i.a.createElement(u.a,{mt:2},i.a.createElement(U.a,null,i.a.createElement(F.a,{title:"Profile Status"}),i.a.createElement(b.a,null),i.a.createElement(ee.a,{className:E.cardContent},i.a.createElement(ae.a,null,i.a.createElement(te.a,{disableGutters:!0,divider:!0},i.a.createElement(ne.a,null,i.a.createElement(k.a,{className:E.blueAvatar},i.a.createElement(le.a,null))),i.a.createElement(re.a,{primary:"".concat(m.published," posts published"),primaryTypographyProps:{variant:"body2",color:"textSecondary"}}),i.a.createElement(ce.a,{color:"secondary",size:"small",label:"Contribute",onClick:function(){return d.push("/posts/new")}})),i.a.createElement(te.a,{disableGutters:!0,divider:!0},i.a.createElement(ne.a,null,i.a.createElement(k.a,{className:E.blueAvatar},i.a.createElement(se.a,null))),i.a.createElement(re.a,{primary:"".concat(m.pending," posts pended"),primaryTypographyProps:{variant:"body2",color:"textSecondary"}})),i.a.createElement(te.a,{disableGutters:!0,divider:!0},i.a.createElement(ne.a,null,i.a.createElement(k.a,{className:E.redAvatar},i.a.createElement(q.a,null))),i.a.createElement(re.a,{primary:"".concat(m.comments," comments written"),primaryTypographyProps:{variant:"body2",color:"textSecondary"}})),i.a.createElement(te.a,{disableGutters:!0,divider:!0},i.a.createElement(ne.a,null,i.a.createElement(k.a,{className:E.redAvatar},i.a.createElement(me.a,{size:22}))),i.a.createElement(re.a,{primary:"".concat(m.tags," tag followed"),primaryTypographyProps:{variant:"body2",color:"textSecondary"}})))))))},be=t(596),ge=t.n(be),Ee=t(16),fe=t(240),ve=Object(s.a)((function(e){return{root:{},item:{padding:e.spacing(3),flexGrow:1,"&:first-of-type":{borderRight:"1px solid ".concat(e.palette.divider)}}}})),he=function(e){var a=e.className,t=Object(v.a)(e,["className"]),n=ve(),s=Object(E.a)(),m=Object(l.useState)([]),p=Object(o.a)(m,2),d=p[0],g=p[1],f=Object(l.useCallback)(Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.a.get("/api/reports/customer-activity");case 3:a=e.sent,s.current&&g(a.data.activities),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[s]);return Object(l.useEffect)((function(){f()}),[f]),i.a.createElement(U.a,Object.assign({className:Object(O.a)(n.root,a)},t),i.a.createElement(F.a,{title:"Recent Comments"}),i.a.createElement(b.a,null),i.a.createElement(ae.a,{disablePadding:!0},d.map((function(e,a){return i.a.createElement(te.a,{divider:a<d.length-1,key:e.id},i.a.createElement(ne.a,null,i.a.createElement(k.a,{alt:"Customer",component:j.a,src:e.customer.avatar,to:"#"},Object(fe.a)(e.customer.name))),i.a.createElement(re.a,{disableTypography:!0,primary:i.a.createElement(J.a,{color:"textPrimary",component:j.a,to:"#",underline:"none",variant:"h6"},e.customer.name),secondary:i.a.createElement(N.a,{variant:"body2",color:"textSecondary"},e.description)}))}))),i.a.createElement(b.a,null),i.a.createElement(u.a,{p:2,display:"flex",justifyContent:"flex-end"},i.a.createElement(x.a,{component:j.a,size:"small",to:"#",endIcon:i.a.createElement(ge.a,null)},"See all")))},je=Object(s.a)((function(){return{root:{}}})),Oe=function(e){var a=e.className,t=e.profile,n=Object(v.a)(e,["className","profile"]),s=je(),m=Object(E.a)(),p=Object(L.a)().user,d=Object(l.useState)([]),b=Object(o.a)(d,2),f=b[0],h=b[1],j=Object(l.useState)(!1),y=Object(o.a)(j,2),x=y[0],k=y[1],N=Object(l.useState)(1),w=Object(o.a)(N,2),S=w[0],C=w[1],P=Object(l.useCallback)(Object(c.a)(r.a.mark((function e(){var a,t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={email:p.email,page:S},e.next=4,g.a.post("/posts/all/",a);case 4:t=e.sent,m.current&&(n=t.data,h(n.posts),k(n.isAuthor),C(n.page)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[m,p,S]);return Object(l.useEffect)((function(){P()}),[P]),i.a.createElement("div",Object.assign({className:Object(O.a)(s.root,a)},n),i.a.createElement(T.a,{container:!0,spacing:3},i.a.createElement(T.a,{item:!0,xs:12,md:6,lg:4},i.a.createElement(T.a,{container:!0,spacing:3},i.a.createElement(T.a,{item:!0,xs:12,md:12,lg:12},i.a.createElement(de,{profile:t})),i.a.createElement(T.a,{item:!0,xs:12,md:12,lg:12},i.a.createElement(he,null)))),i.a.createElement(T.a,{item:!0,xs:12,md:6,lg:8},f.map((function(e){return i.a.createElement(u.a,{mt:2,key:e._id},i.a.createElement(Y,{post:e,author:x}))})))))},ye=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%"}}}));a.default=function(){var e=ye(),a=Object(E.a)(),t=Object(l.useState)("profile"),n=Object(o.a)(t,2),s=n[0],v=n[1],h=Object(l.useState)(null),j=Object(o.a)(h,2),O=j[0],y=j[1],x=Object(l.useCallback)(Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/account/about");case 3:t=e.sent,a.current&&y(t.data.user),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a]);return Object(l.useEffect)((function(){x()}),[x]),O?i.a.createElement(f.a,{className:e.root,title:"Profile"},i.a.createElement(B,{profile:O}),i.a.createElement(m.a,{maxWidth:"lg"},i.a.createElement(u.a,{mt:3},i.a.createElement(p.a,{onChange:function(e,a){v(a)},scrollButtons:"auto",value:s,textColor:"secondary",variant:"scrollable"},[{value:"profile",label:"Profile"},{value:"reading",label:"reading list"},{value:"dashboard",label:"Dashboard"}].map((function(e){return i.a.createElement(d.a,{key:e.value,label:e.label,value:e.value})})))),i.a.createElement(b.a,null),i.a.createElement(u.a,{py:3,pb:6},"profile"===s&&i.a.createElement(Oe,{profile:O})))):null}}}]);
//# sourceMappingURL=4.96a1ec6b.chunk.js.map